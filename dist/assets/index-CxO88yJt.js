(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function M_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Af={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function JE(){if(ty)return Pl;ty=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Pl.Fragment=e,Pl.jsx=i,Pl.jsxs=i,Pl}var ey;function WE(){return ey||(ey=1,Af.exports=JE()),Af.exports}var I=WE(),bf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function tT(){if(ny)return St;ny=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=N&&C[N]||C["@@iterator"],typeof C=="function"?C:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,tt={};function J(C,$,it){this.props=C,this.context=$,this.refs=tt,this.updater=it||H}J.prototype.isReactComponent={},J.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function mt(){}mt.prototype=J.prototype;function ut(C,$,it){this.props=C,this.context=$,this.refs=tt,this.updater=it||H}var rt=ut.prototype=new mt;rt.constructor=ut,K(rt,J.prototype),rt.isPureReactComponent=!0;var Rt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},wt=Object.prototype.hasOwnProperty;function V(C,$,it,W,ft,bt){return it=bt.ref,{$$typeof:a,type:C,key:$,ref:it!==void 0?it:null,props:bt}}function b(C,$){return V(C.type,$,void 0,void 0,void 0,C.props)}function D(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function O(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return $[it]})}var M=/\/+/g;function L(C,$){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):$.toString(36)}function w(){}function Ae(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ee(C,$,it,W,ft){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(bt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case a:case e:vt=!0;break;case A:return vt=C._init,ee(vt(C._payload),$,it,W,ft)}}if(vt)return ft=ft(C),vt=W===""?"."+L(C,0):W,Rt(ft)?(it="",vt!=null&&(it=vt.replace(M,"$&/")+"/"),ee(ft,$,it,"",function(ue){return ue})):ft!=null&&(D(ft)&&(ft=b(ft,it+(ft.key==null||C&&C.key===ft.key?"":(""+ft.key).replace(M,"$&/")+"/")+vt)),$.push(ft)),1;vt=0;var me=W===""?".":W+":";if(Rt(C))for(var gt=0;gt<C.length;gt++)W=C[gt],bt=me+L(W,gt),vt+=ee(W,$,it,bt,ft);else if(gt=S(C),typeof gt=="function")for(C=gt.call(C),gt=0;!(W=C.next()).done;)W=W.value,bt=me+L(W,gt++),vt+=ee(W,$,it,bt,ft);else if(bt==="object"){if(typeof C.then=="function")return ee(Ae(C),$,it,W,ft);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return vt}function G(C,$,it){if(C==null)return C;var W=[],ft=0;return ee(C,W,"","",function(bt){return $.call(it,bt,ft++)}),W}function et(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function jt(){}return St.Children={map:G,forEach:function(C,$,it){G(C,function(){$.apply(this,arguments)},it)},count:function(C){var $=0;return G(C,function(){$++}),$},toArray:function(C){return G(C,function($){return $})||[]},only:function(C){if(!D(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=J,St.Fragment=i,St.Profiler=o,St.PureComponent=ut,St.StrictMode=s,St.Suspense=v,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ht.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,$,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=K({},C.props),ft=C.key,bt=void 0;if($!=null)for(vt in $.ref!==void 0&&(bt=void 0),$.key!==void 0&&(ft=""+$.key),$)!wt.call($,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&$.ref===void 0||(W[vt]=$[vt]);var vt=arguments.length-2;if(vt===1)W.children=it;else if(1<vt){for(var me=Array(vt),gt=0;gt<vt;gt++)me[gt]=arguments[gt+2];W.children=me}return V(C.type,ft,void 0,void 0,bt,W)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},St.createElement=function(C,$,it){var W,ft={},bt=null;if($!=null)for(W in $.key!==void 0&&(bt=""+$.key),$)wt.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ft[W]=$[W]);var vt=arguments.length-2;if(vt===1)ft.children=it;else if(1<vt){for(var me=Array(vt),gt=0;gt<vt;gt++)me[gt]=arguments[gt+2];ft.children=me}if(C&&C.defaultProps)for(W in vt=C.defaultProps,vt)ft[W]===void 0&&(ft[W]=vt[W]);return V(C,bt,void 0,void 0,null,ft)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:g,render:C}},St.isValidElement=D,St.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},St.memo=function(C,$){return{$$typeof:_,type:C,compare:$===void 0?null:$}},St.startTransition=function(C){var $=ht.T,it={};ht.T=it;try{var W=C(),ft=ht.S;ft!==null&&ft(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(jt,ot)}catch(bt){ot(bt)}finally{ht.T=$}},St.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},St.use=function(C){return ht.H.use(C)},St.useActionState=function(C,$,it){return ht.H.useActionState(C,$,it)},St.useCallback=function(C,$){return ht.H.useCallback(C,$)},St.useContext=function(C){return ht.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,$){return ht.H.useDeferredValue(C,$)},St.useEffect=function(C,$,it){var W=ht.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,$)},St.useId=function(){return ht.H.useId()},St.useImperativeHandle=function(C,$,it){return ht.H.useImperativeHandle(C,$,it)},St.useInsertionEffect=function(C,$){return ht.H.useInsertionEffect(C,$)},St.useLayoutEffect=function(C,$){return ht.H.useLayoutEffect(C,$)},St.useMemo=function(C,$){return ht.H.useMemo(C,$)},St.useOptimistic=function(C,$){return ht.H.useOptimistic(C,$)},St.useReducer=function(C,$,it){return ht.H.useReducer(C,$,it)},St.useRef=function(C){return ht.H.useRef(C)},St.useState=function(C){return ht.H.useState(C)},St.useSyncExternalStore=function(C,$,it){return ht.H.useSyncExternalStore(C,$,it)},St.useTransition=function(){return ht.H.useTransition()},St.version="19.1.0",St}var iy;function sd(){return iy||(iy=1,bf.exports=tT()),bf.exports}var $t=sd();const eT=M_($t);var Sf={exports:{}},jl={},Rf={exports:{}},wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function nT(){return ry||(ry=1,function(a){function e(G,et){var ot=G.length;G.push(et);t:for(;0<ot;){var jt=ot-1>>>1,C=G[jt];if(0<o(C,et))G[jt]=et,G[ot]=C,ot=jt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var et=G[0],ot=G.pop();if(ot!==et){G[0]=ot;t:for(var jt=0,C=G.length,$=C>>>1;jt<$;){var it=2*(jt+1)-1,W=G[it],ft=it+1,bt=G[ft];if(0>o(W,ot))ft<C&&0>o(bt,W)?(G[jt]=bt,G[ft]=ot,jt=ft):(G[jt]=W,G[it]=ot,jt=it);else if(ft<C&&0>o(bt,ot))G[jt]=bt,G[ft]=ot,jt=ft;else break t}}return et}function o(G,et){var ot=G.sortIndex-et.sortIndex;return ot!==0?ot:G.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,N=null,S=3,H=!1,K=!1,tt=!1,J=!1,mt=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function Rt(G){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=G)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function ht(G){if(tt=!1,Rt(G),!K)if(i(v)!==null)K=!0,wt||(wt=!0,L());else{var et=i(_);et!==null&&ee(ht,et.startTime-G)}}var wt=!1,V=-1,b=5,D=-1;function O(){return J?!0:!(a.unstable_now()-D<b)}function M(){if(J=!1,wt){var G=a.unstable_now();D=G;var et=!0;try{t:{K=!1,tt&&(tt=!1,ut(V),V=-1),H=!0;var ot=S;try{e:{for(Rt(G),N=i(v);N!==null&&!(N.expirationTime>G&&O());){var jt=N.callback;if(typeof jt=="function"){N.callback=null,S=N.priorityLevel;var C=jt(N.expirationTime<=G);if(G=a.unstable_now(),typeof C=="function"){N.callback=C,Rt(G),et=!0;break e}N===i(v)&&s(v),Rt(G)}else s(v);N=i(v)}if(N!==null)et=!0;else{var $=i(_);$!==null&&ee(ht,$.startTime-G),et=!1}}break t}finally{N=null,S=ot,H=!1}et=void 0}}finally{et?L():wt=!1}}}var L;if(typeof rt=="function")L=function(){rt(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ae=w.port2;w.port1.onmessage=M,L=function(){Ae.postMessage(null)}}else L=function(){mt(M,0)};function ee(G,et){V=mt(function(){G(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(G){switch(S){case 1:case 2:case 3:var et=3;break;default:et=S}var ot=S;S=et;try{return G()}finally{S=ot}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ot=S;S=G;try{return et()}finally{S=ot}},a.unstable_scheduleCallback=function(G,et,ot){var jt=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?jt+ot:jt):ot=jt,G){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,G={id:A++,callback:et,priorityLevel:G,startTime:ot,expirationTime:C,sortIndex:-1},ot>jt?(G.sortIndex=ot,e(_,G),i(v)===null&&G===i(_)&&(tt?(ut(V),V=-1):tt=!0,ee(ht,ot-jt))):(G.sortIndex=C,e(v,G),K||H||(K=!0,wt||(wt=!0,L()))),G},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(G){var et=S;return function(){var ot=S;S=et;try{return G.apply(this,arguments)}finally{S=ot}}}}(wf)),wf}var ay;function iT(){return ay||(ay=1,Rf.exports=nT()),Rf.exports}var Df={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function rT(){if(sy)return Ye;sy=1;var a=sd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ye.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Ye.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Ye.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ye.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,N=g(A,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:N,integrity:S,fetchPriority:H}):A==="script"&&s.d.X(v,{crossOrigin:N,integrity:S,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Ye.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,N=g(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:N,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Ye.requestFormReset=function(v){s.d.r(v)},Ye.unstable_batchedUpdates=function(v,_){return v(_)},Ye.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.1.0",Ye}var ly;function aT(){if(ly)return Df.exports;ly=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Df.exports=rT(),Df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function sT(){if(oy)return jl;oy=1;var a=iT(),e=sd(),i=aT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),mt=Symbol.for("react.provider"),ut=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case J:return"Profiler";case tt:return"StrictMode";case ht:return"Suspense";case wt:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case rt:return(t.displayName||"Context")+".Provider";case ut:return(t._context.displayName||"Context")+".Consumer";case Rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:Ae(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Ae(t(n))}catch{}}return null}var ee=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},jt=[],C=-1;function $(t){return{current:t}}function it(t){0>C||(t.current=jt[C],jt[C]=null,C--)}function W(t,n){C++,jt[C]=t.current,t.current=n}var ft=$(null),bt=$(null),vt=$(null),me=$(null);function gt(t,n){switch(W(vt,n),W(bt,t),W(ft,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Np(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Np(n),t=Cp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(ft),W(ft,t)}function ue(){it(ft),it(bt),it(vt)}function jn(t){t.memoizedState!==null&&W(me,t);var n=ft.current,r=Cp(n,t.type);n!==r&&(W(bt,t),W(ft,r))}function oi(t){bt.current===t&&(it(ft),it(bt)),me.current===t&&(it(me),Ol._currentValue=ot)}var Rr=Object.prototype.hasOwnProperty,wr=a.unstable_scheduleCallback,Dr=a.unstable_cancelCallback,Cs=a.unstable_shouldYield,uo=a.unstable_requestPaint,gn=a.unstable_now,Tc=a.unstable_getCurrentPriorityLevel,xs=a.unstable_ImmediatePriority,ya=a.unstable_UserBlockingPriority,Nr=a.unstable_NormalPriority,Ac=a.unstable_LowPriority,_a=a.unstable_IdlePriority,Is=a.log,co=a.unstable_setDisableYieldValue,se=null,Ht=null;function sn(t){if(typeof Is=="function"&&co(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,t)}catch{}}var Fe=Math.clz32?Math.clz32:Cr,ho=Math.log,bc=Math.LN2;function Cr(t){return t>>>=0,t===0?32:31-(ho(t)/bc|0)|0}var xr=256,Ir=4194304;function xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function va(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=xn(l):(y&=E,y!==0?c=xn(y):r||(r=E&~t,r!==0&&(c=xn(r))))):(E=l&~f,E!==0?c=xn(E):y!==0?c=xn(y):r||(r=l&~t,r!==0&&(c=xn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Or(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Os(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(){var t=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),t}function Ms(){var t=Ir;return Ir<<=1,(Ir&62914560)===0&&(Ir=4194304),t}function ui(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ci(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ls(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=y&~r;0<r;){var F=31-Fe(r),X=1<<F;E[F]=0,R[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var k=B[F];k!==null&&(k.lane&=-536870913)}r&=~X}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function zn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Us(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Fe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Pi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ea(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ji(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Xp(t.type))}function fo(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var ne=Math.random().toString(36).slice(2),be="__reactFiber$"+ne,ge="__reactProps$"+ne,pn="__reactContainer$"+ne,Ps="__reactEvents$"+ne,Sc="__reactListeners$"+ne,zi="__reactHandles$"+ne,mo="__reactResources$"+ne,Vr="__reactMarker$"+ne;function Bi(t){delete t[be],delete t[ge],delete t[Ps],delete t[Sc],delete t[zi]}function hi(t){var n=t[be];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pn]||r[be]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Vp(t);t!==null;){if(r=t[be])return r;t=Vp(t)}return n}t=r,r=t.parentNode}return null}function Bn(t){if(t=t[be]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function $e(t){var n=t[mo];return n||(n=t[mo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Vr]=!0}var js=new Set,Ta={};function In(t,n){fi(t,n),fi(t+"Capture",n)}function fi(t,n){for(Ta[t]=n,t=0;t<n.length;t++)js.add(n[t])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},Mr={};function yo(t){return Rr.call(Mr,t)?!0:Rr.call(po,t)?!1:go.test(t)?Mr[t]=!0:(po[t]=!0,!1)}function ki(t,n,r){if(yo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function qn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Pe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Lr,_o;function di(t){if(Lr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Lr=n&&n[1]||"",_o=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lr+t+_o}var Aa=!1;function ba(t,n){if(!t||Aa)return"";Aa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(k){var B=k}Reflect.construct(t,[],X)}else{try{X.call()}catch(k){B=k}t.call(X.prototype)}}else{try{throw Error()}catch(k){B=k}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===z.length)for(l=R.length-1,c=z.length-1;1<=l&&0<=c&&R[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==z[c]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Aa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?di(r):""}function zs(t){switch(t.tag){case 26:case 27:case 5:return di(t.type);case 16:return di("Lazy");case 13:return di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return ba(t.type,!1);case 11:return ba(t.type.render,!1);case 1:return ba(t.type,!0);case 31:return di("Activity");default:return""}}function Sa(t){try{var n="";do n+=zs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Rc(t){var n=Bs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ra(t){t._valueTracker||(t._valueTracker=Rc(t))}function ks(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Bs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ur(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wc=/[\n"\\]/g;function pe(t){return t.replace(wc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Je(n)):t.value!==""+Je(n)&&(t.value=""+Je(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qi(t,y,Je(n)):r!=null?qi(t,y,Je(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Je(E):t.removeAttribute("name")}function Pr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Je(r):"",n=n!=null?""+Je(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function qi(t,n,r){n==="number"&&Ur(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function mi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Je(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Je(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Je(r):""}function jr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Je(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||zr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function qs(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&vo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&vo(t,f,n[f])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return Nc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gi=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pi=null,yi=null;function Gs(t){var n=Bn(t);if(n&&(t=n.stateNode)){var r=t[ge]||null;t:switch(t=n.stateNode,n.type){case"input":if(ln(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ge]||null;if(!c)throw Error(s(90));ln(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&ks(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&mi(t,!!r.multiple,n,!1)}}}var Hn=!1;function Eo(t,n,r){if(Hn)return t(n,r);Hn=!0;try{var l=t(n);return l}finally{if(Hn=!1,(pi!==null||yi!==null)&&(du(),pi&&(n=pi,t=yi,yi=pi=null,Gs(n),t)))for(n=0;n<t.length;n++)Gs(t[n])}}function Br(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ge]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(On)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{vn=!1}var Gn=null,Hi=null,_i=null;function Fs(){if(_i)return _i;var t,n=Hi,r=n.length,l,c="value"in Gn?Gn.value:Gn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return _i=c.slice(t,1<l?1-l:void 0)}function Fn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function Qs(){return!1}function Ce(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:Qs,this.isPropagationStopped=Qs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=Ce(kt),qr=A({},kt,{view:0,detail:0}),To=Ce(qr),Na,Ca,Yn,Hr=A({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Na=t.screenX-Yn.screenX,Ca=t.screenY-Yn.screenY):Ca=Na=0,Yn=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),En=Ce(Hr),Ao=A({},Hr,{dataTransfer:0}),Cc=Ce(Ao),Gr=A({},qr,{relatedTarget:0}),xa=Ce(Gr),Ys=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=Ce(Ys),bo=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oa=Ce(bo),xc=A({},kt,{data:0}),Xs=Ce(xc),Fr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},So={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ro={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ks(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ro[t])?!!n[t]:!1}function Qr(){return Ks}var wo=A({},qr,{key:function(t){if(t.key){var n=Fr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?So[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(t){return t.type==="keypress"?Fn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Va=Ce(wo),Do=A({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=Ce(Do),vi=A({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),No=Ce(vi),Co=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),xo=Ce(Co),Io=A({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=Ce(Io),We=A({},kt,{newState:0,oldState:0}),Oo=Ce(We),Vo=[9,13,27,32],Xn=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,p=On&&(!Xn||u&&8<u&&11>=u),T=" ",P=!1;function q(t,n){switch(t){case"keyup":return Vo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vt=!1;function Se(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(P=!0,T);case"textInput":return t=n.data,t===T&&P?null:t;default:return null}}function Mt(t,n){if(Vt)return t==="compositionend"||!Xn&&q(t,n)?(t=Fs(),_i=Hi=Gn=null,Vt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var xe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!xe[t.type]:n==="textarea"}function Ei(t,n,r,l){pi?yi?yi.push(l):yi=[l]:pi=l,n=vu(n,"onChange"),0<n.length&&(r=new Da("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var je=null,Kn=null;function $s(t){bp(t,0)}function Mo(t){var n=kn(t);if(ks(n))return t}function Gd(t,n){if(t==="change")return n}var Fd=!1;if(On){var Ic;if(On){var Oc="oninput"in document;if(!Oc){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),Oc=typeof Qd.oninput=="function"}Ic=Oc}else Ic=!1;Fd=Ic&&(!document.documentMode||9<document.documentMode)}function Yd(){je&&(je.detachEvent("onpropertychange",Xd),Kn=je=null)}function Xd(t){if(t.propertyName==="value"&&Mo(Kn)){var n=[];Ei(n,Kn,t,_n(t)),Eo($s,n)}}function N0(t,n,r){t==="focusin"?(Yd(),je=n,Kn=r,je.attachEvent("onpropertychange",Xd)):t==="focusout"&&Yd()}function C0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mo(Kn)}function x0(t,n){if(t==="click")return Mo(n)}function I0(t,n){if(t==="input"||t==="change")return Mo(n)}function O0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:O0;function Js(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Rr.call(n,c)||!on(t[c],n[c]))return!1}return!0}function Kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zd(t,n){var r=Kd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Kd(r)}}function $d(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?$d(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ur(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ur(t.document)}return n}function Vc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var V0=On&&"documentMode"in document&&11>=document.documentMode,La=null,Mc=null,Ws=null,Lc=!1;function Wd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lc||La==null||La!==Ur(l)||(l=La,"selectionStart"in l&&Vc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ws&&Js(Ws,l)||(Ws=l,l=vu(Mc,"onSelect"),0<l.length&&(n=new Da("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=La)))}function Yr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ua={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionrun:Yr("Transition","TransitionRun"),transitionstart:Yr("Transition","TransitionStart"),transitioncancel:Yr("Transition","TransitionCancel"),transitionend:Yr("Transition","TransitionEnd")},Uc={},tm={};On&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Xr(t){if(Uc[t])return Uc[t];if(!Ua[t])return t;var n=Ua[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in tm)return Uc[t]=n[r];return t}var em=Xr("animationend"),nm=Xr("animationiteration"),im=Xr("animationstart"),M0=Xr("transitionrun"),L0=Xr("transitionstart"),U0=Xr("transitioncancel"),rm=Xr("transitionend"),am=new Map,Pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pc.push("scrollEnd");function Vn(t,n){am.set(t,n),In(n,[t])}var sm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=sm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Sa(n)},sm.set(t,n),n)}return{value:t,source:n,stack:Sa(n)}}var An=[],Pa=0,jc=0;function Lo(){for(var t=Pa,n=jc=Pa=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&lm(r,c,f)}}function Uo(t,n,r,l){An[Pa++]=t,An[Pa++]=n,An[Pa++]=r,An[Pa++]=l,jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function zc(t,n,r,l){return Uo(t,n,r,l),Po(t)}function ja(t,n){return Uo(t,null,null,n),Po(t)}function lm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Fe(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Po(t){if(50<Sl)throw Sl=0,Fh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var za={};function P0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,r,l){return new P0(t,n,r,l)}function Bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ti(t,n){var r=t.alternate;return r===null?(r=un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function om(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function jo(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Bc(t)&&(y=1);else if(typeof t=="string")y=zE(t,r,ft.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=un(31,r,n,c),t.elementType=D,t.lanes=f,t;case K:return Kr(r.children,c,f,n);case tt:y=8,c|=24;break;case J:return t=un(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case ht:return t=un(13,r,n,c),t.elementType=ht,t.lanes=f,t;case wt:return t=un(19,r,n,c),t.elementType=wt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:case rt:y=10;break t;case ut:y=9;break t;case Rt:y=11;break t;case V:y=14;break t;case b:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=un(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=un(7,t,l,n),t.lanes=r,t}function kc(t,n,r){return t=un(6,t,null,n),t.lanes=r,t}function qc(t,n,r){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ba=[],ka=0,zo=null,Bo=0,bn=[],Sn=0,Zr=null,Ai=1,bi="";function $r(t,n){Ba[ka++]=Bo,Ba[ka++]=zo,zo=t,Bo=n}function um(t,n,r){bn[Sn++]=Ai,bn[Sn++]=bi,bn[Sn++]=Zr,Zr=t;var l=Ai;t=bi;var c=32-Fe(l)-1;l&=~(1<<c),r+=1;var f=32-Fe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ai=1<<32-Fe(n)+c|r<<c|l,bi=f+t}else Ai=1<<f|r<<c|l,bi=t}function Hc(t){t.return!==null&&($r(t,1),um(t,1,0))}function Gc(t){for(;t===zo;)zo=Ba[--ka],Ba[ka]=null,Bo=Ba[--ka],Ba[ka]=null;for(;t===Zr;)Zr=bn[--Sn],bn[Sn]=null,bi=bn[--Sn],bn[Sn]=null,Ai=bn[--Sn],bn[Sn]=null}var tn=null,le=null,Bt=!1,Jr=null,Zn=!1,Fc=Error(s(519));function Wr(t){var n=Error(s(418,""));throw nl(Tn(n,t)),Fc}function cm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[be]=t,n[ge]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<wl.length;r++)It(wl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Pr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),jr(n,l.value,l.defaultValue,l.children),Ra(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Dp(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Eu),n=!0):n=!1,n||Wr(t)}function hm(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:tn=tn.return}}function tl(t){if(t!==tn)return!1;if(!Bt)return hm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||of(t.type,t.memoizedProps)),r=!r),r&&le&&Wr(t),hm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){le=Ln(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,ar(t.type)?(t=ff,ff=null,le=t):le=n):le=tn?Ln(t.stateNode.nextSibling):null;return!0}function el(){le=tn=null,Bt=!1}function fm(){var t=Jr;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),Jr=null),t}function nl(t){Jr===null?Jr=[t]:Jr.push(t)}var Qc=$(null),ta=null,Si=null;function Gi(t,n,r){W(Qc,n._currentValue),n._currentValue=r}function Ri(t){t._currentValue=Qc.current,it(Qc)}function Yc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Xc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Yc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Yc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function il(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;on(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===me.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Xc(n,t,r,l),n.flags|=262144}function ko(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){ta=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qe(t){return dm(ta,t)}function qo(t,n){return ta===null&&ea(t),dm(t,n)}function dm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Si===null){if(t===null)throw Error(s(308));Si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Si=Si.next=n;return r}var j0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},z0=a.unstable_scheduleCallback,B0=a.unstable_NormalPriority,we={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kc(){return{controller:new j0,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&z0(B0,function(){t.controller.abort()})}var al=null,Zc=0,qa=0,Ha=null;function k0(t,n){if(al===null){var r=al=[];Zc=0,qa=Jh(),Ha={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Zc++,n.then(mm,mm),n}function mm(){if(--Zc===0&&al!==null){Ha!==null&&(Ha.status="fulfilled");var t=al;al=null,qa=0,Ha=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function q0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var gm=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&k0(t,n),gm!==null&&gm(t,n)};var na=$(null);function $c(){var t=na.current;return t!==null?t:Wt.pooledCache}function Ho(t,n){n===null?W(na,na.current):W(na,n.pool)}function pm(){var t=$c();return t===null?null:{parent:we._currentValue,pool:t}}var sl=Error(s(460)),ym=Error(s(474)),Go=Error(s(542)),Jc={then:function(){}};function _m(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fo(){}function vm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Fo,Fo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Tm(t),t;default:if(typeof n.status=="string")n.then(Fo,Fo);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Tm(t),t}throw ll=n,sl}}var ll=null;function Em(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}function Tm(t){if(t===sl||t===Go)throw Error(s(483))}var Fi=!1;function Wc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function th(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Po(t),lm(t,null,r),n}return Uo(t,l,n,r),Po(t)}function ol(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Us(t,r)}}function eh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var nh=!1;function ul(){if(nh){var t=Ha;if(t!==null)throw t}}function cl(t,n,r,l){nh=!1;var c=t.updateQueue;Fi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var X=c.baseState;y=0,F=z=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Lt&B)===B:(l&B)===B){B!==0&&B===qa&&(nh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=t,pt=E;B=n;var Kt=r;switch(pt.tag){case 1:if(Et=pt.payload,typeof Et=="function"){X=Et.call(Kt,X,B);break t}X=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=pt.payload,B=typeof Et=="function"?Et.call(Kt,X,B):Et,B==null)break t;X=A({},X,B);break t;case 2:Fi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=k,R=X):F=F.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);F===null&&(R=X),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),er|=y,t.lanes=y,t.memoizedState=X}}function Am(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function bm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Am(r[t],n)}var Ga=$(null),Qo=$(0);function Sm(t,n){t=Oi,W(Qo,t),W(Ga,n),Oi=t|n.baseLanes}function ih(){W(Qo,Oi),W(Ga,Ga.current)}function rh(){Oi=Qo.current,it(Ga),it(Qo)}var Xi=0,Dt=null,Yt=null,ye=null,Yo=!1,Fa=!1,ia=!1,Xo=0,hl=0,Qa=null,H0=0;function he(){throw Error(s(321))}function ah(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!on(t[r],n[r]))return!1;return!0}function sh(t,n,r,l,c,f){return Xi=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?lg:og,ia=!1,f=r(l,c),ia=!1,Fa&&(f=wm(n,r,l,c)),Rm(t),f}function Rm(t){G.H=tu;var n=Yt!==null&&Yt.next!==null;if(Xi=0,ye=Yt=Dt=null,Yo=!1,hl=0,Qa=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&ko(t)&&(Ie=!0))}function wm(t,n,r,l){Dt=t;var c=0;do{if(Fa&&(Qa=null),hl=0,Fa=!1,25<=c)throw Error(s(301));if(c+=1,ye=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Z0,f=n(r,l)}while(Fa);return f}function G0(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Dt.flags|=1024),n}function lh(){var t=Xo!==0;return Xo=0,t}function oh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function uh(t){if(Yo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yo=!1}Xi=0,ye=Yt=Dt=null,Fa=!1,hl=Xo=0,Qa=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Dt.memoizedState=ye=t:ye=ye.next=t,ye}function _e(){if(Yt===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=ye===null?Dt.memoizedState:ye.next;if(n!==null)ye=n,Yt=t;else{if(t===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ye===null?Dt.memoizedState=ye=t:ye=ye.next=t}return ye}function ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Qa===null&&(Qa=[]),t=vm(Qa,t,n),n=Dt,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?lg:og),t}function Ko(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===rt)return Qe(t)}throw Error(s(438,String(t)))}function hh(t){var n=null,r=Dt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ch(),Dt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=O;return n.index++,r}function wi(t,n){return typeof n=="function"?n(t):n}function Zo(t){var n=_e();return fh(n,Yt,t)}function fh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,z=n,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Lt&X)===X:(Xi&X)===X){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===qa&&(F=!0);else if((Xi&B)===B){z=z.next,B===qa&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=X,y=f):R=R.next=X,Dt.lanes|=B,er|=B;X=z.action,ia&&r(f,X),f=z.hasEagerState?z.eagerState:r(f,X)}else B={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=B,y=f):R=R.next=B,Dt.lanes|=X,er|=X;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=E,!on(f,t.memoizedState)&&(Ie=!0,F&&(r=Ha,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function dh(t){var n=_e(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);on(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Dm(t,n,r){var l=Dt,c=_e(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!on((Yt||c).memoizedState,r);y&&(c.memoizedState=r,Ie=!0),c=c.queue;var E=xm.bind(null,l,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==n||y||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,Ya(9,$o(),Cm.bind(null,l,c,r,n),null),Wt===null)throw Error(s(349));f||(Xi&124)!==0||Nm(l,n,r)}return r}function Nm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Dt.updateQueue,n===null?(n=ch(),Dt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Cm(t,n,r,l){n.value=r,n.getSnapshot=l,Im(n)&&Om(t)}function xm(t,n,r){return r(function(){Im(n)&&Om(t)})}function Im(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!on(t,r)}catch{return!0}}function Om(t){var n=ja(t,2);n!==null&&mn(n,t,2)}function mh(t){var n=en();if(typeof t=="function"){var r=t;if(t=r(),ia){sn(!0);try{r()}finally{sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},n}function Vm(t,n,r,l){return t.baseState=r,fh(t,Yt,typeof l=="function"?l:wi)}function F0(t,n,r,l,c){if(Wo(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Mm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Mm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var E=r(c,l),R=G.S;R!==null&&R(y,E),Lm(t,n,E)}catch(z){gh(t,n,z)}finally{G.T=f}}else try{f=r(c,l),Lm(t,n,f)}catch(z){gh(t,n,z)}}function Lm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Um(t,n,l)},function(l){return gh(t,n,l)}):Um(t,n,r)}function Um(t,n,r){n.status="fulfilled",n.value=r,Pm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Mm(t,r)))}function gh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Pm(n),n=n.next;while(n!==l)}t.action=null}function Pm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jm(t,n){return n}function zm(t,n){if(Bt){var r=Wt.formState;if(r!==null){t:{var l=Dt;if(Bt){if(le){e:{for(var c=le,f=Zn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Ln(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=Ln(c.nextSibling),l=c.data==="F!";break t}}Wr(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jm,lastRenderedState:n},r.queue=l,r=rg.bind(null,Dt,l),l.dispatch=r,l=mh(!1),f=Eh.bind(null,Dt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=F0.bind(null,Dt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Bm(t){var n=_e();return km(n,Yt,t)}function km(t,n,r){if(n=fh(t,n,jm)[0],t=Zo(wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(y){throw y===sl?Go:y}else l=n;n=_e();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Dt.flags|=2048,Ya(9,$o(),Q0.bind(null,c,r),null)),[l,f,t]}function Q0(t,n){t.action=n}function qm(t){var n=_e(),r=Yt;if(r!==null)return km(n,r,t);_e(),n=n.memoizedState,r=_e();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ya(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=ch(),Dt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function $o(){return{destroy:void 0,resource:void 0}}function Hm(){return _e().memoizedState}function Jo(t,n,r,l){var c=en();l=l===void 0?null:l,Dt.flags|=t,c.memoizedState=Ya(1|n,$o(),r,l)}function dl(t,n,r,l){var c=_e();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&ah(l,Yt.memoizedState.deps)?c.memoizedState=Ya(n,f,r,l):(Dt.flags|=t,c.memoizedState=Ya(1|n,f,r,l))}function Gm(t,n){Jo(8390656,8,t,n)}function Fm(t,n){dl(2048,8,t,n)}function Qm(t,n){return dl(4,2,t,n)}function Ym(t,n){return dl(4,4,t,n)}function Xm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Km(t,n,r){r=r!=null?r.concat([t]):null,dl(4,4,Xm.bind(null,n,t),r)}function ph(){}function Zm(t,n){var r=_e();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&ah(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function $m(t,n){var r=_e();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&ah(n,l[1]))return l[0];if(l=t(),ia){sn(!0);try{t()}finally{sn(!1)}}return r.memoizedState=[l,n],l}function yh(t,n,r){return r===void 0||(Xi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=tp(),Dt.lanes|=t,er|=t,r)}function Jm(t,n,r,l){return on(r,n)?r:Ga.current!==null?(t=yh(t,r,l),on(t,n)||(Ie=!0),t):(Xi&42)===0?(Ie=!0,t.memoizedState=r):(t=tp(),Dt.lanes|=t,er|=t,n)}function Wm(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,Eh(t,!1,n,r);try{var R=c(),z=G.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=q0(R,l);ml(t,n,F,dn(t))}else ml(t,n,l,dn(t))}catch(X){ml(t,n,{then:function(){},status:"rejected",reason:X},dn())}finally{et.p=f,G.T=y}}function Y0(){}function _h(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=tg(t).queue;Wm(t,c,n,ot,r===null?Y0:function(){return eg(t),r(l)})}function tg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function eg(t){var n=tg(t).next.queue;ml(t,n,{},dn())}function vh(){return Qe(Ol)}function ng(){return _e().memoizedState}function ig(){return _e().memoizedState}function X0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=dn();t=Qi(r);var l=Yi(n,t,r);l!==null&&(mn(l,n,r),ol(l,n,r)),n={cache:Kc()},t.payload=n;return}n=n.return}}function K0(t,n,r){var l=dn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Wo(t)?ag(n,r):(r=zc(t,n,r,l),r!==null&&(mn(r,t,l),sg(r,n,l)))}function rg(t,n,r){var l=dn();ml(t,n,r,l)}function ml(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wo(t))ag(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,on(E,y))return Uo(t,n,c,0),Wt===null&&Lo(),!1}catch{}finally{}if(r=zc(t,n,c,l),r!==null)return mn(r,t,l),sg(r,n,l),!0}return!1}function Eh(t,n,r,l){if(l={lane:2,revertLane:Jh(),action:l,hasEagerState:!1,eagerState:null,next:null},Wo(t)){if(n)throw Error(s(479))}else n=zc(t,r,l,2),n!==null&&mn(n,t,2)}function Wo(t){var n=t.alternate;return t===Dt||n!==null&&n===Dt}function ag(t,n){Fa=Yo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function sg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Us(t,r)}}var tu={readContext:Qe,use:Ko,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},lg={readContext:Qe,use:Ko,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:Qe,useEffect:Gm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Jo(4194308,4,Xm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Jo(4194308,4,t,n)},useInsertionEffect:function(t,n){Jo(4,2,t,n)},useMemo:function(t,n){var r=en();n=n===void 0?null:n;var l=t();if(ia){sn(!0);try{t()}finally{sn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=en();if(r!==void 0){var c=r(n);if(ia){sn(!0);try{r(n)}finally{sn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=K0.bind(null,Dt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=mh(t);var n=t.queue,r=rg.bind(null,Dt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:ph,useDeferredValue:function(t,n){var r=en();return yh(r,t,n)},useTransition:function(){var t=mh(!1);return t=Wm.bind(null,Dt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Dt,c=en();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Wt===null)throw Error(s(349));(Lt&124)!==0||Nm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Gm(xm.bind(null,l,f,t),[t]),l.flags|=2048,Ya(9,$o(),Cm.bind(null,l,f,r,n),null),r},useId:function(){var t=en(),n=Wt.identifierPrefix;if(Bt){var r=bi,l=Ai;r=(l&~(1<<32-Fe(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Xo++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=H0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:vh,useFormState:zm,useActionState:zm,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Eh.bind(null,Dt,!0,r),r.dispatch=n,[t,n]},useMemoCache:hh,useCacheRefresh:function(){return en().memoizedState=X0.bind(null,Dt)}},og={readContext:Qe,use:Ko,useCallback:Zm,useContext:Qe,useEffect:Fm,useImperativeHandle:Km,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:$m,useReducer:Zo,useRef:Hm,useState:function(){return Zo(wi)},useDebugValue:ph,useDeferredValue:function(t,n){var r=_e();return Jm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Zo(wi)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Dm,useId:ng,useHostTransitionStatus:vh,useFormState:Bm,useActionState:Bm,useOptimistic:function(t,n){var r=_e();return Vm(r,Yt,t,n)},useMemoCache:hh,useCacheRefresh:ig},Z0={readContext:Qe,use:Ko,useCallback:Zm,useContext:Qe,useEffect:Fm,useImperativeHandle:Km,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:$m,useReducer:dh,useRef:Hm,useState:function(){return dh(wi)},useDebugValue:ph,useDeferredValue:function(t,n){var r=_e();return Yt===null?yh(r,t,n):Jm(r,Yt.memoizedState,t,n)},useTransition:function(){var t=dh(wi)[0],n=_e().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Dm,useId:ng,useHostTransitionStatus:vh,useFormState:qm,useActionState:qm,useOptimistic:function(t,n){var r=_e();return Yt!==null?Vm(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:hh,useCacheRefresh:ig},Xa=null,gl=0;function eu(t){var n=gl;return gl+=1,Xa===null&&(Xa=[]),vm(Xa,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function nu(t,n){throw n.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){var n=t._init;return n(t._payload)}function cg(t){function n(U,x){if(t){var j=U.deletions;j===null?(U.deletions=[x],U.flags|=16):j.push(x)}}function r(U,x){if(!t)return null;for(;x!==null;)n(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function c(U,x){return U=Ti(U,x),U.index=0,U.sibling=null,U}function f(U,x,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<x?(U.flags|=67108866,x):j):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,x,j,Q){return x===null||x.tag!==6?(x=kc(j,U.mode,Q),x.return=U,x):(x=c(x,j),x.return=U,x)}function R(U,x,j,Q){var lt=j.type;return lt===K?F(U,x,j.props.children,Q,j.key):x!==null&&(x.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&ug(lt)===x.type)?(x=c(x,j.props),pl(x,j),x.return=U,x):(x=jo(j.type,j.key,j.props,null,U.mode,Q),pl(x,j),x.return=U,x)}function z(U,x,j,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=qc(j,U.mode,Q),x.return=U,x):(x=c(x,j.children||[]),x.return=U,x)}function F(U,x,j,Q,lt){return x===null||x.tag!==7?(x=Kr(j,U.mode,Q,lt),x.return=U,x):(x=c(x,j),x.return=U,x)}function X(U,x,j){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=kc(""+x,U.mode,j),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case S:return j=jo(x.type,x.key,x.props,null,U.mode,j),pl(j,x),j.return=U,j;case H:return x=qc(x,U.mode,j),x.return=U,x;case b:var Q=x._init;return x=Q(x._payload),X(U,x,j)}if(ee(x)||L(x))return x=Kr(x,U.mode,j,null),x.return=U,x;if(typeof x.then=="function")return X(U,eu(x),j);if(x.$$typeof===rt)return X(U,qo(U,x),j);nu(U,x)}return null}function B(U,x,j,Q){var lt=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return lt!==null?null:E(U,x,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===lt?R(U,x,j,Q):null;case H:return j.key===lt?z(U,x,j,Q):null;case b:return lt=j._init,j=lt(j._payload),B(U,x,j,Q)}if(ee(j)||L(j))return lt!==null?null:F(U,x,j,Q,null);if(typeof j.then=="function")return B(U,x,eu(j),Q);if(j.$$typeof===rt)return B(U,x,qo(U,j),Q);nu(U,j)}return null}function k(U,x,j,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(j)||null,E(x,U,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return U=U.get(Q.key===null?j:Q.key)||null,R(x,U,Q,lt);case H:return U=U.get(Q.key===null?j:Q.key)||null,z(x,U,Q,lt);case b:var Ct=Q._init;return Q=Ct(Q._payload),k(U,x,j,Q,lt)}if(ee(Q)||L(Q))return U=U.get(j)||null,F(x,U,Q,lt,null);if(typeof Q.then=="function")return k(U,x,j,eu(Q),lt);if(Q.$$typeof===rt)return k(U,x,j,qo(x,Q),lt);nu(x,Q)}return null}function Et(U,x,j,Q){for(var lt=null,Ct=null,ct=x,yt=x=0,Ve=null;ct!==null&&yt<j.length;yt++){ct.index>yt?(Ve=ct,ct=null):Ve=ct.sibling;var zt=B(U,ct,j[yt],Q);if(zt===null){ct===null&&(ct=Ve);break}t&&ct&&zt.alternate===null&&n(U,ct),x=f(zt,x,yt),Ct===null?lt=zt:Ct.sibling=zt,Ct=zt,ct=Ve}if(yt===j.length)return r(U,ct),Bt&&$r(U,yt),lt;if(ct===null){for(;yt<j.length;yt++)ct=X(U,j[yt],Q),ct!==null&&(x=f(ct,x,yt),Ct===null?lt=ct:Ct.sibling=ct,Ct=ct);return Bt&&$r(U,yt),lt}for(ct=l(ct);yt<j.length;yt++)Ve=k(ct,U,yt,j[yt],Q),Ve!==null&&(t&&Ve.alternate!==null&&ct.delete(Ve.key===null?yt:Ve.key),x=f(Ve,x,yt),Ct===null?lt=Ve:Ct.sibling=Ve,Ct=Ve);return t&&ct.forEach(function(cr){return n(U,cr)}),Bt&&$r(U,yt),lt}function pt(U,x,j,Q){if(j==null)throw Error(s(151));for(var lt=null,Ct=null,ct=x,yt=x=0,Ve=null,zt=j.next();ct!==null&&!zt.done;yt++,zt=j.next()){ct.index>yt?(Ve=ct,ct=null):Ve=ct.sibling;var cr=B(U,ct,zt.value,Q);if(cr===null){ct===null&&(ct=Ve);break}t&&ct&&cr.alternate===null&&n(U,ct),x=f(cr,x,yt),Ct===null?lt=cr:Ct.sibling=cr,Ct=cr,ct=Ve}if(zt.done)return r(U,ct),Bt&&$r(U,yt),lt;if(ct===null){for(;!zt.done;yt++,zt=j.next())zt=X(U,zt.value,Q),zt!==null&&(x=f(zt,x,yt),Ct===null?lt=zt:Ct.sibling=zt,Ct=zt);return Bt&&$r(U,yt),lt}for(ct=l(ct);!zt.done;yt++,zt=j.next())zt=k(ct,U,yt,zt.value,Q),zt!==null&&(t&&zt.alternate!==null&&ct.delete(zt.key===null?yt:zt.key),x=f(zt,x,yt),Ct===null?lt=zt:Ct.sibling=zt,Ct=zt);return t&&ct.forEach(function($E){return n(U,$E)}),Bt&&$r(U,yt),lt}function Kt(U,x,j,Q){if(typeof j=="object"&&j!==null&&j.type===K&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:t:{for(var lt=j.key;x!==null;){if(x.key===lt){if(lt=j.type,lt===K){if(x.tag===7){r(U,x.sibling),Q=c(x,j.props.children),Q.return=U,U=Q;break t}}else if(x.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&ug(lt)===x.type){r(U,x.sibling),Q=c(x,j.props),pl(Q,j),Q.return=U,U=Q;break t}r(U,x);break}else n(U,x);x=x.sibling}j.type===K?(Q=Kr(j.props.children,U.mode,Q,j.key),Q.return=U,U=Q):(Q=jo(j.type,j.key,j.props,null,U.mode,Q),pl(Q,j),Q.return=U,U=Q)}return y(U);case H:t:{for(lt=j.key;x!==null;){if(x.key===lt)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){r(U,x.sibling),Q=c(x,j.children||[]),Q.return=U,U=Q;break t}else{r(U,x);break}else n(U,x);x=x.sibling}Q=qc(j,U.mode,Q),Q.return=U,U=Q}return y(U);case b:return lt=j._init,j=lt(j._payload),Kt(U,x,j,Q)}if(ee(j))return Et(U,x,j,Q);if(L(j)){if(lt=L(j),typeof lt!="function")throw Error(s(150));return j=lt.call(j),pt(U,x,j,Q)}if(typeof j.then=="function")return Kt(U,x,eu(j),Q);if(j.$$typeof===rt)return Kt(U,x,qo(U,j),Q);nu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,x!==null&&x.tag===6?(r(U,x.sibling),Q=c(x,j),Q.return=U,U=Q):(r(U,x),Q=kc(j,U.mode,Q),Q.return=U,U=Q),y(U)):r(U,x)}return function(U,x,j,Q){try{gl=0;var lt=Kt(U,x,j,Q);return Xa=null,lt}catch(ct){if(ct===sl||ct===Go)throw ct;var Ct=un(29,ct,null,U.mode);return Ct.lanes=Q,Ct.return=U,Ct}finally{}}}var Ka=cg(!0),hg=cg(!1),Rn=$(null),$n=null;function Ki(t){var n=t.alternate;W(De,De.current&1),W(Rn,t),$n===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&($n=t)}function fg(t){if(t.tag===22){if(W(De,De.current),W(Rn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else Zi()}function Zi(){W(De,De.current),W(Rn,Rn.current)}function Di(t){it(Rn),$n===t&&($n=null),it(De)}var De=$(0);function iu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||hf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Th(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ah={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=dn(),c=Qi(l);c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(mn(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=dn(),c=Qi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Yi(t,c,l),n!==null&&(mn(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=dn(),l=Qi(r);l.tag=2,n!=null&&(l.callback=n),n=Yi(t,l,r),n!==null&&(mn(n,t,r),ol(n,t,r))}};function dg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Js(r,l)||!Js(c,f):!0}function mg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Ah.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function gg(t){ru(t)}function pg(t){console.error(t)}function yg(t){ru(t)}function au(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function _g(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bh(t,n,r){return r=Qi(r),r.tag=3,r.payload={element:null},r.callback=function(){au(t,n)},r}function vg(t){return t=Qi(t),t.tag=3,t}function Eg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){_g(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){_g(n,r,l),typeof c!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function $0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&il(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return $n===null?Yh():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Jc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Kh(t,l,c)),!1;case 22:return r.flags|=65536,l===Jc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Kh(t,l,c)),!1}throw Error(s(435,r.tag))}return Kh(t,l,c),Yh(),!1}if(Bt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Fc&&(t=Error(s(422),{cause:l}),nl(Tn(t,r)))):(l!==Fc&&(n=Error(s(423),{cause:l}),nl(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=bh(t.stateNode,l,c),eh(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,r),bl===null?bl=[f]:bl.push(f),oe!==4&&(oe=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=bh(r.stateNode,l,t),eh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=vg(c),Eg(c,t,r,l),eh(r,c),!1}r=r.return}while(r!==null);return!1}var Tg=Error(s(461)),Ie=!1;function ze(t,n,r,l){n.child=t===null?hg(n,null,r,l):Ka(n,t.child,r,l)}function Ag(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ea(n),l=sh(t,n,r,y,f,c),E=lh(),t!==null&&!Ie?(oh(t,n,c),Ni(t,n,c)):(Bt&&E&&Hc(n),n.flags|=1,ze(t,n,l,c),n.child)}function bg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Bc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Sg(t,n,f,l,c)):(t=jo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ih(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Js,r(y,l)&&t.ref===n.ref)return Ni(t,n,c)}return n.flags|=1,t=Ti(f,l),t.ref=n.ref,t.return=n,n.child=t}function Sg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Js(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,Ih(t,c))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Ni(t,n,c)}return Sh(t,n,r,l,c)}function Rg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return wg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ho(n,f!==null?f.cachePool:null),f!==null?Sm(n,f):ih(),fg(n);else return n.lanes=n.childLanes=536870912,wg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Ho(n,f.cachePool),Sm(n,f),Zi(),n.memoizedState=null):(t!==null&&Ho(n,null),ih(),Zi());return ze(t,n,c,r),n.child}function wg(t,n,r,l){var c=$c();return c=c===null?null:{parent:we._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Ho(n,null),ih(),fg(n),t!==null&&il(t,n,l,!0),null}function su(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Sh(t,n,r,l,c){return ea(n),r=sh(t,n,r,l,void 0,c),l=lh(),t!==null&&!Ie?(oh(t,n,c),Ni(t,n,c)):(Bt&&l&&Hc(n),n.flags|=1,ze(t,n,r,c),n.child)}function Dg(t,n,r,l,c,f){return ea(n),n.updateQueue=null,r=wm(n,l,r,c),Rm(t),l=lh(),t!==null&&!Ie?(oh(t,n,f),Ni(t,n,f)):(Bt&&l&&Hc(n),n.flags|=1,ze(t,n,r,f),n.child)}function Ng(t,n,r,l,c){if(ea(n),n.stateNode===null){var f=za,y=r.contextType;typeof y=="object"&&y!==null&&(f=Qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ah,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Wc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Qe(y):za,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Th(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ah.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=ra(r,E);f.props=R;var z=f.context,F=r.contextType;y=za,typeof F=="object"&&F!==null&&(y=Qe(F));var X=r.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&mg(n,f,l,y),Fi=!1;var B=n.memoizedState;f.state=B,cl(n,l,f,c),ul(),z=n.memoizedState,E||B!==z||Fi?(typeof X=="function"&&(Th(n,r,X,l),z=n.memoizedState),(R=Fi||dg(n,r,R,l,B,z,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,th(t,n),y=n.memoizedProps,F=ra(r,y),f.props=F,X=n.pendingProps,B=f.context,z=r.contextType,R=za,typeof z=="object"&&z!==null&&(R=Qe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||B!==R)&&mg(n,f,l,R),Fi=!1,B=n.memoizedState,f.state=B,cl(n,l,f,c),ul();var k=n.memoizedState;y!==X||B!==k||Fi||t!==null&&t.dependencies!==null&&ko(t.dependencies)?(typeof E=="function"&&(Th(n,r,E,l),k=n.memoizedState),(F=Fi||dg(n,r,F,l,B,k,R)||t!==null&&t.dependencies!==null&&ko(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,su(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ka(n,t.child,null,c),n.child=Ka(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ni(t,n,c),t}function Cg(t,n,r,l){return el(),n.flags|=256,ze(t,n,r,l),n.child}var Rh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wh(t){return{baseLanes:t,cachePool:pm()}}function Dh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function xg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(De.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Ki(n):Zi(),Bt){var E=le,R;if(R=E){t:{for(R=E,E=Zn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Ln(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Zr!==null?{id:Ai,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},R=un(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,tn=n,le=null,R=!0):R=!1}R||Wr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return hf(E)?n.lanes=32:n.lanes=536870912,null;Di(n)}return E=l.children,l=l.fallback,c?(Zi(),c=n.mode,E=lu({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=wh(r),c.childLanes=Dh(t,y,r),n.memoizedState=Rh,l):(Ki(n),Nh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ki(n),n.flags&=-257,n=Ch(t,n,r)):n.memoizedState!==null?(Zi(),n.child=t.child,n.flags|=128,n=null):(Zi(),c=l.fallback,E=n.mode,l=lu({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ka(n,t.child,null,r),l=n.child,l.memoizedState=wh(r),l.childLanes=Dh(t,y,r),n.memoizedState=Rh,n=c);else if(Ki(n),hf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(s(419)),l.stack="",l.digest=y,nl({value:l,source:null,stack:null}),n=Ch(t,n,r)}else if(Ie||il(t,n,r,!1),y=(r&t.childLanes)!==0,Ie||y){if(y=Wt,y!==null&&(l=r&-r,l=(l&42)!==0?1:Pi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,ja(t,l),mn(y,t,l),Tg;E.data==="$?"||Yh(),n=Ch(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,le=Ln(E.nextSibling),tn=n,Bt=!0,Jr=null,Zn=!1,t!==null&&(bn[Sn++]=Ai,bn[Sn++]=bi,bn[Sn++]=Zr,Ai=t.id,bi=t.overflow,Zr=n),n=Nh(n,l.children),n.flags|=4096);return n}return c?(Zi(),c=l.fallback,E=n.mode,R=t.child,z=R.sibling,l=Ti(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?c=Ti(z,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=wh(r):(R=E.cachePool,R!==null?(z=we._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=pm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=Dh(t,y,r),n.memoizedState=Rh,l):(Ki(n),r=t.child,t=r.sibling,r=Ti(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Nh(t,n){return n=lu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lu(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ch(t,n,r){return Ka(n,t.child,null,r),t=Nh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ig(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Yc(t.return,n,r)}function xh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Og(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=De.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ig(t,r,n);else if(t.tag===19)Ig(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(De,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&iu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),xh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&iu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}xh(n,!0,r,null,f);break;case"together":xh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ni(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),er|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(il(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ti(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ti(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ih(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ko(t)))}function J0(t,n,r){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),Gi(n,we,t.memoizedState.cache),el();break;case 27:case 5:jn(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ki(n),n.flags|=128,null):(r&n.child.childLanes)!==0?xg(t,n,r):(Ki(n),t=Ni(t,n,r),t!==null?t.sibling:null);Ki(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(il(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Og(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(De,De.current),l)break;return null;case 22:case 23:return n.lanes=0,Rg(t,n,r);case 24:Gi(n,we,t.memoizedState.cache)}return Ni(t,n,r)}function Vg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Ih(t,r)&&(n.flags&128)===0)return Ie=!1,J0(t,n,r);Ie=(t.flags&131072)!==0}else Ie=!1,Bt&&(n.flags&1048576)!==0&&um(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Bc(l)?(t=ra(l,t),n.tag=1,n=Ng(null,n,l,t,r)):(n.tag=0,n=Sh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Rt){n.tag=11,n=Ag(null,n,l,t,r);break t}else if(c===V){n.tag=14,n=bg(null,n,l,t,r);break t}}throw n=Ae(l)||l,Error(s(306,n,""))}}return n;case 0:return Sh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ra(l,n.pendingProps),Ng(t,n,l,c,r);case 3:t:{if(gt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,th(t,n),cl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Gi(n,we,l),l!==f.cache&&Xc(n,[we],r,!0),ul(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cg(t,n,l,r);break t}else if(l!==c){c=Tn(Error(s(424)),n),nl(c),n=Cg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=Ln(t.firstChild),tn=n,Bt=!0,Jr=null,Zn=!0,r=hg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(el(),l===c){n=Ni(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return su(t,n),t===null?(r=Pp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Tu(vt.current).createElement(r),l[be]=n,l[ge]=t,ke(l,r,t),ce(l),n.stateNode=l):n.memoizedState=Pp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return jn(n),t===null&&Bt&&(l=n.stateNode=Mp(n.type,n.pendingProps,vt.current),tn=n,Zn=!0,c=le,ar(n.type)?(ff=c,le=Ln(l.firstChild)):le=c),ze(t,n,n.pendingProps.children,r),su(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=le)&&(l=wE(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,tn=n,le=Ln(l.firstChild),Zn=!1,c=!0):c=!1),c||Wr(n)),jn(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,of(c,f)?l=null:y!==null&&of(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=sh(t,n,G0,null,null,r),Ol._currentValue=c),su(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=le)&&(r=DE(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,tn=n,le=null,t=!0):t=!1),t||Wr(n)),null;case 13:return xg(t,n,r);case 4:return gt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ka(n,null,l,r):ze(t,n,l,r),n.child;case 11:return Ag(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Gi(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ea(n),c=Qe(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return bg(t,n,n.type,n.pendingProps,r);case 15:return Sg(t,n,n.type,n.pendingProps,r);case 19:return Og(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=lu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ti(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Rg(t,n,r);case 24:return ea(n),l=Qe(we),t===null?(c=$c(),c===null&&(c=Wt,f=Kc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Wc(n),Gi(n,we,c)):((t.lanes&r)!==0&&(th(t,n),cl(n,null,null,r),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Gi(n,we,l)):(l=f.cache,Gi(n,we,l),l!==c.cache&&Xc(n,[we],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ci(t){t.flags|=4}function Mg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qp(n)){if(n=Rn.current,n!==null&&((Lt&4194048)===Lt?$n!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==$n))throw ll=Jc,ym;t.flags|=8192}}function ou(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ms():536870912,t.lanes|=n,Wa|=n)}function yl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function W0(t,n,r){var l=n.pendingProps;switch(Gc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ri(we),ue(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tl(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,fm())),re(n),null;case 26:return r=n.memoizedState,t===null?(Ci(n),r!==null?(re(n),Mg(n,r)):(re(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ci(n),re(n),Mg(n,r)):(re(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),re(n),n.flags&=-16777217),null;case 27:oi(n),r=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}t=ft.current,tl(n)?cm(n):(t=Mp(c,l,r),n.stateNode=t,Ci(n))}return re(n),null;case 5:if(oi(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(t=ft.current,tl(n))cm(n);else{switch(c=Tu(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[be]=n,t[ge]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ke(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=vt.current,tl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=tn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[be]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Dp(t.nodeValue,r)),t||Wr(n)}else t=Tu(t).createTextNode(l),t[be]=n,n.stateNode=t}return re(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[be]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),c=!1}else c=fm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Di(n),n):(Di(n),null)}if(Di(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),ou(n,n.updateQueue),re(n),null;case 4:return ue(),t===null&&nf(n.stateNode.containerInfo),re(n),null;case 10:return Ri(n.type),re(n),null;case 19:if(it(De),c=n.memoizedState,c===null)return re(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=iu(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,ou(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)om(r,t),r=r.sibling;return W(De,De.current&1|2),n.child}t=t.sibling}c.tail!==null&&gn()>hu&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=iu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ou(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return re(n),null}else 2*gn()-c.renderingStartTime>hu&&r!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,t=De.current,W(De,l?t&1|2:t&1),n):(re(n),null);case 22:case 23:return Di(n),rh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),r=n.updateQueue,r!==null&&ou(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&it(na),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ri(we),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function tE(t,n){switch(Gc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ri(we),ue(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return oi(n),null;case 13:if(Di(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(De),null;case 4:return ue(),null;case 10:return Ri(n.type),null;case 22:case 23:return Di(n),rh(),t!==null&&it(na),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ri(we),null;case 25:return null;default:return null}}function Lg(t,n){switch(Gc(n),n.tag){case 3:Ri(we),ue();break;case 26:case 27:case 5:oi(n);break;case 4:ue();break;case 13:Di(n);break;case 19:it(De);break;case 10:Ri(n.type);break;case 22:case 23:Di(n),rh(),t!==null&&it(na);break;case 24:Ri(we)}}function _l(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Zt(n,n.return,E)}}function $i(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=r,z=E;try{z()}catch(F){Zt(c,R,F)}}}l=l.next}while(l!==f)}}catch(F){Zt(n,n.return,F)}}function Ug(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{bm(n,r)}catch(l){Zt(t,t.return,l)}}}function Pg(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Zt(t,n,l)}}function vl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Zt(t,n,c)}}function Jn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Zt(t,n,c)}else r.current=null}function jg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Zt(t,t.return,c)}}function Oh(t,n,r){try{var l=t.stateNode;TE(l,t.type,r,n),l[ge]=n}catch(c){Zt(t,t.return,c)}}function zg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function Vh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||zg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Eu));else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Mh(t,n,r),t=t.sibling;t!==null;)Mh(t,n,r),t=t.sibling}function uu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(uu(t,n,r),t=t.sibling;t!==null;)uu(t,n,r),t=t.sibling}function Bg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,r),n[be]=t,n[ge]=r}catch(f){Zt(t,t.return,f)}}var xi=!1,fe=!1,Lh=!1,kg=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function eE(t,n){if(t=t.containerInfo,sf=Du,t=Jd(t),Vc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,z=0,F=0,X=t,B=null;e:for(;;){for(var k;X!==r||c!==0&&X.nodeType!==3||(E=y+c),X!==f||l!==0&&X.nodeType!==3||(R=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(k=X.firstChild)!==null;)B=X,X=k;for(;;){if(X===t)break e;if(B===r&&++z===c&&(E=y),B===f&&++F===l&&(R=y),(k=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=k}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(lf={focusedElem:t,selectionRange:r},Du=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Et=ra(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Zt(r,r.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)cf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}}function qg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(t,r),l&4&&_l(5,r);break;case 1:if(Ji(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Zt(r,r.return,y)}else{var c=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Zt(r,r.return,y)}}l&64&&Ug(r),l&512&&vl(r,r.return);break;case 3:if(Ji(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{bm(t,n)}catch(y){Zt(r,r.return,y)}}break;case 27:n===null&&l&4&&Bg(r);case 26:case 5:Ji(t,r),n===null&&l&4&&jg(r),l&512&&vl(r,r.return);break;case 12:Ji(t,r);break;case 13:Ji(t,r),l&4&&Fg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=cE.bind(null,r),NE(t,r))));break;case 22:if(l=r.memoizedState!==null||xi,!l){n=n!==null&&n.memoizedState!==null||fe,c=xi;var f=fe;xi=l,(fe=n)&&!f?Wi(t,r,(r.subtreeFlags&8772)!==0):Ji(t,r),xi=c,fe=f}break;case 30:break;default:Ji(t,r)}}function Hg(t){var n=t.alternate;n!==null&&(t.alternate=null,Hg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,nn=!1;function Ii(t,n,r){for(r=r.child;r!==null;)Gg(t,n,r),r=r.sibling}function Gg(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:fe||Jn(r,n),Ii(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||Jn(r,n);var l=ie,c=nn;ar(r.type)&&(ie=r.stateNode,nn=!1),Ii(t,n,r),Nl(r.stateNode),ie=l,nn=c;break;case 5:fe||Jn(r,n);case 6:if(l=ie,c=nn,ie=null,Ii(t,n,r),ie=l,nn=c,ie!==null)if(nn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{ie.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:ie!==null&&(nn?(t=ie,Op(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ul(t)):Op(ie,r.stateNode));break;case 4:l=ie,c=nn,ie=r.stateNode.containerInfo,nn=!0,Ii(t,n,r),ie=l,nn=c;break;case 0:case 11:case 14:case 15:fe||$i(2,r,n),fe||$i(4,r,n),Ii(t,n,r);break;case 1:fe||(Jn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Pg(r,n,l)),Ii(t,n,r);break;case 21:Ii(t,n,r);break;case 22:fe=(l=fe)||r.memoizedState!==null,Ii(t,n,r),fe=l;break;default:Ii(t,n,r)}}function Fg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(r){Zt(n,n.return,r)}}function nE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kg),n;default:throw Error(s(435,t.tag))}}function Uh(t,n){var r=nE(t);n.forEach(function(l){var c=hE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function cn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ar(E.type)){ie=E.stateNode,nn=!1;break t}break;case 5:ie=E.stateNode,nn=!1;break t;case 3:case 4:ie=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ie===null)throw Error(s(160));Gg(f,y,c),ie=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Qg(n,t),n=n.sibling}var Mn=null;function Qg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),hn(t),l&4&&($i(3,t,t.return),_l(3,t),$i(5,t,t.return));break;case 1:cn(n,t),hn(t),l&512&&(fe||r===null||Jn(r,r.return)),l&64&&xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Mn;if(cn(n,t),hn(t),l&512&&(fe||r===null||Jn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Vr]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,r),f[be]=t,ce(f),l=f;break t;case"link":var y=Bp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ke(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Bp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ke(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[be]=t,ce(f),l=f}t.stateNode=l}else kp(c,t.type,t.stateNode);else t.stateNode=zp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?kp(c,t.type,t.stateNode):zp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Oh(t,t.memoizedProps,r.memoizedProps)}break;case 27:cn(n,t),hn(t),l&512&&(fe||r===null||Jn(r,r.return)),r!==null&&l&4&&Oh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(cn(n,t),hn(t),l&512&&(fe||r===null||Jn(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(k){Zt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Oh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Lh=!0);break;case 6:if(cn(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){Zt(t,t.return,k)}}break;case 3:if(Su=null,c=Mn,Mn=Au(n.containerInfo),cn(n,t),Mn=c,hn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(n.containerInfo)}catch(k){Zt(t,t.return,k)}Lh&&(Lh=!1,Yg(t));break;case 4:l=Mn,Mn=Au(t.stateNode.containerInfo),cn(n,t),hn(t),Mn=l;break;case 12:cn(n,t),hn(t);break;case 13:cn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(qh=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uh(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=xi,F=fe;if(xi=z||c,fe=F||R,cn(n,t),fe=F,xi=z,hn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||xi||fe||aa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Zt(R,R.return,k)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){Zt(R,R.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Uh(t,r))));break;case 19:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Uh(t,l)));break;case 30:break;case 21:break;default:cn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(zg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Vh(t);uu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(yn(y,""),r.flags&=-33);var E=Vh(t);uu(t,E,y);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Vh(t);Mh(t,z,R);break;default:throw Error(s(161))}}catch(F){Zt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Yg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Yg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qg(t,n.alternate,n),n=n.sibling}function aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),aa(n);break;case 1:Jn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Pg(n,n.return,r),aa(n);break;case 27:Nl(n.stateNode);case 26:case 5:Jn(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}t=t.sibling}}function Wi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,r),_l(4,f);break;case 1:if(Wi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Am(R[c],E)}catch(z){Zt(l,l.return,z)}}r&&y&64&&Ug(f),vl(f,f.return);break;case 27:Bg(f);case 26:case 5:Wi(c,f,r),r&&l===null&&y&4&&jg(f),vl(f,f.return);break;case 12:Wi(c,f,r);break;case 13:Wi(c,f,r),r&&y&4&&Fg(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,r),vl(f,f.return);break;case 30:break;default:Wi(c,f,r)}n=n.sibling}}function Ph(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&rl(r))}function jh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function Wn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(t,n,r,l),n=n.sibling}function Xg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,r,l),c&2048&&_l(9,n);break;case 1:Wn(t,n,r,l);break;case 3:Wn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){Wn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else Wn(t,n,r,l);break;case 13:Wn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,r,l):El(t,n):f._visibility&2?Wn(t,n,r,l):(f._visibility|=2,Za(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ph(y,n);break;case 24:Wn(t,n,r,l),c&2048&&jh(n.alternate,n);break;default:Wn(t,n,r,l)}}function Za(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,R=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Za(f,y,E,R,c),_l(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Za(f,y,E,R,c):El(f,y):(F._visibility|=2,Za(f,y,E,R,c)),c&&z&2048&&Ph(y.alternate,y);break;case 24:Za(f,y,E,R,c),c&&z&2048&&jh(y.alternate,y);break;default:Za(f,y,E,R,c)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:El(r,l),c&2048&&Ph(l.alternate,l);break;case 24:El(r,l),c&2048&&jh(l.alternate,l);break;default:El(r,l)}n=n.sibling}}var Tl=8192;function $a(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 26:$a(t),t.flags&Tl&&t.memoizedState!==null&&kE(Mn,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var n=Mn;Mn=Au(t.stateNode.containerInfo),$a(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Tl,Tl=16777216,$a(t),Tl=n):$a(t));break;default:$a(t)}}function Zg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,Jg(l,t)}Zg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$g(t),t=t.sibling}function $g(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,cu(t)):Al(t);break;default:Al(t)}}function cu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Oe=l,Jg(l,t)}Zg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),cu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,cu(n));break;default:cu(n)}t=t.sibling}}function Jg(t,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:$i(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Oe=l;else t:for(r=t;Oe!==null;){l=Oe;var c=l.sibling,f=l.return;if(Hg(l),l===r){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}var iE={getCacheForType:function(t){var n=Qe(we),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},rE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,xt=null,Lt=0,Ft=0,fn=null,tr=!1,Ja=!1,zh=!1,Oi=0,oe=0,er=0,sa=0,Bh=0,wn=0,Wa=0,bl=null,rn=null,kh=!1,qh=0,hu=1/0,fu=null,nr=null,Be=0,ir=null,ts=null,es=0,Hh=0,Gh=null,Wg=null,Sl=0,Fh=null;function dn(){if((Gt&2)!==0&&Lt!==0)return Lt&-Lt;if(G.T!==null){var t=qa;return t!==0?t:Jh()}return ji()}function tp(){wn===0&&(wn=(Lt&536870912)===0||Bt?Vs():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function mn(t,n,r){(t===Wt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(ns(t,0),rr(t,Lt,wn,!1)),ci(t,r),((Gt&2)===0||t!==Wt)&&(t===Wt&&((Gt&2)===0&&(sa|=r),oe===4&&rr(t,Lt,wn,!1)),ti(t))}function ep(t,n,r){if((Gt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Or(t,n),c=l?lE(t,n):Xh(t,n,!0),f=l;do{if(c===0){Ja&&!l&&rr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!aE(r)){c=Xh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=bl;var R=E.current.memoizedState.isDehydrated;if(R&&(ns(E,y).flags|=256),y=Xh(E,y,!1),y!==2){if(zh&&!R){E.errorRecoveryDisabledLanes|=f,sa|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ns(t,0),rr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:rr(l,n,wn,!tr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=qh+300-gn(),10<c)){if(rr(l,n,wn,!tr),va(l,0,!0)!==0)break t;l.timeoutHandle=xp(np.bind(null,l,r,rn,fu,kh,n,wn,sa,Wa,tr,f,2,-0,0),c);break t}np(l,r,rn,fu,kh,n,wn,sa,Wa,tr,f,0,-0,0)}}break}while(!0);ti(t)}function np(t,n,r,l,c,f,y,E,R,z,F,X,B,k){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:BE},Kg(n),X=qE(),X!==null)){t.cancelPendingCommit=X(up.bind(null,t,n,f,r,l,c,y,E,R,F,1,B,k)),rr(t,f,y,!z);return}up(t,n,f,r,l,c,y,E,R)}function aE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!on(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(t,n,r,l){n&=~Bh,n&=~sa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Fe(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&zn(t,r,n)}function du(){return(Gt&6)===0?(Rl(0),!1):!0}function Qh(){if(xt!==null){if(Ft===0)var t=xt.return;else t=xt,Si=ta=null,uh(t),Xa=null,gl=0,t=xt;for(;t!==null;)Lg(t.alternate,t),t=t.return;xt=null}}function ns(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,bE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Qh(),Wt=t,xt=r=Ti(t.current,null),Lt=n,Ft=0,fn=null,tr=!1,Ja=Or(t,n),zh=!1,Wa=wn=Bh=sa=er=oe=0,rn=bl=null,kh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Fe(l),f=1<<c;n|=t[c],l&=~f}return Oi=n,Lo(),r}function ip(t,n){Dt=null,G.H=tu,n===sl||n===Go?(n=Em(),Ft=3):n===ym?(n=Em(),Ft=4):Ft=n===Tg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,xt===null&&(oe=1,au(t,Tn(n,t.current)))}function rp(){var t=G.H;return G.H=tu,t===null?tu:t}function ap(){var t=G.A;return G.A=iE,t}function Yh(){oe=4,tr||(Lt&4194048)!==Lt&&Rn.current!==null||(Ja=!0),(er&134217727)===0&&(sa&134217727)===0||Wt===null||rr(Wt,Lt,wn,!1)}function Xh(t,n,r){var l=Gt;Gt|=2;var c=rp(),f=ap();(Wt!==t||Lt!==n)&&(fu=null,ns(t,n)),n=!1;var y=oe;t:do try{if(Ft!==0&&xt!==null){var E=xt,R=fn;switch(Ft){case 8:Qh(),y=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=Ft;if(Ft=0,fn=null,is(t,E,R,z),r&&Ja){y=0;break t}break;default:z=Ft,Ft=0,fn=null,is(t,E,R,z)}}sE(),y=oe;break}catch(F){ip(t,F)}while(!0);return n&&t.shellSuspendCounter++,Si=ta=null,Gt=l,G.H=c,G.A=f,xt===null&&(Wt=null,Lt=0,Lo()),y}function sE(){for(;xt!==null;)sp(xt)}function lE(t,n){var r=Gt;Gt|=2;var l=rp(),c=ap();Wt!==t||Lt!==n?(fu=null,hu=gn()+500,ns(t,n)):Ja=Or(t,n);t:do try{if(Ft!==0&&xt!==null){n=xt;var f=fn;e:switch(Ft){case 1:Ft=0,fn=null,is(t,n,f,1);break;case 2:case 9:if(_m(f)){Ft=0,fn=null,lp(n);break}n=function(){Ft!==2&&Ft!==9||Wt!==t||(Ft=7),ti(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:_m(f)?(Ft=0,fn=null,lp(n)):(Ft=0,fn=null,is(t,n,f,7));break;case 5:var y=null;switch(xt.tag){case 26:y=xt.memoizedState;case 5:case 27:var E=xt;if(!y||qp(y)){Ft=0,fn=null;var R=E.sibling;if(R!==null)xt=R;else{var z=E.return;z!==null?(xt=z,mu(z)):xt=null}break e}}Ft=0,fn=null,is(t,n,f,5);break;case 6:Ft=0,fn=null,is(t,n,f,6);break;case 8:Qh(),oe=6;break t;default:throw Error(s(462))}}oE();break}catch(F){ip(t,F)}while(!0);return Si=ta=null,G.H=l,G.A=c,Gt=r,xt!==null?0:(Wt=null,Lt=0,Lo(),oe)}function oE(){for(;xt!==null&&!Cs();)sp(xt)}function sp(t){var n=Vg(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?mu(t):xt=n}function lp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Dg(r,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=Dg(r,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:uh(n);default:Lg(r,n),n=xt=om(n,Oi),n=Vg(r,n,Oi)}t.memoizedProps=t.pendingProps,n===null?mu(t):xt=n}function is(t,n,r,l){Si=ta=null,uh(n),Xa=null,gl=0;var c=n.return;try{if($0(t,c,n,r,Lt)){oe=1,au(t,Tn(r,t.current)),xt=null;return}}catch(f){if(c!==null)throw xt=c,f;oe=1,au(t,Tn(r,t.current)),xt=null;return}n.flags&32768?(Bt||l===1?t=!0:Ja||(Lt&536870912)!==0?t=!1:(tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),op(n,t)):mu(n)}function mu(t){var n=t;do{if((n.flags&32768)!==0){op(n,tr);return}t=n.return;var r=W0(n.alternate,n,Oi);if(r!==null){xt=r;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=t}while(n!==null);oe===0&&(oe=5)}function op(t,n){do{var r=tE(t.alternate,t);if(r!==null){r.flags&=32767,xt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){xt=t;return}xt=t=r}while(t!==null);oe=6,xt=null}function up(t,n,r,l,c,f,y,E,R){t.cancelPendingCommit=null;do gu();while(Be!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=jc,Ls(t,r,f,y,E,R),t===Wt&&(xt=Wt=null,Lt=0),ts=n,ir=t,es=r,Hh=f,Gh=c,Wg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fE(Nr,function(){return mp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=et.p,et.p=2,y=Gt,Gt|=4;try{eE(t,n,r)}finally{Gt=y,et.p=c,G.T=l}}Be=1,cp(),hp(),fp()}}function cp(){if(Be===1){Be=0;var t=ir,n=ts,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=et.p;et.p=2;var c=Gt;Gt|=4;try{Qg(n,t);var f=lf,y=Jd(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&$d(E.ownerDocument.documentElement,E)){if(R!==null&&Vc(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var k=B.getSelection(),Et=E.textContent.length,pt=Math.min(R.start,Et),Kt=R.end===void 0?pt:Math.min(R.end,Et);!k.extend&&pt>Kt&&(y=Kt,Kt=pt,pt=y);var U=Zd(E,pt),x=Zd(E,Kt);if(U&&x&&(k.rangeCount!==1||k.anchorNode!==U.node||k.anchorOffset!==U.offset||k.focusNode!==x.node||k.focusOffset!==x.offset)){var j=X.createRange();j.setStart(U.node,U.offset),k.removeAllRanges(),pt>Kt?(k.addRange(j),k.extend(x.node,x.offset)):(j.setEnd(x.node,x.offset),k.addRange(j))}}}}for(X=[],k=E;k=k.parentNode;)k.nodeType===1&&X.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Du=!!sf,lf=sf=null}finally{Gt=c,et.p=l,G.T=r}}t.current=n,Be=2}}function hp(){if(Be===2){Be=0;var t=ir,n=ts,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=et.p;et.p=2;var c=Gt;Gt|=4;try{qg(t,n.alternate,n)}finally{Gt=c,et.p=l,G.T=r}}Be=3}}function fp(){if(Be===4||Be===3){Be=0,uo();var t=ir,n=ts,r=es,l=Wg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,ts=ir=null,dp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(nr=null),Ea(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=et.p,et.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{G.T=n,et.p=c}}(es&3)!==0&&gu(),ti(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Fh?Sl++:(Sl=0,Fh=t):Sl=0,Rl(0)}}function dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function gu(t){return cp(),hp(),fp(),mp()}function mp(){if(Be!==5)return!1;var t=ir,n=Hh;Hh=0;var r=Ea(es),l=G.T,c=et.p;try{et.p=32>r?32:r,G.T=null,r=Gh,Gh=null;var f=ir,y=es;if(Be=0,ts=ir=null,es=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,$g(f.current),Xg(f,f.current,y,r),Gt=E,Rl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{et.p=c,G.T=l,dp(t,n)}}function gp(t,n,r){n=Tn(r,n),n=bh(t.stateNode,n,2),t=Yi(t,n,2),t!==null&&(ci(t,2),ti(t))}function Zt(t,n,r){if(t.tag===3)gp(t,t,r);else for(;n!==null;){if(n.tag===3){gp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){t=Tn(r,t),r=vg(2),l=Yi(n,r,2),l!==null&&(Eg(r,l,n,t),ci(l,2),ti(l));break}}n=n.return}}function Kh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new rE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(zh=!0,c.add(r),t=uE.bind(null,t,n,r),n.then(t,t))}function uE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Wt===t&&(Lt&r)===r&&(oe===4||oe===3&&(Lt&62914560)===Lt&&300>gn()-qh?(Gt&2)===0&&ns(t,0):Bh|=r,Wa===Lt&&(Wa=0)),ti(t)}function pp(t,n){n===0&&(n=Ms()),t=ja(t,n),t!==null&&(ci(t,n),ti(t))}function cE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),pp(t,r)}function hE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),pp(t,r)}function fE(t,n){return wr(t,n)}var pu=null,rs=null,Zh=!1,yu=!1,$h=!1,la=0;function ti(t){t!==rs&&t.next===null&&(rs===null?pu=rs=t:rs=rs.next=t),yu=!0,Zh||(Zh=!0,mE())}function Rl(t,n){if(!$h&&yu){$h=!0;do for(var r=!1,l=pu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Fe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ep(l,f))}else f=Lt,f=va(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Or(l,f)||(r=!0,Ep(l,f));l=l.next}while(r);$h=!1}}function dE(){yp()}function yp(){yu=Zh=!1;var t=0;la!==0&&(AE()&&(t=la),la=0);for(var n=gn(),r=null,l=pu;l!==null;){var c=l.next,f=_p(l,n);f===0?(l.next=null,r===null?pu=c:r.next=c,c===null&&(rs=r)):(r=l,(t!==0||(f&3)!==0)&&(yu=!0)),l=c}Rl(t)}function _p(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Fe(f),E=1<<y,R=c[y];R===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Os(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Wt,r=Lt,r=va(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Or(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Dr(l),Ea(r)){case 2:case 8:r=ya;break;case 32:r=Nr;break;case 268435456:r=_a;break;default:r=Nr}return l=vp.bind(null,t),r=wr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Dr(l),t.callbackPriority=2,t.callbackNode=null,2}function vp(t,n){if(Be!==0&&Be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(gu()&&t.callbackNode!==r)return null;var l=Lt;return l=va(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ep(t,l,n),_p(t,gn()),t.callbackNode!=null&&t.callbackNode===r?vp.bind(null,t):null)}function Ep(t,n){if(gu())return null;ep(t,n,!0)}function mE(){SE(function(){(Gt&6)!==0?wr(xs,dE):yp()})}function Jh(){return la===0&&(la=Vs()),la}function Tp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function Ap(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function gE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Tp((c[ge]||null).action),y=l.submitter;y&&(n=(n=y[ge]||null)?Tp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Da("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var R=y?Ap(c,y):new FormData(c);_h(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?Ap(c,y):new FormData(c),_h(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Wh=0;Wh<Pc.length;Wh++){var tf=Pc[Wh],pE=tf.toLowerCase(),yE=tf[0].toUpperCase()+tf.slice(1);Vn(pE,"on"+yE)}Vn(em,"onAnimationEnd"),Vn(nm,"onAnimationIteration"),Vn(im,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(M0,"onTransitionRun"),Vn(L0,"onTransitionStart"),Vn(U0,"onTransitionCancel"),Vn(rm,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function bp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){ru(F)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){ru(F)}c.currentTarget=null,f=R}}}}function It(t,n){var r=n[Ps];r===void 0&&(r=n[Ps]=new Set);var l=t+"__bubble";r.has(l)||(Sp(n,t,2,!1),r.add(l))}function ef(t,n,r){var l=0;n&&(l|=4),Sp(r,t,l,n)}var _u="_reactListening"+Math.random().toString(36).slice(2);function nf(t){if(!t[_u]){t[_u]=!0,js.forEach(function(r){r!=="selectionchange"&&(_E.has(r)||ef(r,!1,t),ef(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_u]||(n[_u]=!0,ef("selectionchange",!1,n))}}function Sp(t,n,r,l){switch(Xp(n)){case 2:var c=FE;break;case 8:c=QE;break;default:c=yf}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function rf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=hi(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Eo(function(){var z=f,F=_n(r),X=[];t:{var B=am.get(t);if(B!==void 0){var k=Da,Et=t;switch(t){case"keypress":if(Fn(r)===0)break t;case"keydown":case"keyup":k=Va;break;case"focusin":Et="focus",k=xa;break;case"focusout":Et="blur",k=xa;break;case"beforeblur":case"afterblur":k=xa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=No;break;case em:case nm:case im:k=Ia;break;case rm:k=xo;break;case"scroll":case"scrollend":k=To;break;case"wheel":k=Ma;break;case"copy":case"cut":case"paste":k=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Zs;break;case"toggle":case"beforetoggle":k=Oo}var pt=(n&4)!==0,Kt=!pt&&(t==="scroll"||t==="scrollend"),U=pt?B!==null?B+"Capture":null:B;pt=[];for(var x=z,j;x!==null;){var Q=x;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||U===null||(Q=Br(x,U),Q!=null&&pt.push(Dl(x,Q,j))),Kt)break;x=x.return}0<pt.length&&(B=new k(B,Et,null,r,F),X.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==gi&&(Et=r.relatedTarget||r.fromElement)&&(hi(Et)||Et[pn]))break t;if((k||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,k?(Et=r.relatedTarget||r.toElement,k=z,Et=Et?hi(Et):null,Et!==null&&(Kt=h(Et),pt=Et.tag,Et!==Kt||pt!==5&&pt!==27&&pt!==6)&&(Et=null)):(k=null,Et=z),k!==Et)){if(pt=En,Q="onMouseLeave",U="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Zs,Q="onPointerLeave",U="onPointerEnter",x="pointer"),Kt=k==null?B:kn(k),j=Et==null?B:kn(Et),B=new pt(Q,x+"leave",k,r,F),B.target=Kt,B.relatedTarget=j,Q=null,hi(F)===z&&(pt=new pt(U,x+"enter",Et,r,F),pt.target=j,pt.relatedTarget=Kt,Q=pt),Kt=Q,k&&Et)e:{for(pt=k,U=Et,x=0,j=pt;j;j=as(j))x++;for(j=0,Q=U;Q;Q=as(Q))j++;for(;0<x-j;)pt=as(pt),x--;for(;0<j-x;)U=as(U),j--;for(;x--;){if(pt===U||U!==null&&pt===U.alternate)break e;pt=as(pt),U=as(U)}pt=null}else pt=null;k!==null&&Rp(X,B,k,pt,!1),Et!==null&&Kt!==null&&Rp(X,Kt,Et,pt,!0)}}t:{if(B=z?kn(z):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var lt=Gd;else if(Re(B))if(Fd)lt=I0;else{lt=C0;var Ct=N0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Hs(z.elementType)&&(lt=Gd):lt=x0;if(lt&&(lt=lt(t,z))){Ei(X,lt,r,F);break t}Ct&&Ct(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&qi(B,"number",B.value)}switch(Ct=z?kn(z):window,t){case"focusin":(Re(Ct)||Ct.contentEditable==="true")&&(La=Ct,Mc=z,Ws=null);break;case"focusout":Ws=Mc=La=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,Wd(X,r,F);break;case"selectionchange":if(V0)break;case"keydown":case"keyup":Wd(X,r,F)}var ct;if(Xn)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Vt?q(t,r)&&(yt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(yt="onCompositionStart");yt&&(p&&r.locale!=="ko"&&(Vt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Vt&&(ct=Fs()):(Gn=F,Hi="value"in Gn?Gn.value:Gn.textContent,Vt=!0)),Ct=vu(z,yt),0<Ct.length&&(yt=new Xs(yt,t,null,r,F),X.push({event:yt,listeners:Ct}),ct?yt.data=ct:(ct=nt(r),ct!==null&&(yt.data=ct)))),(ct=m?Se(t,r):Mt(t,r))&&(yt=vu(z,"onBeforeInput"),0<yt.length&&(Ct=new Xs("onBeforeInput","beforeinput",null,r,F),X.push({event:Ct,listeners:yt}),Ct.data=ct)),gE(X,t,z,r,F)}bp(X,n)})}function Dl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function vu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Br(t,r),c!=null&&l.unshift(Dl(t,c,f)),c=Br(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,c?(z=Br(r,f),z!=null&&y.unshift(Dl(r,z,R))):c||(z=Br(r,f),z!=null&&y.push(Dl(r,z,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var vE=/\r\n?/g,EE=/\u0000|\uFFFD/g;function wp(t){return(typeof t=="string"?t:""+t).replace(vE,`
`).replace(EE,"")}function Dp(t,n){return n=wp(n),wp(t)===n}function Eu(){}function Xt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,r,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=wa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=wa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Eu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=wa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),ki(t,"popover",l);break;case"xlinkActuate":Pe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Dc.get(r)||r,ki(t,r,l))}}function af(t,n,r,l,c,f){switch(r){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Eu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ge]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ki(t,r,l)}}}function ke(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,f,y,r,null)}}c&&Xt(t,n,"srcSet",r.srcSet,r,null),l&&Xt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var E=f=y=c=null,R=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":c=F;break;case"type":y=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Xt(t,n,l,F,r,null)}}Pr(t,f,E,R,z,y,c,!1),Ra(t);return;case"select":It("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Xt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?mi(t,!!l,n,!1):r!=null&&mi(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Xt(t,n,y,E,r,null)}jr(t,l,c,f),Ra(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,R,l,r,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)It(wl[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,z,l,r,null)}return;default:if(Hs(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&af(t,n,F,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Xt(t,n,E,l,r,null))}function TE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,z=null,F=null;for(k in r){var X=r[k];if(r.hasOwnProperty(k)&&X!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(k)||Xt(t,n,k,null,l,X)}}for(var B in l){var k=l[B];if(X=r[B],l.hasOwnProperty(B)&&(k!=null||X!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":z=k;break;case"defaultChecked":F=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==X&&Xt(t,n,B,k,l,X)}}ln(t,y,E,R,z,F,f,c);return;case"select":k=y=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Xt(t,n,c,f,l,R)}n=E,r=y,l=k,B!=null?mi(t,!!r,B,!1):!!l!=!!r&&(n!=null?mi(t,!!r,n,!0):mi(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Xt(t,n,y,c,l,f)}Qt(t,B,k);return;case"option":for(var Et in r)if(B=r[Et],r.hasOwnProperty(Et)&&B!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:Xt(t,n,Et,null,l,B)}for(R in l)if(B=l[R],k=r[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xt(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)B=r[pt],r.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Xt(t,n,pt,null,l,B);for(z in l)if(B=l[z],k=r[z],l.hasOwnProperty(z)&&B!==k&&(B!=null||k!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Xt(t,n,z,B,l,k)}return;default:if(Hs(n)){for(var Kt in r)B=r[Kt],r.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&af(t,n,Kt,void 0,l,B);for(F in l)B=l[F],k=r[F],!l.hasOwnProperty(F)||B===k||B===void 0&&k===void 0||af(t,n,F,B,l,k);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Xt(t,n,U,null,l,B);for(X in l)B=l[X],k=r[X],!l.hasOwnProperty(X)||B===k||B==null&&k==null||Xt(t,n,X,B,l,k)}var sf=null,lf=null;function Tu(t){return t.nodeType===9?t:t.ownerDocument}function Np(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function of(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uf=null;function AE(){var t=window.event;return t&&t.type==="popstate"?t===uf?!1:(uf=t,!0):(uf=null,!1)}var xp=typeof setTimeout=="function"?setTimeout:void 0,bE=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,SE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(t){return Ip.resolve(null).then(t).catch(RE)}:xp;function RE(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function Op(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Nl(y.documentElement),r&2&&Nl(y.body),r&4)for(r=y.head,Nl(r),y=r.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[Vr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ul(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ul(n)}function cf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":cf(r),Bi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function wE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function DE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function hf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function NE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var ff=null;function Vp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Mp(t,n,r){switch(n=Tu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Nl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bi(t)}var Dn=new Map,Lp=new Set;function Au(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=et.d;et.d={f:CE,r:xE,D:IE,C:OE,L:VE,m:ME,X:UE,S:LE,M:PE};function CE(){var t=Vi.f(),n=du();return t||n}function xE(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?eg(n):Vi.r(t)}var ss=typeof document>"u"?null:document;function Up(t,n,r){var l=ss;if(l&&typeof n=="string"&&n){var c=pe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Lp.has(c)||(Lp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),ce(n),l.head.appendChild(n)))}}function IE(t){Vi.D(t),Up("dns-prefetch",t,null)}function OE(t,n){Vi.C(t,n),Up("preconnect",t,n)}function VE(t,n,r){Vi.L(t,n,r);var l=ss;if(l&&t&&n){var c='link[rel="preload"][as="'+pe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+pe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+pe(r.imageSizes)+'"]')):c+='[href="'+pe(t)+'"]';var f=c;switch(n){case"style":f=ls(t);break;case"script":f=os(t)}Dn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Cl(f))||n==="script"&&l.querySelector(xl(f))||(n=l.createElement("link"),ke(n,"link",t),ce(n),l.head.appendChild(n)))}}function ME(t,n){Vi.m(t,n);var r=ss;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=os(t)}if(!Dn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Dn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xl(f)))return}l=r.createElement("link"),ke(l,"link",t),ce(l),r.head.appendChild(l)}}}function LE(t,n,r){Vi.S(t,n,r);var l=ss;if(l&&t){var c=$e(l).hoistableStyles,f=ls(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Cl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(f))&&df(t,r);var R=y=l.createElement("link");ce(R),ke(R,"link",t),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function UE(t,n){Vi.X(t,n);var r=ss;if(r&&t){var l=$e(r).hoistableScripts,c=os(t),f=l.get(c);f||(f=r.querySelector(xl(c)),f||(t=A({src:t,async:!0},n),(n=Dn.get(c))&&mf(t,n),f=r.createElement("script"),ce(f),ke(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function PE(t,n){Vi.M(t,n);var r=ss;if(r&&t){var l=$e(r).hoistableScripts,c=os(t),f=l.get(c);f||(f=r.querySelector(xl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&mf(t,n),f=r.createElement("script"),ce(f),ke(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Pp(t,n,r,l){var c=(c=vt.current)?Au(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ls(r.href),r=$e(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ls(r.href);var f=$e(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Cl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),f||jE(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=os(r),r=$e(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ls(t){return'href="'+pe(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function jp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function jE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",r),ce(n),t.head.appendChild(n))}function os(t){return'[src="'+pe(t)+'"]'}function xl(t){return"script[async]"+t}function zp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+pe(r.href)+'"]');if(l)return n.instance=l,ce(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),ke(l,"style",c),bu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ls(r.href);var f=t.querySelector(Cl(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=jp(r),(c=Dn.get(c))&&df(l,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ke(f,"link",l),n.state.loading|=4,bu(f,r.precedence,t),n.instance=f;case"script":return f=os(r.src),(c=t.querySelector(xl(f)))?(n.instance=c,ce(c),c):(l=r,(c=Dn.get(f))&&(l=A({},r),mf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bu(l,r.precedence,t));return n.instance}function bu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function df(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Su=null;function Bp(t,n,r){if(Su===null){var l=new Map,c=Su=new Map;c.set(r,l)}else c=Su,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Vr]||f[be]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function kp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function zE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function BE(){}function kE(t,n,r){if(Il===null)throw Error(s(475));var l=Il;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ls(r.href),f=t.querySelector(Cl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ru.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,r=jp(r),(c=Dn.get(c))&&df(r,c),f=f.createElement("link"),ce(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ke(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ru.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function qE(){if(Il===null)throw Error(s(475));var t=Il;return t.stylesheets&&t.count===0&&gf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&gf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Ru(){if(this.count--,this.count===0){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wu=null;function gf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wu=new Map,n.forEach(HE,t),wu=null,Ru.call(t))}function HE(t,n){if(!(n.state.loading&4)){var r=wu.get(t);if(r)var l=r.get(null);else{r=new Map,wu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Ru.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function GE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Hp(t,n,r,l,c,f,y,E,R,z,F,X){return t=new GE(t,n,r,y,E,R,z,X),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=Kc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Wc(f),t}function Gp(t){return t?(t=za,t):za}function Fp(t,n,r,l,c,f){c=Gp(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Yi(t,l,n),r!==null&&(mn(r,t,n),ol(r,t,n))}function Qp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function pf(t,n){Qp(t,n),(t=t.alternate)&&Qp(t,n)}function Yp(t){if(t.tag===13){var n=ja(t,67108864);n!==null&&mn(n,t,67108864),pf(t,67108864)}}var Du=!0;function FE(t,n,r,l){var c=G.T;G.T=null;var f=et.p;try{et.p=2,yf(t,n,r,l)}finally{et.p=f,G.T=c}}function QE(t,n,r,l){var c=G.T;G.T=null;var f=et.p;try{et.p=8,yf(t,n,r,l)}finally{et.p=f,G.T=c}}function yf(t,n,r,l){if(Du){var c=_f(l);if(c===null)rf(t,n,l,Nu,r),Kp(t,l);else if(XE(c,t,n,r,l))l.stopPropagation();else if(Kp(t,l),n&4&&-1<YE.indexOf(t)){for(;c!==null;){var f=Bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=xn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-Fe(y);E.entanglements[1]|=R,y&=~R}ti(f),(Gt&6)===0&&(hu=gn()+500,Rl(0))}}break;case 13:E=ja(f,2),E!==null&&mn(E,f,2),du(),pf(f,2)}if(f=_f(l),f===null&&rf(t,n,l,Nu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else rf(t,n,l,null,r)}}function _f(t){return t=_n(t),vf(t)}var Nu=null;function vf(t){if(Nu=null,t=hi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Nu=t,null}function Xp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tc()){case xs:return 2;case ya:return 8;case Nr:case Ac:return 32;case _a:return 268435456;default:return 32}default:return 32}}var Ef=!1,sr=null,lr=null,or=null,Vl=new Map,Ml=new Map,ur=[],YE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kp(t,n){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Ll(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Bn(n),n!==null&&Yp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function XE(t,n,r,l,c){switch(n){case"focusin":return sr=Ll(sr,t,n,r,l,c),!0;case"dragenter":return lr=Ll(lr,t,n,r,l,c),!0;case"mouseover":return or=Ll(or,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Vl.set(f,Ll(Vl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,Ll(Ml.get(f)||null,t,n,r,l,c)),!0}return!1}function Zp(t){var n=hi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,fo(t.priority,function(){if(r.tag===13){var l=dn();l=Pi(l);var c=ja(r,l);c!==null&&mn(c,r,l),pf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=_f(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);gi=l,r.target.dispatchEvent(l),gi=null}else return n=Bn(r),n!==null&&Yp(n),t.blockedOn=r,!1;n.shift()}return!0}function $p(t,n,r){Cu(t)&&r.delete(n)}function KE(){Ef=!1,sr!==null&&Cu(sr)&&(sr=null),lr!==null&&Cu(lr)&&(lr=null),or!==null&&Cu(or)&&(or=null),Vl.forEach($p),Ml.forEach($p)}function xu(t,n){t.blockedOn===n&&(t.blockedOn=null,Ef||(Ef=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,KE)))}var Iu=null;function Jp(t){Iu!==t&&(Iu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Iu===t&&(Iu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(vf(l||r)===null)continue;break}var f=Bn(r);f!==null&&(t.splice(n,3),n-=3,_h(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ul(t){function n(R){return xu(R,t)}sr!==null&&xu(sr,t),lr!==null&&xu(lr,t),or!==null&&xu(or,t),Vl.forEach(n),Ml.forEach(n);for(var r=0;r<ur.length;r++){var l=ur[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)Zp(r),r.blockedOn===null&&ur.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ge]||null;if(typeof f=="function")y||Jp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ge]||null)E=y.formAction;else if(vf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Jp(r)}}}function Tf(t){this._internalRoot=t}Ou.prototype.render=Tf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=dn();Fp(r,l,t,n,null,null)},Ou.prototype.unmount=Tf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Fp(t.current,2,null,t,null,null),du(),n[pn]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var n=ji();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ur.length&&n!==0&&n<ur[r].priority;r++);ur.splice(r,0,t),r===0&&Zp(t)}};var Wp=e.version;if(Wp!=="19.1.0")throw Error(s(527,Wp,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var ZE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{se=Vu.inject(ZE),Ht=Vu}catch{}}return jl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=gg,f=pg,y=yg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Hp(t,1,!1,null,null,r,l,c,f,y,E,null),t[pn]=n.current,nf(t),new Tf(n)},jl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=gg,y=pg,E=yg,R=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=Hp(t,1,!0,n,r??null,l,c,f,y,E,R,z),n.context=Gp(null),r=n.current,l=dn(),l=Pi(l),c=Qi(l),c.callback=null,Yi(r,c,l),r=l,n.current.lanes=r,ci(n,r),ti(n),t[pn]=n.current,nf(t),new Ou(n)},jl.version="19.1.0",jl}var uy;function lT(){if(uy)return Sf.exports;uy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Sf.exports=sT(),Sf.exports}var oT=lT();const uT=M_(oT),hr=[{id:"indicador1",title:"Presentación personal",levels:[{points:1,levelName:"Desarrollo Débil",description:"Presentación básica de datos personales, vestimenta adecuada"},{points:2,levelName:"Desarrollo Incipiente",description:"Incluye desarrollo de aprendizajes e hitos de últimos 2 años, sin piercing"},{points:3,levelName:"Desarrollo Satisfactorio",description:"Agrega reconocimiento de habilidades, competencias, metas y proyecciones"},{points:4,levelName:"Desarrollo Avanzado",description:"Incluye aspectos a fortalecer y ejemplo de experiencia DUAL"}]},{id:"indicador2",title:"Descripción de su proceso de vinculación en la alternancia DUAL",levels:[{points:1,levelName:"Desarrollo Débil",description:"Descripción superficial del proceso de vinculación"},{points:2,levelName:"Desarrollo Incipiente",description:"Descripción detallada de pasos, involucrados y roles"},{points:3,levelName:"Desarrollo Satisfactorio",description:"Incluye sentimientos y emociones del proceso"},{points:4,levelName:"Desarrollo Avanzado",description:"Agrega estrategias para gestionar emociones"}]},{id:"indicador3",title:"Descripción del centro de aprendizaje",levels:[{points:1,levelName:"Desarrollo Débil",description:"Características generales básicas"},{points:2,levelName:"Desarrollo Incipiente",description:"Incluye organigrama y profesionales de interacción"},{points:3,levelName:"Desarrollo Satisfactorio",description:"Explica procesos de producción/servicio detalladamente"},{points:4,levelName:"Desarrollo Avanzado",description:"Identifica 10 características y matriz FODA"}]},{id:"indicador4",title:"Experiencia de trabajo en Equipo",levels:[{points:1,levelName:"Desarrollo Débil",description:"Describe experiencia observada de trabajo en equipo"},{points:2,levelName:"Desarrollo Incipiente",description:"Experiencia asignada, funciones y objetivo común"},{points:3,levelName:"Desarrollo Satisfactorio",description:"Identifica dificultades del proceso"},{points:4,levelName:"Desarrollo Avanzado",description:"Explica cómo resolvió las dificultades"}]},{id:"indicador5",title:"Experiencia de resolución de conflictos",levels:[{points:1,levelName:"Desarrollo Débil",description:"Identifica crisis/conflicto observado"},{points:2,levelName:"Desarrollo Incipiente",description:"Reconoce componentes y alternativas de resolución"},{points:3,levelName:"Desarrollo Satisfactorio",description:"Identifica componentes, situaciones, emociones y resolución"},{points:4,levelName:"Desarrollo Avanzado",description:"Presenta alternativas adicionales de resolución"}]},{id:"indicador6",title:"Experiencia Técnica",levels:[{points:1,levelName:"Desarrollo Débil",description:"Explica tareas generales sin experiencia específica"},{points:2,levelName:"Desarrollo Incipiente",description:"Experiencia específica con vocabulario técnico parcial"},{points:3,levelName:"Desarrollo Satisfactorio",description:"Vocabulario técnico completo, vincula habilidades, identifica errores"},{points:4,levelName:"Desarrollo Avanzado",description:"Plantea propuestas de mejora para futuras tareas"}]},{id:"indicador7",title:"Propuesta de mejora",levels:[{points:1,levelName:"Desarrollo Débil",description:"Propuesta sin diagnóstico claro"},{points:2,levelName:"Desarrollo Incipiente",description:"Identifica oportunidades y propone acción específica"},{points:3,levelName:"Desarrollo Satisfactorio",description:"Incluye comparación y flujograma/ejemplos"},{points:4,levelName:"Desarrollo Avanzado",description:"Propuesta de implementación real"}]},{id:"indicador8",title:"Evaluación de su desarrollo y aprendizaje",levels:[{points:1,levelName:"Desarrollo Débil",description:"Resume experiencia y tareas generales"},{points:2,levelName:"Desarrollo Incipiente",description:"Detalla aprendizajes y experiencias significativas"},{points:3,levelName:"Desarrollo Satisfactorio",description:"Explica impacto de aprendizajes en el futuro"},{points:4,levelName:"Desarrollo Avanzado",description:"Reconoce elementos por aprender y propuesta para lograrlo"}]},{id:"indicador9",title:"Expresión oral",levels:[{points:1,levelName:"Desarrollo Débil",description:"Ideas sin claridad en argumentos"},{points:2,levelName:"Desarrollo Incipiente",description:"Ideas claras, elocuentes y fluidas"},{points:3,levelName:"Desarrollo Satisfactorio",description:"Adecua comunicación al contexto y receptor"},{points:4,levelName:"Desarrollo Avanzado",description:"Estrategias para captar atención, buena oratoria y disposición"}]},{id:"indicador10",title:"Presentación",levels:[{points:1,levelName:"Desarrollo Débil",description:"Al menos un recurso innovador/creativo"},{points:2,levelName:"Desarrollo Incipiente",description:"Presentación atractiva con recursos físicos y digitales"},{points:3,levelName:"Desarrollo Satisfactorio",description:"Mantiene formalidad durante exposición"},{points:4,levelName:"Desarrollo Avanzado",description:"Responde preguntas de participantes"}]},{id:"indicador11",title:"Uso eficiente del Tiempo",levels:[{points:1,levelName:"Desarrollo Débil",description:"Menos de 6 minutos"},{points:2,levelName:"Desarrollo Incipiente",description:"6-8 minutos, elementos parciales"},{points:3,levelName:"Desarrollo Satisfactorio",description:"8-10 minutos, elementos completos sin profundidad"},{points:4,levelName:"Desarrollo Avanzado",description:"10-12 minutos, profundidad en todos los elementos"}]},{id:"indicador12",title:"Empatía",levels:[{points:1,levelName:"Desarrollo Débil",description:"Respeto ocasional hacia compañeros/docentes"},{points:2,levelName:"Desarrollo Incipiente",description:"Respeto constante, necesita recordatorio de contexto"},{points:3,levelName:"Desarrollo Satisfactorio",description:"Respeto permanente, atiende presentaciones de pares"},{points:4,levelName:"Desarrollo Avanzado",description:"Demuestra inquietudes y valoraciones oportunas"}]},{id:"indicador13",title:"Normas de Seguridad",levels:[{points:1,levelName:"Desarrollo Débil",description:"Algunos EPPs y normas, o solo uno de los criterios"},{points:2,levelName:"Desarrollo Incipiente",description:"Algunos EPPs y normas de seguridad"},{points:3,levelName:"Desarrollo Satisfactorio",description:"Todos los EPPs y normas de seguridad"},{points:4,levelName:"Desarrollo Avanzado",description:"Detalla importancia de EPPs y reconoce normas"}]}],Le={MIN_POSSIBLE_SCORE_PER_INDICATOR:1,MAX_POSSIBLE_SCORE_PER_INDICATOR:4,TOTAL_INDICATORS:hr.length,get MIN_TOTAL_POSSIBLE_SCORE(){return this.TOTAL_INDICATORS*this.MIN_POSSIBLE_SCORE_PER_INDICATOR},get MAX_TOTAL_POSSIBLE_SCORE(){return this.TOTAL_INDICATORS*this.MAX_POSSIBLE_SCORE_PER_INDICATOR},SCORE_FOR_PASSING_GRADE:31.2,MIN_GRADE:2,PASSING_GRADE:4,MAX_GRADE:7},L_=["3ºA","3ºB","3ºC","3ºD"],cT=({level:a,isSelected:e,onClick:i,disabled:s})=>I.jsxs("button",{type:"button",onClick:i,disabled:s,className:`w-full sm:w-auto flex-1 text-sm sm:text-xs text-center px-3 py-2.5 rounded-md border transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-1 ${s?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed":e?"bg-blue-600 text-white border-blue-700 shadow-md transform scale-105":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50 hover:border-slate-400"}`,"aria-pressed":e,children:[I.jsxs("div",{className:"font-semibold",children:[a.levelName," (",a.points," pto)"]}),I.jsx("div",{className:"text-xs mt-1 hidden sm:block",children:a.description})]}),hT=({item:a,selectedScore:e,onScoreSelect:i,isSubmitted:s})=>{var h;const o=s&&e===void 0;return I.jsxs("div",{className:`bg-white shadow-lg rounded-xl p-6 mb-6 transition-all duration-300 ease-in-out ${o?"ring-2 ring-red-500":"hover:shadow-xl"}`,children:[I.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-1",children:a.title}),e&&I.jsx("p",{className:"text-xs text-slate-500 mb-4 sm:hidden",children:(h=a.levels.find(d=>d.points===e))==null?void 0:h.description}),I.jsx("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 mt-3",children:a.levels.map(d=>I.jsx(cT,{level:d,isSelected:e===d.points,onClick:()=>i(a.id,d.points)},d.points))}),o&&I.jsx("p",{className:"text-red-600 text-xs mt-2",children:"Por favor, selecciona un puntaje para este indicador."})]})},fT=({studentName:a,onStudentNameChange:e,course:i,onCourseChange:s,scores:o,onScoreChange:h,isSubmitted:d})=>{const g=d&&!a.trim(),v=d&&!i;return I.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 md:p-8",children:[I.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6 border-b pb-4",children:"Formulario de Evaluación"}),I.jsxs("div",{className:"mb-6",children:[I.jsx("label",{htmlFor:"studentName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Nombre del Estudiante"}),I.jsx("input",{type:"text",id:"studentName",value:a,onChange:_=>e(_.target.value),className:`w-full px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 transition-colors duration-150 ${g?"border-red-500 ring-red-500":"border-slate-300"}`,placeholder:"Ingrese el nombre completo del estudiante"}),g&&I.jsx("p",{className:"text-red-600 text-xs mt-1",children:"El nombre del estudiante es requerido."})]}),I.jsxs("div",{className:"mb-8",children:[I.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-slate-700 mb-1",children:"Curso"}),I.jsxs("select",{id:"course",value:i,onChange:_=>s(_.target.value),className:`w-full px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 transition-colors duration-150 ${v?"border-red-500 ring-red-500":"border-slate-300"}`,children:[I.jsx("option",{value:"",disabled:!0,children:"Seleccione un curso"}),L_.map(_=>I.jsx("option",{value:_,children:_},_))]}),v&&I.jsx("p",{className:"text-red-600 text-xs mt-1",children:"La selección del curso es requerida."})]}),I.jsxs("div",{children:[I.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-4",children:"Indicadores de Evaluación"}),hr.map(_=>I.jsx(hT,{item:_,selectedScore:o[_.id],onScoreSelect:h,isSubmitted:d},_.id))]})]})},dT=({totalScore:a,finalGrade:e})=>{if(e===null)return null;const s=(o=>o<Le.PASSING_GRADE?"text-red-600":o<5?"text-yellow-600":o<6?"text-blue-600":"text-green-600")(e);return I.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 mt-8",children:[I.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4 border-b pb-3",children:"Resultados Finales"}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[I.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg text-center",children:[I.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Puntaje Total Obtenido"}),I.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[a," ",I.jsxs("span",{className:"text-lg font-normal text-slate-500",children:["/ ",Le.MAX_TOTAL_POSSIBLE_SCORE]})]})]}),I.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg text-center",children:[I.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Nota Final Calculada"}),I.jsx("p",{className:`text-3xl font-bold ${s}`,children:e.toFixed(1)}),I.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["(Escala ",Le.MIN_GRADE.toFixed(1)," - ",Le.MAX_GRADE.toFixed(1),", Aprobación con ",Le.PASSING_GRADE.toFixed(1),")"]})]})]})]})},mT=({aiFeedback:a,isLoadingFeedback:e,groundingMetadata:i})=>{if(e)return I.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 mt-8",children:[I.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Retroalimentación con IA"}),I.jsxs("div",{className:"flex items-center justify-center py-10",children:[I.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),I.jsx("p",{className:"ml-4 text-slate-600",children:"Generando retroalimentación, por favor espera..."})]})]});if(!a)return null;const s=i==null?void 0:i.groundingAttributions;return I.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 mt-8",children:[I.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-4 border-b pb-3",children:"Retroalimentación Personalizada (IA)"}),I.jsx("div",{className:"prose prose-slate max-w-none text-slate-700 whitespace-pre-wrap",children:a}),s&&s.length>0&&I.jsxs("div",{className:"mt-6 pt-4 border-t",children:[I.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"Fuentes Consultadas por IA (Google Search):"}),(i==null?void 0:i.webSearchQueries)&&i.webSearchQueries.length>0&&I.jsxs("p",{className:"text-sm text-slate-500 mb-2",children:["Consultas realizadas: ",i.webSearchQueries.join(", ")]}),I.jsx("ul",{className:"list-disc list-inside space-y-1",children:s.map((o,h)=>{const d=o.web||o.retrievedContext;return d&&d.uri?I.jsx("li",{className:"text-sm",children:I.jsx("a",{href:d.uri,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:d.title||d.uri})},h):null})})]})]})},Pf=a=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),gT=a=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),pT=({evaluations:a})=>{const e=(g,v=0)=>typeof g=="number"&&!isNaN(g)&&isFinite(g)?g:v;if(a.length===0)return I.jsx("div",{className:"bg-slate-50 p-6 rounded-lg text-center text-slate-500 mt-8",children:I.jsx("p",{children:"No hay datos para mostrar en el gráfico para el filtro seleccionado."})});const i=[...a].sort((g,v)=>g.studentName.localeCompare(v.studentName)),s=Le.MAX_GRADE,o=1,h=s-o,d=(Le.PASSING_GRADE-o)/h*100;return I.jsxs("div",{className:"p-4 md:p-6 bg-slate-50 rounded-lg mt-8",children:[I.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-6",children:"Gráfico de Calificaciones por Estudiante"}),I.jsxs("div",{className:"w-full h-80 flex items-end pl-8 pr-4 relative",children:[I.jsxs("div",{className:"absolute left-0 top-0 h-full w-8 flex flex-col justify-between text-xs text-slate-500 py-4 items-end pr-2",children:[I.jsx("span",{children:e(s).toFixed(1)}),I.jsx("span",{className:"font-bold",children:e(Le.PASSING_GRADE).toFixed(1)}),I.jsx("span",{children:e(o).toFixed(1)})]}),I.jsxs("div",{className:"w-full h-full flex space-x-2 md:space-x-4 items-end border-b-2 border-l-2 border-slate-300 relative",children:[I.jsx("div",{className:"absolute w-full h-px bg-slate-400 border-t border-dashed",style:{bottom:`${d}%`}}),i.map(g=>{const v=e(g.finalGrade),_=(v-o)/h*100,A=v>=Le.PASSING_GRADE;return I.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end h-full group",children:[I.jsx("div",{className:"w-full rounded-t-md transition-all duration-300 ease-in-out relative group",style:{height:`${Math.max(0,_)}%`,backgroundColor:A?"rgba(34, 197, 94, 0.7)":"rgba(239, 68, 68, 0.7)",border:`1px solid ${A?"rgba(22, 163, 74, 0.8)":"rgba(220, 38, 38, 0.8)"}`},title:`${g.studentName}: ${v.toFixed(1)}`,children:I.jsx("span",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 bg-slate-800 text-white text-xs px-2 py-1 rounded-md transition-opacity pointer-events-none",children:v.toFixed(1)})}),I.jsx("p",{className:"text-xs text-slate-600 mt-1 w-full text-center overflow-hidden text-ellipsis whitespace-nowrap",title:g.studentName,children:g.studentName.split(" ")[0]})]},g.id)})]})]}),I.jsxs("div",{className:"flex justify-center items-center mt-4 space-x-4 text-sm text-slate-600",children:[I.jsxs("div",{className:"flex items-center",children:[I.jsx("span",{className:"w-3.5 h-3.5 bg-green-500/70 border border-green-700/80 rounded-sm mr-2"}),I.jsx("span",{children:"Aprobado"})]}),I.jsxs("div",{className:"flex items-center",children:[I.jsx("span",{className:"w-3.5 h-3.5 bg-red-500/70 border border-red-700/80 rounded-sm mr-2"}),I.jsx("span",{children:"Reprobado"})]}),I.jsxs("div",{className:"flex items-center",children:[I.jsx("span",{className:"border-t-2 border-slate-400 border-dashed w-4 h-px mr-2"}),I.jsx("span",{children:"Nota de Aprobación"})]})]})]})},yT=({evaluations:a,onBackToForm:e,onClearAll:i})=>{const[s,o]=$t.useState("all"),h=()=>{window.confirm("¿Estás seguro de que quieres borrar TODAS las evaluaciones guardadas? Esta acción no se puede deshacer.")&&i()},d=$t.useMemo(()=>s==="all"?a:a.filter(S=>S.course===s),[a,s]);if(a.length===0)return I.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 md:p-8 mt-8",children:[I.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[I.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Dashboard de Desempeño"}),I.jsxs("button",{onClick:e,className:"flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[I.jsx(Pf,{className:"h-5 w-5 mr-2"}),"Volver al Formulario"]})]}),I.jsx("p",{className:"text-slate-600 text-center py-10",children:"No hay evaluaciones guardadas para mostrar en el dashboard."})]});const g={};hr.forEach(S=>{g[S.id]={sum:0,count:0}}),d.forEach(S=>{Object.entries(S.scores).forEach(([H,K])=>{K!==void 0&&g[H]&&(g[H].sum+=K,g[H].count+=1)})});const v=hr.map(S=>({indicatorId:S.id,title:S.title,averageScore:g[S.id].count>0?g[S.id].sum/g[S.id].count:0,count:g[S.id].count})),_=(S,H=0)=>typeof S=="number"&&!isNaN(S)&&isFinite(S)?S:H,A=(()=>{const S=v.reduce((H,K)=>H+K.count,0);return S>0?v.reduce((H,K)=>H+K.averageScore*K.count,0)/S:0})(),N=d.length>0?d.reduce((S,H)=>S+(H.finalGrade??0),0)/d.length:0;return I.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 md:p-8 mt-8",children:[I.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4 flex-wrap gap-4",children:[I.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Dashboard de Desempeño"}),I.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[I.jsxs("div",{className:"flex-grow",children:[I.jsx("label",{htmlFor:"courseFilter",className:"sr-only",children:"Filtrar por Curso"}),I.jsxs("select",{id:"courseFilter",value:s,onChange:S=>o(S.target.value),className:"w-full sm:w-auto px-4 py-2 border border-slate-300 rounded-md text-sm font-medium text-slate-700 bg-white focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500",children:[I.jsx("option",{value:"all",children:"Todos los cursos"}),L_.map(S=>I.jsx("option",{value:S,children:S},S))]})]}),I.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[I.jsx(gT,{className:"h-5 w-5 mr-2"}),"Limpiar Todo"]}),I.jsxs("button",{onClick:e,className:"flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[I.jsx(Pf,{className:"h-5 w-5 mr-2"}),"Volver"]})]})]}),I.jsxs("h3",{className:"text-xl font-semibold text-slate-700 mb-4",children:["Resumen General (",s==="all"?"Todos los cursos":s,")"]}),I.jsxs("div",{className:"mb-8 p-6 bg-slate-50 rounded-lg grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Total Evaluaciones"}),I.jsx("p",{className:"text-3xl font-bold text-blue-600",children:d.length})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Promedio de Puntaje"}),I.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[_(A).toFixed(1),I.jsxs("span",{className:"text-lg font-normal text-slate-500",children:[" "," / ",_(Le.MAX_POSSIBLE_SCORE_PER_INDICATOR).toFixed(0)]})]})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Promedio de Nota Final"}),I.jsx("p",{className:"text-3xl font-bold text-green-600",children:_(N).toFixed(1)})]})]}),I.jsx(pT,{evaluations:d}),I.jsx("h3",{className:"text-xl font-semibold text-slate-700 mt-8 mb-4",children:"Historial de Evaluaciones"}),d.length>0?I.jsx("div",{className:"overflow-x-auto border border-slate-200 rounded-lg",children:I.jsxs("table",{className:"min-w-full bg-white",children:[I.jsx("thead",{className:"bg-slate-50",children:I.jsxs("tr",{children:[I.jsx("th",{className:"px-6 py-3 border-b-2 border-slate-200 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Nombre del Estudiante"}),I.jsx("th",{className:"px-6 py-3 border-b-2 border-slate-200 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Curso"}),I.jsx("th",{className:"px-6 py-3 border-b-2 border-slate-200 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Fecha"}),I.jsx("th",{className:"px-6 py-3 border-b-2 border-slate-200 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider",children:"Nota Final"})]})}),I.jsx("tbody",{className:"text-slate-700",children:[...d].reverse().map(S=>I.jsxs("tr",{className:"hover:bg-slate-50",children:[I.jsx("td",{className:"px-6 py-4 whitespace-nowrap border-b border-slate-200",children:S.studentName}),I.jsx("td",{className:"px-6 py-4 whitespace-nowrap border-b border-slate-200",children:S.course}),I.jsx("td",{className:"px-6 py-4 whitespace-nowrap border-b border-slate-200",children:S.evaluationDate}),I.jsx("td",{className:`px-6 py-4 whitespace-nowrap border-b border-slate-200 font-medium ${S.finalGrade<Le.PASSING_GRADE?"text-red-600":"text-green-600"}`,children:_(S.finalGrade).toFixed(1)})]},S.id))})]})}):I.jsx("div",{className:"bg-slate-50 p-6 rounded-lg text-center text-slate-500",children:I.jsx("p",{children:"No hay evaluaciones que coincidan con el filtro de curso seleccionado."})}),I.jsx("h3",{className:"text-xl font-semibold text-slate-700 mt-8 mb-4",children:"Promedio por Indicador"}),I.jsx("div",{className:"space-y-4",children:v.map(S=>I.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50",children:[I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("span",{className:"font-medium text-slate-800",children:S.title}),I.jsxs("span",{className:`font-bold text-lg ${S.averageScore>=Le.MAX_POSSIBLE_SCORE_PER_INDICATOR*.75?"text-green-600":S.averageScore>=Le.MAX_POSSIBLE_SCORE_PER_INDICATOR*.5?"text-yellow-600":"text-red-600"}`,children:[_(S.averageScore).toFixed(1)," / ",_(Le.MAX_POSSIBLE_SCORE_PER_INDICATOR).toFixed(0)]})]}),I.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5 mt-2",children:I.jsx("div",{className:`h-2.5 rounded-full ${S.averageScore>=Le.MAX_POSSIBLE_SCORE_PER_INDICATOR*.75?"bg-green-500":S.averageScore>=Le.MAX_POSSIBLE_SCORE_PER_INDICATOR*.5?"bg-yellow-500":"bg-red-500"}`,style:{width:`${_(S.averageScore)/_(Le.MAX_POSSIBLE_SCORE_PER_INDICATOR)*100}%`}})}),I.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Basado en ",S.count," evaluaciones."]})]},S.indicatorId))})]})};function cy(a){return Object.values(a).reduce((e,i)=>e+(i||0),0)}function hy(a){const{MIN_TOTAL_POSSIBLE_SCORE:e,SCORE_FOR_PASSING_GRADE:i,MAX_TOTAL_POSSIBLE_SCORE:s,MIN_GRADE:o,PASSING_GRADE:h,MAX_GRADE:d}=Le;let g;if(a>=i){const _=a-i,A=s-i;A===0?g=a===s?d:h:g=h+_/A*(d-h)}else{const _=a-e,A=i-e;A===0?g=a===i?h:o:g=o+_/A*(h-o)}const v=Math.min(Math.max(g,o),d);return parseFloat(v.toFixed(1))}function Nf(a,e){return Object.values(a).filter(i=>i!==void 0).length===e}var fy;(function(a){a.STRING="string",a.NUMBER="number",a.INTEGER="integer",a.BOOLEAN="boolean",a.ARRAY="array",a.OBJECT="object"})(fy||(fy={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dy;(function(a){a.LANGUAGE_UNSPECIFIED="language_unspecified",a.PYTHON="python"})(dy||(dy={}));var my;(function(a){a.OUTCOME_UNSPECIFIED="outcome_unspecified",a.OUTCOME_OK="outcome_ok",a.OUTCOME_FAILED="outcome_failed",a.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(my||(my={}));var gy;(function(a){a.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",a.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",a.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",a.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",a.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",a.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(gy||(gy={}));var py;(function(a){a.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",a.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",a.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",a.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",a.BLOCK_NONE="BLOCK_NONE"})(py||(py={}));var yy;(function(a){a.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",a.NEGLIGIBLE="NEGLIGIBLE",a.LOW="LOW",a.MEDIUM="MEDIUM",a.HIGH="HIGH"})(yy||(yy={}));var _y;(function(a){a.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",a.SAFETY="SAFETY",a.OTHER="OTHER"})(_y||(_y={}));var ql;(function(a){a.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",a.STOP="STOP",a.MAX_TOKENS="MAX_TOKENS",a.SAFETY="SAFETY",a.RECITATION="RECITATION",a.LANGUAGE="LANGUAGE",a.BLOCKLIST="BLOCKLIST",a.PROHIBITED_CONTENT="PROHIBITED_CONTENT",a.SPII="SPII",a.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",a.OTHER="OTHER"})(ql||(ql={}));var vy;(function(a){a.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",a.RETRIEVAL_QUERY="RETRIEVAL_QUERY",a.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",a.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",a.CLASSIFICATION="CLASSIFICATION",a.CLUSTERING="CLUSTERING"})(vy||(vy={}));var Ey;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.AUTO="AUTO",a.ANY="ANY",a.NONE="NONE"})(Ey||(Ey={}));var Ty;(function(a){a.MODE_UNSPECIFIED="MODE_UNSPECIFIED",a.MODE_DYNAMIC="MODE_DYNAMIC"})(Ty||(Ty={}));var Ay;(function(a){a.GENERATE_CONTENT="generateContent",a.STREAM_GENERATE_CONTENT="streamGenerateContent",a.COUNT_TOKENS="countTokens",a.EMBED_CONTENT="embedContent",a.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ay||(Ay={}));ql.RECITATION,ql.SAFETY,ql.LANGUAGE;const _T={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};console.error("API_KEY environment variable is not set."),console.error("Variables de entorno disponibles:",_T);async function vT(a,e){return{feedbackText:"Error: La clave API de Gemini no está configurada. Por favor, contacte al administrador."}}async function ET(a){const{studentName:e,course:i,evaluationDate:s,scores:o,totalScore:h,finalGrade:d,aiFeedback:g,rubricData:v,groundingMetadata:_}=a,A="pdf-report-content-dynamic";let N=document.getElementById(A);N||(N=document.createElement("div"),N.id=A,N.style.position="absolute",N.style.left="-9999px",N.style.width="210mm",N.style.padding="20px",N.style.backgroundColor="white",N.style.color="black",N.style.fontSize="10pt",N.style.fontFamily="Arial, sans-serif",document.body.appendChild(N));let S=`
    <div style="font-family: Arial, sans-serif; font-size: 10pt;">
      <div style="text-align: center; margin-bottom: 20px;">
        <h1 style="font-size: 18pt; font-weight: bold; margin:0;">Liceo Industrial de Recoleta</h1>
        <h2 style="font-size: 14pt; margin:5px 0;">Informe de Evaluación de Presentación Dual</h2>
      </div>
      <div style="margin-bottom: 15px;">
        <p><strong>Nombre del Estudiante:</strong> ${e}</p>
        <p><strong>Curso:</strong> ${i}</p>
        <p><strong>Fecha de Evaluación:</strong> ${s}</p>
      </div>
      <h3 style="font-size: 12pt; font-weight: bold; margin-top: 20px; margin-bottom: 10px; border-bottom: 1px solid #ccc; padding-bottom: 5px;">Resultados de la Evaluación</h3>
      <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px; font-size: 9pt;">
        <thead>
          <tr>
            <th style="border: 1px solid #ddd; padding: 6px; text-align: left; background-color: #f2f2f2;">Indicador</th>
            <th style="border: 1px solid #ddd; padding: 6px; text-align: center; background-color: #f2f2f2;">Puntaje</th>
            <th style="border: 1px solid #ddd; padding: 6px; text-align: left; background-color: #f2f2f2;">Nivel Alcanzado</th>
          </tr>
        </thead>
        <tbody>
  `;v.forEach(K=>{const tt=o[K.id],J=tt?K.levels.find(mt=>mt.points===tt):null;S+=`
          <tr>
            <td style="border: 1px solid #ddd; padding: 6px;">${K.title}</td>
            <td style="border: 1px solid #ddd; padding: 6px; text-align: center;">${tt!==void 0?tt:"N/A"}</td>
            <td style="border: 1px solid #ddd; padding: 6px;">${J?J.levelName:"N/A"}</td>
          </tr>
    `}),S+=`
        </tbody>
      </table>
      <div style="margin-bottom: 20px; font-size: 10pt;">
        <p><strong>Puntaje Total Obtenido:</strong> ${h} de ${v.length*4}</p>
        <p><strong>Nota Final Calculada:</strong> ${d!==null?d.toFixed(1):"N/A"}</p>
      </div>
      <h3 style="font-size: 12pt; font-weight: bold; margin-top: 20px; margin-bottom: 10px; border-bottom: 1px solid #ccc; padding-bottom: 5px;">Retroalimentación de profesores</h3>
      <div style="white-space: pre-wrap; word-wrap: break-word; font-size: 9pt; line-height: 1.5;">${g.replace(/\n/g,"<br/>")}</div>
  `;const H=_==null?void 0:_.groundingAttributions;H&&H.length>0&&(S+=`
      <h3 style="font-size: 12pt; font-weight: bold; margin-top: 20px; margin-bottom: 10px; border-bottom: 1px solid #ccc; padding-bottom: 5px;">Fuentes Consultadas por IA (Google Search)</h3>
    `,_!=null&&_.webSearchQueries&&_.webSearchQueries.length>0&&(S+=`<p style="font-size: 8pt; margin-bottom: 5px;">Consultas: ${_.webSearchQueries.join(", ")}</p>`),S+='<ul style="font-size: 9pt; list-style-type: disc; padding-left: 20px;">',H.forEach(K=>{const tt=K.web||K.retrievedContext;tt&&tt.uri&&(S+=`<li style="margin-bottom: 5px;"><a href="${tt.uri}" target="_blank" style="color: blue; text-decoration: underline;">${tt.title||tt.uri}</a></li>`)}),S+="</ul>"),S+="</div>",N.innerHTML=S;try{const{jsPDF:K}=window.jspdf,J=(await html2canvas(N,{scale:2,useCORS:!0,logging:!1})).toDataURL("image/png"),mt=new K({orientation:"portrait",unit:"mm",format:"a4"}),ut=mt.getImageProperties(J),rt=mt.internal.pageSize.getWidth(),Rt=ut.height*rt/ut.width;let ht=Rt,wt=0;for(mt.addImage(J,"PNG",0,wt,rt,Rt),ht-=mt.internal.pageSize.getHeight();ht>=0;)wt=ht-Rt,mt.addPage(),mt.addImage(J,"PNG",0,wt,rt,Rt),ht-=mt.internal.pageSize.getHeight();mt.save(`Informe_${e.replace(/\s+/g,"_")}_${s}.pdf`)}catch(K){console.error("Error generating PDF:",K),alert("Hubo un error al generar el PDF. Revisa la consola para más detalles.")}finally{N&&N.parentElement===document.body&&document.body.removeChild(N)}}const TT=()=>{};var by={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},AT=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},P_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,A=h>>2,N=(h&3)<<4|g>>4;let S=(g&15)<<2|_>>6,H=_&63;v||(H=64,d||(S=64)),s.push(i[A],i[N],i[S],i[H])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(U_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):AT(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const N=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||_==null||N==null)throw new bT;const S=h<<2|g>>4;if(s.push(S),_!==64){const H=g<<4&240|_>>2;if(s.push(H),N!==64){const K=_<<6&192|N;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class bT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ST=function(a){const e=U_(a);return P_.encodeByteArray(e,!0)},Qu=function(a){return ST(a).replace(/\./g,"")},RT=function(a){try{return P_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=()=>wT().__FIREBASE_DEFAULTS__,NT=()=>{if(typeof process>"u"||typeof by>"u")return;const a=by.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},CT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&RT(a[1]);return e&&JSON.parse(e)},ld=()=>{try{return TT()||DT()||NT()||CT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},xT=a=>{var e,i;return(i=(e=ld())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},IT=a=>{const e=xT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},j_=()=>{var a;return(a=ld())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Qu(JSON.stringify(i)),Qu(JSON.stringify(d)),""].join(".")}const Hl={};function LT(){const a={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?a.emulator.push(e):a.prod.push(e);return a}function UT(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Sy=!1;function PT(a,e){if(typeof window>"u"||typeof document>"u"||!od(window.location.host)||Hl[a]===e||Hl[a]||Sy)return;Hl[a]=e;function i(S){return`__firebase__banner__${S}`}const s="__firebase__banner",h=LT().prod.length>0;function d(){const S=document.getElementById(s);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function v(S,H){S.setAttribute("width","24"),S.setAttribute("id",H),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Sy=!0,d()},S}function A(S,H){S.setAttribute("id",H),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function N(){const S=UT(s),H=i("text"),K=document.getElementById(H)||document.createElement("span"),tt=i("learnmore"),J=document.getElementById(tt)||document.createElement("a"),mt=i("preprendIcon"),ut=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const rt=S.element;g(rt),A(J,tt);const Rt=_();v(ut,mt),rt.append(ut,K,J,Rt),document.body.appendChild(rt)}h?(K.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zT(){var a;const e=(a=ld())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BT(){return!zT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kT(){try{return typeof indexedDB=="object"}catch{return!1}}function qT(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="FirebaseError";class bs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=HT,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z_.prototype.create)}}class z_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?GT(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new bs(o,g,s)}}function GT(a,e){return a.replace(FT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const FT=/\{\$([^}]+)}/g;function Yu(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(Ry(h)&&Ry(d)){if(!Yu(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Ry(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(a){return a&&a._delegate?a._delegate:a}class Xl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new OT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XT(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YT(a){return a===oa?void 0:a}function XT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new QT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const ZT={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},$T=Pt.INFO,JT={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},WT=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=JT[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B_{constructor(e){this.name=e,this._logLevel=$T,this._logHandler=WT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const t1=(a,e)=>e.some(i=>a instanceof i);let wy,Dy;function e1(){return wy||(wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n1(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k_=new WeakMap,jf=new WeakMap,q_=new WeakMap,Cf=new WeakMap,ud=new WeakMap;function i1(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(dr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&k_.set(i,a)}).catch(()=>{}),ud.set(e,a),e}function r1(a){if(jf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});jf.set(a,e)}let zf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return jf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||q_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return dr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function a1(a){zf=a(zf)}function s1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(xf(this),e,...i);return q_.set(s,e.sort?e.sort():[e]),dr(s)}:n1().includes(a)?function(...e){return a.apply(xf(this),e),dr(k_.get(this))}:function(...e){return dr(a.apply(xf(this),e))}}function l1(a){return typeof a=="function"?s1(a):(a instanceof IDBTransaction&&r1(a),t1(a,e1())?new Proxy(a,zf):a)}function dr(a){if(a instanceof IDBRequest)return i1(a);if(Cf.has(a))return Cf.get(a);const e=l1(a);return e!==a&&(Cf.set(a,e),ud.set(e,a)),e}const xf=a=>ud.get(a);function o1(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=dr(d);return s&&d.addEventListener("upgradeneeded",v=>{s(dr(d.result),v.oldVersion,v.newVersion,dr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const u1=["get","getKey","getAll","getAllKeys","count"],c1=["put","add","delete","clear"],If=new Map;function Ny(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(If.get(e))return If.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=c1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||u1.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return If.set(e,h),h}a1(a=>({...a,get:(e,i,s)=>Ny(e,i)||a.get(e,i,s),has:(e,i)=>!!Ny(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(f1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function f1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bf="@firebase/app",Cy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new B_("@firebase/app"),d1="@firebase/app-compat",m1="@firebase/analytics-compat",g1="@firebase/analytics",p1="@firebase/app-check-compat",y1="@firebase/app-check",_1="@firebase/auth",v1="@firebase/auth-compat",E1="@firebase/database",T1="@firebase/data-connect",A1="@firebase/database-compat",b1="@firebase/functions",S1="@firebase/functions-compat",R1="@firebase/installations",w1="@firebase/installations-compat",D1="@firebase/messaging",N1="@firebase/messaging-compat",C1="@firebase/performance",x1="@firebase/performance-compat",I1="@firebase/remote-config",O1="@firebase/remote-config-compat",V1="@firebase/storage",M1="@firebase/storage-compat",L1="@firebase/firestore",U1="@firebase/ai",P1="@firebase/firestore-compat",j1="firebase",z1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="[DEFAULT]",B1={[Bf]:"fire-core",[d1]:"fire-core-compat",[g1]:"fire-analytics",[m1]:"fire-analytics-compat",[y1]:"fire-app-check",[p1]:"fire-app-check-compat",[_1]:"fire-auth",[v1]:"fire-auth-compat",[E1]:"fire-rtdb",[T1]:"fire-data-connect",[A1]:"fire-rtdb-compat",[b1]:"fire-fn",[S1]:"fire-fn-compat",[R1]:"fire-iid",[w1]:"fire-iid-compat",[D1]:"fire-fcm",[N1]:"fire-fcm-compat",[C1]:"fire-perf",[x1]:"fire-perf-compat",[I1]:"fire-rc",[O1]:"fire-rc-compat",[V1]:"fire-gcs",[M1]:"fire-gcs-compat",[L1]:"fire-fst",[P1]:"fire-fst-compat",[U1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,k1=new Map,qf=new Map;function xy(a,e){try{a.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ku(a){const e=a.name;if(qf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,a);for(const i of Xu.values())xy(i,a);for(const i of k1.values())xy(i,a);return!0}function q1(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function H1(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new z_("app","Firebase",G1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=z1;function H_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:kf,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw mr.create("bad-app-name",{appName:String(o)});if(i||(i=j_()),!i)throw mr.create("no-options");const h=Xu.get(o);if(h){if(Yu(i,h.options)&&Yu(s,h.config))return h;throw mr.create("duplicate-app",{appName:o})}const d=new KT(o);for(const v of qf.values())d.addComponent(v);const g=new F1(i,s,d);return Xu.set(o,g),g}function Y1(a=kf){const e=Xu.get(a);if(!e&&a===kf&&j_())return H_();if(!e)throw mr.create("no-app",{appName:a});return e}function ds(a,e,i){var s;let o=(s=B1[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(g.join(" "));return}Ku(new Xl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebase-heartbeat-database",K1=1,Kl="firebase-heartbeat-store";let Of=null;function G_(){return Of||(Of=o1(X1,K1,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(a=>{throw mr.create("idb-open",{originalErrorMessage:a.message})})),Of}async function Z1(a){try{const i=(await G_()).transaction(Kl),s=await i.objectStore(Kl).get(F_(a));return await i.done,s}catch(e){if(e instanceof bs)Mi.warn(e.message);else{const i=mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(i.message)}}}async function Iy(a,e){try{const s=(await G_()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,F_(a)),await s.done}catch(i){if(i instanceof bs)Mi.warn(i.message);else{const s=mr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Mi.warn(s.message)}}}function F_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=1024,J1=30;class W1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new eA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Oy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>J1){const d=nA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Mi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Oy(),{heartbeatsToSend:s,unsentEntries:o}=tA(this._heartbeatsCache.heartbeats),h=Qu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Mi.warn(i),""}}}function Oy(){return new Date().toISOString().substring(0,10)}function tA(a,e=$1){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Vy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Vy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class eA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kT()?qT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Z1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Vy(a){return Qu(JSON.stringify({version:2,heartbeats:a})).length}function nA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(a){Ku(new Xl("platform-logger",e=>new h1(e),"PRIVATE")),Ku(new Xl("heartbeat",e=>new W1(e),"PRIVATE")),ds(Bf,Cy,a),ds(Bf,Cy,"esm2017"),ds("fire-js","")}iA("");var My=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,Q_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,b){function D(){}D.prototype=b.prototype,V.D=b.prototype,V.prototype=new D,V.prototype.constructor=V,V.C=function(O,M,L){for(var w=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)w[Ae-2]=arguments[Ae];return b.prototype[M].apply(O,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,b,D){D||(D=0);var O=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)O[M]=b.charCodeAt(D++)|b.charCodeAt(D++)<<8|b.charCodeAt(D++)<<16|b.charCodeAt(D++)<<24;else for(M=0;16>M;++M)O[M]=b[D++]|b[D++]<<8|b[D++]<<16|b[D++]<<24;b=V.g[0],D=V.g[1],M=V.g[2];var L=V.g[3],w=b+(L^D&(M^L))+O[0]+3614090360&4294967295;b=D+(w<<7&4294967295|w>>>25),w=L+(M^b&(D^M))+O[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=M+(D^L&(b^D))+O[2]+606105819&4294967295,M=L+(w<<17&4294967295|w>>>15),w=D+(b^M&(L^b))+O[3]+3250441966&4294967295,D=M+(w<<22&4294967295|w>>>10),w=b+(L^D&(M^L))+O[4]+4118548399&4294967295,b=D+(w<<7&4294967295|w>>>25),w=L+(M^b&(D^M))+O[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=M+(D^L&(b^D))+O[6]+2821735955&4294967295,M=L+(w<<17&4294967295|w>>>15),w=D+(b^M&(L^b))+O[7]+4249261313&4294967295,D=M+(w<<22&4294967295|w>>>10),w=b+(L^D&(M^L))+O[8]+1770035416&4294967295,b=D+(w<<7&4294967295|w>>>25),w=L+(M^b&(D^M))+O[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=M+(D^L&(b^D))+O[10]+4294925233&4294967295,M=L+(w<<17&4294967295|w>>>15),w=D+(b^M&(L^b))+O[11]+2304563134&4294967295,D=M+(w<<22&4294967295|w>>>10),w=b+(L^D&(M^L))+O[12]+1804603682&4294967295,b=D+(w<<7&4294967295|w>>>25),w=L+(M^b&(D^M))+O[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=M+(D^L&(b^D))+O[14]+2792965006&4294967295,M=L+(w<<17&4294967295|w>>>15),w=D+(b^M&(L^b))+O[15]+1236535329&4294967295,D=M+(w<<22&4294967295|w>>>10),w=b+(M^L&(D^M))+O[1]+4129170786&4294967295,b=D+(w<<5&4294967295|w>>>27),w=L+(D^M&(b^D))+O[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=M+(b^D&(L^b))+O[11]+643717713&4294967295,M=L+(w<<14&4294967295|w>>>18),w=D+(L^b&(M^L))+O[0]+3921069994&4294967295,D=M+(w<<20&4294967295|w>>>12),w=b+(M^L&(D^M))+O[5]+3593408605&4294967295,b=D+(w<<5&4294967295|w>>>27),w=L+(D^M&(b^D))+O[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=M+(b^D&(L^b))+O[15]+3634488961&4294967295,M=L+(w<<14&4294967295|w>>>18),w=D+(L^b&(M^L))+O[4]+3889429448&4294967295,D=M+(w<<20&4294967295|w>>>12),w=b+(M^L&(D^M))+O[9]+568446438&4294967295,b=D+(w<<5&4294967295|w>>>27),w=L+(D^M&(b^D))+O[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=M+(b^D&(L^b))+O[3]+4107603335&4294967295,M=L+(w<<14&4294967295|w>>>18),w=D+(L^b&(M^L))+O[8]+1163531501&4294967295,D=M+(w<<20&4294967295|w>>>12),w=b+(M^L&(D^M))+O[13]+2850285829&4294967295,b=D+(w<<5&4294967295|w>>>27),w=L+(D^M&(b^D))+O[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=M+(b^D&(L^b))+O[7]+1735328473&4294967295,M=L+(w<<14&4294967295|w>>>18),w=D+(L^b&(M^L))+O[12]+2368359562&4294967295,D=M+(w<<20&4294967295|w>>>12),w=b+(D^M^L)+O[5]+4294588738&4294967295,b=D+(w<<4&4294967295|w>>>28),w=L+(b^D^M)+O[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=M+(L^b^D)+O[11]+1839030562&4294967295,M=L+(w<<16&4294967295|w>>>16),w=D+(M^L^b)+O[14]+4259657740&4294967295,D=M+(w<<23&4294967295|w>>>9),w=b+(D^M^L)+O[1]+2763975236&4294967295,b=D+(w<<4&4294967295|w>>>28),w=L+(b^D^M)+O[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=M+(L^b^D)+O[7]+4139469664&4294967295,M=L+(w<<16&4294967295|w>>>16),w=D+(M^L^b)+O[10]+3200236656&4294967295,D=M+(w<<23&4294967295|w>>>9),w=b+(D^M^L)+O[13]+681279174&4294967295,b=D+(w<<4&4294967295|w>>>28),w=L+(b^D^M)+O[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=M+(L^b^D)+O[3]+3572445317&4294967295,M=L+(w<<16&4294967295|w>>>16),w=D+(M^L^b)+O[6]+76029189&4294967295,D=M+(w<<23&4294967295|w>>>9),w=b+(D^M^L)+O[9]+3654602809&4294967295,b=D+(w<<4&4294967295|w>>>28),w=L+(b^D^M)+O[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=M+(L^b^D)+O[15]+530742520&4294967295,M=L+(w<<16&4294967295|w>>>16),w=D+(M^L^b)+O[2]+3299628645&4294967295,D=M+(w<<23&4294967295|w>>>9),w=b+(M^(D|~L))+O[0]+4096336452&4294967295,b=D+(w<<6&4294967295|w>>>26),w=L+(D^(b|~M))+O[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=M+(b^(L|~D))+O[14]+2878612391&4294967295,M=L+(w<<15&4294967295|w>>>17),w=D+(L^(M|~b))+O[5]+4237533241&4294967295,D=M+(w<<21&4294967295|w>>>11),w=b+(M^(D|~L))+O[12]+1700485571&4294967295,b=D+(w<<6&4294967295|w>>>26),w=L+(D^(b|~M))+O[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=M+(b^(L|~D))+O[10]+4293915773&4294967295,M=L+(w<<15&4294967295|w>>>17),w=D+(L^(M|~b))+O[1]+2240044497&4294967295,D=M+(w<<21&4294967295|w>>>11),w=b+(M^(D|~L))+O[8]+1873313359&4294967295,b=D+(w<<6&4294967295|w>>>26),w=L+(D^(b|~M))+O[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=M+(b^(L|~D))+O[6]+2734768916&4294967295,M=L+(w<<15&4294967295|w>>>17),w=D+(L^(M|~b))+O[13]+1309151649&4294967295,D=M+(w<<21&4294967295|w>>>11),w=b+(M^(D|~L))+O[4]+4149444226&4294967295,b=D+(w<<6&4294967295|w>>>26),w=L+(D^(b|~M))+O[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=M+(b^(L|~D))+O[2]+718787259&4294967295,M=L+(w<<15&4294967295|w>>>17),w=D+(L^(M|~b))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+b&4294967295,V.g[1]=V.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+L&4294967295}s.prototype.u=function(V,b){b===void 0&&(b=V.length);for(var D=b-this.blockSize,O=this.B,M=this.h,L=0;L<b;){if(M==0)for(;L<=D;)o(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<b;)if(O[M++]=V.charCodeAt(L++),M==this.blockSize){o(this,O),M=0;break}}else for(;L<b;)if(O[M++]=V[L++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var b=1;b<V.length-8;++b)V[b]=0;var D=8*this.o;for(b=V.length-8;b<V.length;++b)V[b]=D&255,D/=256;for(this.u(V),V=Array(16),b=D=0;4>b;++b)for(var O=0;32>O;O+=8)V[D++]=this.g[b]>>>O&255;return V};function h(V,b){var D=g;return Object.prototype.hasOwnProperty.call(D,V)?D[V]:D[V]=b(V)}function d(V,b){this.h=b;for(var D=[],O=!0,M=V.length-1;0<=M;M--){var L=V[M]|0;O&&L==b||(D[M]=L,O=!1)}this.g=D}var g={};function v(V){return-128<=V&&128>V?h(V,function(b){return new d([b|0],0>b?-1:0)}):new d([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return N;if(0>V)return J(_(-V));for(var b=[],D=1,O=0;V>=D;O++)b[O]=V/D|0,D*=4294967296;return new d(b,0)}function A(V,b){if(V.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(V.charAt(0)=="-")return J(A(V.substring(1),b));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=_(Math.pow(b,8)),O=N,M=0;M<V.length;M+=8){var L=Math.min(8,V.length-M),w=parseInt(V.substring(M,M+L),b);8>L?(L=_(Math.pow(b,L)),O=O.j(L).add(_(w))):(O=O.j(D),O=O.add(_(w)))}return O}var N=v(0),S=v(1),H=v(16777216);a=d.prototype,a.m=function(){if(tt(this))return-J(this).m();for(var V=0,b=1,D=0;D<this.g.length;D++){var O=this.i(D);V+=(0<=O?O:4294967296+O)*b,b*=4294967296}return V},a.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(K(this))return"0";if(tt(this))return"-"+J(this).toString(V);for(var b=_(Math.pow(V,6)),D=this,O="";;){var M=Rt(D,b).g;D=mt(D,M.j(b));var L=((0<D.g.length?D.g[0]:D.h)>>>0).toString(V);if(D=M,K(D))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},a.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function K(V){if(V.h!=0)return!1;for(var b=0;b<V.g.length;b++)if(V.g[b]!=0)return!1;return!0}function tt(V){return V.h==-1}a.l=function(V){return V=mt(this,V),tt(V)?-1:K(V)?0:1};function J(V){for(var b=V.g.length,D=[],O=0;O<b;O++)D[O]=~V.g[O];return new d(D,~V.h).add(S)}a.abs=function(){return tt(this)?J(this):this},a.add=function(V){for(var b=Math.max(this.g.length,V.g.length),D=[],O=0,M=0;M<=b;M++){var L=O+(this.i(M)&65535)+(V.i(M)&65535),w=(L>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);O=w>>>16,L&=65535,w&=65535,D[M]=w<<16|L}return new d(D,D[D.length-1]&-2147483648?-1:0)};function mt(V,b){return V.add(J(b))}a.j=function(V){if(K(this)||K(V))return N;if(tt(this))return tt(V)?J(this).j(J(V)):J(J(this).j(V));if(tt(V))return J(this.j(J(V)));if(0>this.l(H)&&0>V.l(H))return _(this.m()*V.m());for(var b=this.g.length+V.g.length,D=[],O=0;O<2*b;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<V.g.length;M++){var L=this.i(O)>>>16,w=this.i(O)&65535,Ae=V.i(M)>>>16,ee=V.i(M)&65535;D[2*O+2*M]+=w*ee,ut(D,2*O+2*M),D[2*O+2*M+1]+=L*ee,ut(D,2*O+2*M+1),D[2*O+2*M+1]+=w*Ae,ut(D,2*O+2*M+1),D[2*O+2*M+2]+=L*Ae,ut(D,2*O+2*M+2)}for(O=0;O<b;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=b;O<2*b;O++)D[O]=0;return new d(D,0)};function ut(V,b){for(;(V[b]&65535)!=V[b];)V[b+1]+=V[b]>>>16,V[b]&=65535,b++}function rt(V,b){this.g=V,this.h=b}function Rt(V,b){if(K(b))throw Error("division by zero");if(K(V))return new rt(N,N);if(tt(V))return b=Rt(J(V),b),new rt(J(b.g),J(b.h));if(tt(b))return b=Rt(V,J(b)),new rt(J(b.g),b.h);if(30<V.g.length){if(tt(V)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var D=S,O=b;0>=O.l(V);)D=ht(D),O=ht(O);var M=wt(D,1),L=wt(O,1);for(O=wt(O,2),D=wt(D,2);!K(O);){var w=L.add(O);0>=w.l(V)&&(M=M.add(D),L=w),O=wt(O,1),D=wt(D,1)}return b=mt(V,M.j(b)),new rt(M,b)}for(M=N;0<=V.l(b);){for(D=Math.max(1,Math.floor(V.m()/b.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=_(D),w=L.j(b);tt(w)||0<w.l(V);)D-=O,L=_(D),w=L.j(b);K(L)&&(L=S),M=M.add(L),V=mt(V,w)}return new rt(M,V)}a.A=function(V){return Rt(this,V).h},a.and=function(V){for(var b=Math.max(this.g.length,V.g.length),D=[],O=0;O<b;O++)D[O]=this.i(O)&V.i(O);return new d(D,this.h&V.h)},a.or=function(V){for(var b=Math.max(this.g.length,V.g.length),D=[],O=0;O<b;O++)D[O]=this.i(O)|V.i(O);return new d(D,this.h|V.h)},a.xor=function(V){for(var b=Math.max(this.g.length,V.g.length),D=[],O=0;O<b;O++)D[O]=this.i(O)^V.i(O);return new d(D,this.h^V.h)};function ht(V){for(var b=V.g.length+1,D=[],O=0;O<b;O++)D[O]=V.i(O)<<1|V.i(O-1)>>>31;return new d(D,V.h)}function wt(V,b){var D=b>>5;b%=32;for(var O=V.g.length-D,M=[],L=0;L<O;L++)M[L]=0<b?V.i(L+D)>>>b|V.i(L+D+1)<<32-b:V.i(L+D);return new d(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Q_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,gr=d}).apply(typeof My<"u"?My:typeof self<"u"?self:typeof window<"u"?window:{});var Mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y_,zl,X_,Bu,Hf,K_,Z_,$_;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mu=="object"&&Mu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in p))break t;p=p[P]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,P={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function N(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function S(u,m,p){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:N,S.apply(null,arguments)}function H(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function K(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,P,q){for(var nt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)nt[Vt-2]=arguments[Vt];return m.prototype[P].apply(T,nt)}}function tt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const P=u.length||0,q=T.length||0;u.length=P+q;for(let nt=0;nt<q;nt++)u[P+nt]=T[nt]}else u.push(T)}}class mt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ut(u){return/^[\s\xa0]*$/.test(u)}function rt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Rt(u){return Rt[" "](u),u}Rt[" "]=function(){};var ht=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function wt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function V(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function b(u){const m={};for(const p in u)m[p]=u[p];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(p in T)u[p]=T[p];for(let q=0;q<D.length;q++)p=D[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function L(u){g.setTimeout(()=>{throw u},0)}function w(){var u=jt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,p){const T=ee.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ee=new mt(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ot=!1,jt=new Ae,C=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then($)}};var $=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){L(p)}var m=ee;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function bt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ht){t:{try{Rt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}K(bt,W);var vt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),gt=0;function ue(u,m,p,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=P,this.key=++gt,this.da=this.fa=!1}function jn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function oi(u){this.src=u,this.g={},this.h=0}oi.prototype.add=function(u,m,p,T,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var nt=wr(u,m,T,P);return-1<nt?(m=u[nt],p||(m.fa=!1)):(m=new ue(m,this.src,q,!!T,P),m.fa=p,u.push(m)),m};function Rr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=P)&&Array.prototype.splice.call(T,P,1),q&&(jn(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function wr(u,m,p,T){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return P}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),Cs={};function uo(u,m,p,T,P){if(Array.isArray(m)){for(var q=0;q<m.length;q++)uo(u,m[q],p,T,P);return null}return p=co(p),u&&u[me]?u.K(m,p,_(T)?!!T.capture:!1,P):gn(u,m,p,!1,T,P)}function gn(u,m,p,T,P,q){if(!m)throw Error("Invalid event type");var nt=_(P)?!!P.capture:!!P,Vt=_a(u);if(Vt||(u[Dr]=Vt=new oi(u)),p=Vt.add(m,p,T,nt,q),p.proxy)return p;if(T=Tc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ft||(P=nt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Nr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Tc(){function u(p){return m.call(u.src,u.listener,p)}const m=Ac;return u}function xs(u,m,p,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)xs(u,m[q],p,T,P);else T=_(T)?!!T.capture:!!T,p=co(p),u&&u[me]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=wr(q,p,T,P),-1<p&&(jn(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=_a(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wr(m,p,T,P)),(p=-1<u?m[u]:null)&&ya(p))}function ya(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])Rr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Nr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=_a(m))?(Rr(p,u),p.h==0&&(p.src=null,m[Dr]=null)):jn(u)}}}function Nr(u){return u in Cs?Cs[u]:Cs[u]="on"+u}function Ac(u,m){if(u.da)u=!0;else{m=new bt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&ya(u),u=p.call(T,m)}return u}function _a(u){return u=u[Dr],u instanceof oi?u:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function co(u){return typeof u=="function"?u:(u[Is]||(u[Is]=function(m){return u.handleEvent(m)}),u[Is])}function se(){it.call(this),this.i=new oi(this),this.M=this,this.F=null}K(se,it),se.prototype[me]=!0,se.prototype.removeEventListener=function(u,m,p,T){xs(this,u,m,p,T)};function Ht(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var P=m;m=new W(T,u),O(m,P)}if(P=!0,p)for(var q=p.length-1;0<=q;q--){var nt=m.g=p[q];P=sn(nt,T,!0,m)&&P}if(nt=m.g=u,P=sn(nt,T,!0,m)&&P,P=sn(nt,T,!1,m)&&P,p)for(q=0;q<p.length;q++)nt=m.g=p[q],P=sn(nt,T,!1,m)&&P}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)jn(p[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},se.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function sn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==p){var Vt=nt.listener,Se=nt.ha||nt.src;nt.fa&&Rr(u.i,nt),P=Vt.call(Se,T)!==!1&&P}}return P&&!T.defaultPrevented}function Fe(u,m,p){if(typeof u=="function")p&&(u=S(u,p));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ho(u){u.g=Fe(()=>{u.g=null,u.i&&(u.i=!1,ho(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class bc extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ho(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cr(u){it.call(this),this.h=u,this.g={}}K(Cr,it);var xr=[];function Ir(u){wt(u.g,function(m,p){this.g.hasOwnProperty(p)&&ya(m)},u),u.g={}}Cr.prototype.N=function(){Cr.aa.N.call(this),Ir(this)},Cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=g.JSON.stringify,va=g.JSON.parse,Or=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Os(){}Os.prototype.h=null;function Vs(u){return u.h||(u.h=u.i())}function Ms(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ci(){W.call(this,"d")}K(ci,W);function Ls(){W.call(this,"c")}K(Ls,W);var zn={},Us=null;function Pi(){return Us=Us||new se}zn.La="serverreachability";function Ea(u){W.call(this,zn.La,u)}K(Ea,W);function ji(u){const m=Pi();Ht(m,new Ea(m))}zn.STAT_EVENT="statevent";function fo(u,m){W.call(this,zn.STAT_EVENT,u),this.stat=m}K(fo,W);function ne(u){const m=Pi();Ht(m,new fo(m,u))}zn.Ma="timingevent";function be(u,m){W.call(this,zn.Ma,u),this.size=m}K(be,W);function ge(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function Ps(u,m,p,T,P,q){u.info(function(){if(u.g)if(q)for(var nt="",Vt=q.split("&"),Se=0;Se<Vt.length;Se++){var Mt=Vt[Se].split("=");if(1<Mt.length){var xe=Mt[0];Mt=Mt[1];var Re=xe.split("_");nt=2<=Re.length&&Re[1]=="type"?nt+(xe+"="+Mt+"&"):nt+(xe+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+p+`
`+nt})}function Sc(u,m,p,T,P,q,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+p+`
`+q+" "+nt})}function zi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vr(u,p)+(T?" "+T:"")})}function mo(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Vr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<P.length;nt++)P[nt]=""}}}}return xn(p)}catch{return m}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function kn(){}K(kn,Os),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},Bn=new kn;function $e(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var js={},Ta={};function In(u,m,p){u.L=1,u.v=jr(ln(m)),u.m=p,u.P=!0,fi(u,null)}function fi(u,m){u.F=Date.now(),Mr(u),u.A=ln(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Gs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ce,u.g=xo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new bc(S(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(xr[0]=P.toString()),P=xr);for(var q=0;q<P.length;q++){var nt=uo(p,P[q],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ji(),Ps(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)t:{const Re=En(this.g);var m=this.g.Ba();const Ei=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||Ao(this.g)))){this.J||Re!=4||m==7||(m==8||0>=Ei?ji(3):ji(2)),ki(this);var p=this.g.Z();this.X=p;e:if(go(this)){var T=Ao(this.g);u="";var P=T.length,q=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),qn(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=p==200,Sc(this.i,this.u,this.A,this.l,this.R,Re,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Se=this.g;if((Vt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Vt)){var Mt=Vt;break e}}Mt=null}if(p=Mt)zi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lr(this,p);else{this.o=!1,this.s=3,ne(12),Pe(this),qn(this);break t}}if(this.P){p=!0;let je;for(;!this.J&&this.C<nt.length;)if(je=po(this,nt),je==Ta){Re==4&&(this.s=4,ne(14),p=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(je==js){this.s=4,ne(15),zi(this.i,this.l,nt,"[Invalid Chunk]"),p=!1;break}else zi(this.i,this.l,je,null),Lr(this,je);if(go(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||nt.length!=0||this.h.h||(this.s=1,ne(16),p=!1),this.o=this.o&&p,!p)zi(this.i,this.l,nt,"[Invalid Chunked Response]"),Pe(this),qn(this);else if(0<nt.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Qr(xe),xe.M=!0,ne(11))}}else zi(this.i,this.l,nt,null),Lr(this,nt);Re==4&&Pe(this),this.o&&!this.J&&(Re==4?Do(this.j,this):(this.o=!1,Mr(this)))}else Cc(this.g),p==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Pe(this),qn(this)}}}catch{}finally{}};function go(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function po(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Ta:(p=Number(m.substring(p,T)),isNaN(p)?js:(T+=1,T+p>m.length?Ta:(m=m.slice(T,T+p),u.C=T+p,m)))}$e.prototype.cancel=function(){this.J=!0,Pe(this)};function Mr(u){u.S=Date.now()+u.I,yo(u,u.I)}function yo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ge(S(u.ba,u),m)}function ki(u){u.B&&(g.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(mo(this.i,this.A),this.L!=2&&(ji(),ne(17)),Pe(this),this.s=2,qn(this)):yo(this,this.S-u)};function qn(u){u.j.G==0||u.J||Do(u.j,u)}function Pe(u){ki(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ir(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Lr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||zs(p.h,u))){if(!u.K&&zs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Va(p),Ia(p);else break t;Ks(p),ne(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=ge(S(p.Za,p),6e3));if(1>=ba(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else vi(p,11)}else if((u.K||p.g==u)&&Va(p),!ut(m))for(P=p.Da.g.parse(m),m=0;m<P.length;m++){let Mt=P[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const xe=Mt[3];xe!=null&&(p.la=xe,p.j.info("VER="+p.la));const Re=Mt[4];Re!=null&&(p.Aa=Re,p.j.info("SVER="+p.Aa));const Ei=Mt[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(T=1.5*Ei,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const je=u.g;if(je){const Kn=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var q=T.h;q.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Sa(q,q.h),q.h=null))}if(T.D){const $s=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(T.ya=$s,Qt(T.I,T.D,$s))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var nt=u;if(T.qa=Co(T,T.J?T.ia:null,T.W),nt.K){Je(T.h,nt);var Vt=nt,Se=T.L;Se&&(Vt.I=Se),Vt.B&&(ki(Vt),Mr(Vt)),T.g=nt}else Ro(T);0<p.i.length&&Oa(p)}else Mt[0]!="stop"&&Mt[0]!="close"||vi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?vi(p,7):Ys(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}ji(4)}catch{}}var _o=class{constructor(u,m){this.g=u,this.map=m}};function di(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ba(u){return u.h?1:u.g?u.g.size:0}function zs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Sa(u,m){u.g?u.g.add(m):u.h=m}function Je(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}di.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return tt(u.i)}function Rc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Ra(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function ks(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Ra(u),T=Rc(u),P=T.length,q=0;q<P;q++)m.call(void 0,T[q],p&&p[q],u)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),P=null;if(0<=T){var q=u[p].substring(0,T);P=u[p].substring(T+1)}else q=u[p];m(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function pe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pe){this.h=u.h,Pr(this,u.j),this.o=u.o,this.g=u.g,qi(this,u.s),this.l=u.l;var m=u.i,p=new gi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),mi(this,p),this.m=u.m}else u&&(m=String(u).match(Ur))?(this.h=!1,Pr(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),qi(this,m[4]),this.l=yn(m[5]||"",!0),mi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}pe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(zr(m,qs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(zr(m,qs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(zr(p,p.charAt(0)=="/"?Dc:Hs,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",zr(p,wa)),u.join("")};function ln(u){return new pe(u)}function Pr(u,m,p){u.j=p?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function mi(u,m,p){m instanceof gi?(u.i=m,Eo(u.i,u.h)):(p||(m=zr(m,Nc)),u.i=new gi(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function jr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,vo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,Hs=/[#\?:]/g,Dc=/[#\?]/g,Nc=/[#\?@]/g,wa=/#/g;function gi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&wc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=gi.prototype,a.add=function(u,m){_n(this),this.i=null,u=Hn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function pi(u,m){_n(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return _n(u),m=Hn(u,m),u.g.has(m)}a.forEach=function(u,m){_n(this),this.g.forEach(function(p,T){p.forEach(function(P){u.call(m,P,T,this)},this)},this)},a.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const P=u[T];for(let q=0;q<P.length;q++)p.push(m[T])}return p},a.V=function(u){_n(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return _n(this),this.i=null,u=Hn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gs(u,m,p){pi(u,m),0<p.length&&(u.i=null,u.g.set(Hn(u,m),tt(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),nt=this.V(T);for(T=0;T<nt.length;T++){var P=q;nt[T]!==""&&(P+="="+encodeURIComponent(String(nt[T]))),u.push(P)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Eo(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(p,T){var P=T.toLowerCase();T!=P&&(pi(this,T),Gs(this,P,p))},u)),u.j=m}function Br(u,m){const p=new pn;if(g.Image){const T=new Image;T.onload=H(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=H(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=H(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(vn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function On(u,m){const p=new pn,T=new AbortController,P=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),vn(p,"TestPingServer: error",!1,m)})}function vn(u,m,p,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(p)}catch{}}function kr(){this.g=new Or}function Gn(u,m,p){const T=p||"";try{ks(u,function(P,q){let nt=P;_(P)&&(nt=xn(P)),m.push(T+q+"="+encodeURIComponent(nt))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function Hi(u){this.l=u.Ub||null,this.j=u.eb||!1}K(Hi,Os),Hi.prototype.g=function(){return new _i(this.l,this.j)},Hi.prototype.i=function(u){return function(){return u}}({});function _i(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(_i,se),a=_i.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Qn(this),this.readyState==3&&Fs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},a.Qa=function(u){this.g&&(this.response=u,Fn(this))},a.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qs(u){let m="";return wt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ce(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Qs(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function kt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(kt,se);var Da=/^https?$/i,qr=["POST","PUT"];a=kt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Vs(this.o):Vs(Bn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){To(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)p.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(qr,m,void 0))||T||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of p)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){To(this,q)}};function To(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Na(u),Yn(u)}function Na(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Yn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),kt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},a.bb=function(){Ca(this)};function Ca(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)Fe(u.Ea,0,u);else if(Ht(u,"readystatechange"),En(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=nt===0){var P=String(u.D).match(Ur)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),T=!Da.test(P?P.toLowerCase():"")}p=T}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var q=2<En(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Na(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){Hr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=T}catch{}}}function Hr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),va(m)}};function Ao(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Cc(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ut(u[T]))continue;var p=M(u[T]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[P]||[];m[P]=q,q.push(p)}V(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function xa(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,u),this.cb=Gr("retryDelaySeedMs",1e4,u),this.Wa=Gr("forwardChannelMaxRetries",2,u),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new di(u&&u.concurrentRequestLimit),this.Da=new kr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=xa.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){ne(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Co(this,null,this.W),Oa(this)};function Ys(u){if(bo(u),u.G==3){var m=u.U++,p=ln(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Fr(u,p),m=new $e(u,u.j,m),m.L=2,m.v=jr(ln(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=xo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Mr(m)}No(u)}function Ia(u){u.g&&(Qr(u),u.g.cancel(),u.g=null)}function bo(u){Ia(u),u.u&&(g.clearTimeout(u.u),u.u=null),Va(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Oa(u){if(!Aa(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||C(),ot||(et(),ot=!0),jt.add(m,u),u.B=0}}function xc(u,m){return ba(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ge(S(u.Ga,u,m),Zs(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new $e(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=So(this,P,m),p=ln(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Fr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Qs(q)))+"&"+m:this.m&&Ce(p,this.m,q)),Sa(this.h,P),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),P.T=!0,In(P,p,null)):In(P,p,m),this.G=2}}else this.G==3&&(u?Xs(this,u):this.i.length==0||Aa(this.h)||Xs(this))};function Xs(u,m){var p;m?p=m.l:p=u.U++;const T=ln(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),Fr(u,T),u.m&&u.o&&Ce(T,u.m,u.o),p=new $e(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=So(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Sa(u.h,p),In(p,T,m)}function Fr(u,m){u.H&&wt(u.H,function(p,T){Qt(m,T,p)}),u.l&&ks({},function(p,T){Qt(m,T,p)})}function So(u,m,p){p=Math.min(u.i.length,p);var T=u.l?S(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const nt=["count="+p];q==-1?0<p?(q=P[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let Vt=!0;for(let Se=0;Se<p;Se++){let Mt=P[Se].g;const xe=P[Se].map;if(Mt-=q,0>Mt)q=Math.max(0,P[Se].g-100),Vt=!1;else try{Gn(xe,nt,"req"+Mt+"_")}catch{T&&T(xe)}}if(Vt){T=nt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Ro(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||C(),ot||(et(),ot=!0),jt.add(m,u),u.v=0}}function Ks(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ge(S(u.Fa,u),Zs(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,wo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ge(S(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),Ia(this),wo(this))};function Qr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function wo(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),Fr(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=jr(ln(m)),p.m=null,p.P=!0,fi(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Ia(this),Ks(this),ne(19))};function Va(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Do(u,m){var p=null;if(u.g==m){Va(u),Qr(u),u.g=null;var T=2}else if(zs(u.h,m))p=m.D,Je(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=Pi(),Ht(T,new be(T,p)),Oa(u)}else Ro(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&xc(u,m)||T==2&&Ks(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),P){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function Zs(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var p=S(u.fb,u),T=u.Xa;const P=!T;T=new pe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Pr(T,"https"),jr(T),P?Br(T.toString(),p):On(T.toString(),p)}else ne(2);u.G=0,u.l&&u.l.sa(m),No(u),bo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function No(u){if(u.G=0,u.ka=[],u.l){const m=Bs(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function Co(u,m,p){var T=p instanceof pe?ln(p):new pe(p);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.s);else{var P=g.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var q=new pe(null);T&&Pr(q,T),m&&(q.g=m),P&&qi(q,P),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),Fr(u,T),T}function xo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Hi({eb:p})):new kt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Io(){}a=Io.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ma(){}Ma.prototype.g=function(u,m){return new We(u,m)};function We(u,m){se.call(this),this.g=new xa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ut(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ut(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}K(We,se),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Ys(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=xn(u),u=p);m.i.push(new _o(m.Ya++,u)),m.G==3&&Oa(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,We.aa.N.call(this)};function Oo(u){ci.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}K(Oo,ci);function Vo(){Ls.call(this),this.status=1}K(Vo,Ls);function Xn(u){this.g=u}K(Xn,Io),Xn.prototype.ua=function(){Ht(this.g,"a")},Xn.prototype.ta=function(u){Ht(this.g,new Oo(u))},Xn.prototype.sa=function(u){Ht(this.g,new Vo)},Xn.prototype.ra=function(){Ht(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,$_=function(){return new Ma},Z_=function(){return Pi()},K_=zn,Hf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Bu=Bi,hi.COMPLETE="complete",X_=hi,Ms.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",se.prototype.listen=se.prototype.K,zl=Ms,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,Y_=kt}).apply(typeof Mu<"u"?Mu:typeof self<"u"?self:typeof window<"u"?window:{});const Ly="@firebase/firestore",Uy="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ss="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new B_("@firebase/firestore");function us(){return ca.logLevel}function st(a,...e){if(ca.logLevel<=Pt.DEBUG){const i=e.map(cd);ca.debug(`Firestore (${Ss}): ${a}`,...i)}}function Li(a,...e){if(ca.logLevel<=Pt.ERROR){const i=e.map(cd);ca.error(`Firestore (${Ss}): ${a}`,...i)}}function _r(a,...e){if(ca.logLevel<=Pt.WARN){const i=e.map(cd);ca.warn(`Firestore (${Ss}): ${a}`,...i)}}function cd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,J_(a,s,i)}function J_(a,e,i){let s=`FIRESTORE (${Ss}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Li(s),new Error(s)}function qt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||J_(e,o,s)}function At(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends bs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ke.UNAUTHENTICATED))}shutdown(){}}class aA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class sA{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new pr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},g=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new pr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new W_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class lA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new lA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,H1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Py(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Py(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=cA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Nt(a,e){return a<e?-1:a>e?1:0}function Gf(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Nt(s,o);{const h=tv(),d=hA(h.encode(jy(a,i)),h.encode(jy(e,i)));return d!==0?d:Nt(s,o)}}i+=s>65535?2:1}return Nt(a.length,e.length)}function jy(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function hA(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Nt(a[i],e[i]);return Nt(a.length,e.length)}function _s(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="__name__";class ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&_t(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ei.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const s=ei.isNumericId(e),o=ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ei.extractNumericId(e).compare(ei.extractNumericId(i)):Gf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class te extends ei{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new te(i)}static emptyPath(){return new te([])}}const fA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends ei{construct(e,i,s){return new He(e,i,s)}static isValidIdentifier(e){return fA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zy}static keyField(){return new He([zy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(te.fromString(e))}static fromName(e){return new dt(te.fromString(e).popFirst(5))}static empty(){return new dt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(a,e,i){if(!i)throw new at(Y.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function dA(a,e,i,s){if(e===!0&&s===!0)throw new at(Y.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function By(a){if(!dt.isDocumentKey(a))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function ky(a){if(dt.isDocumentKey(a))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function nv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function lc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function Zl(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lc(a);throw new at(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(a,e){const i={typeString:a};return e&&(i.value=e),i}function ro(a,e){if(!nv(a))throw new at(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new at(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=-62135596800,Hy=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Hy);return new Jt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<qy)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hy}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ro(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Te("string",Jt._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Jt(0,0))}static max(){return new Tt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function mA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new Jt(i+1,0):new Jt(i,s));return new vr(o,dt.empty(),e)}function gA(a){return new vr(a.readTime,a.key,$l)}class vr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new vr(Tt.min(),dt.empty(),$l)}static max(){return new vr(Tt.max(),dt.empty(),$l)}}function pA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(a.documentKey,e.documentKey),i!==0?i:Nt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _A{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(a){if(a.code!==Y.FAILED_PRECONDITION||a.message!==yA)throw a;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,s)=>{i(e)})}static reject(e){return new Z((i,s)=>{s(e)})}static waitFor(e){return new Z((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},v=>s(v))}),d=!0,h===o&&i()})}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next(o=>o?Z.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new Z((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new Z((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function vA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ws(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}oc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function uc(a){return a==null}function Zu(a){return a===0&&1/a==-1/0}function EA(a){return typeof a=="number"&&Number.isInteger(a)&&!Zu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="";function TA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Gy(e)),e=AA(a.get(i),e);return Gy(e)}function AA(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case iv:i+="";break;default:i+=h}}return i}function Gy(a){return a+iv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function fa(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function rv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||qe.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??qe.RED,this.left=o??qe.EMPTY,this.right=h??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new qe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(e){return new Qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ne(this.comparator);return i.data=e,i}}class Qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new Un([])}unionWith(e){let i=new Ne(He.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new av("Invalid base64 string: "+h):h}}(e);return new Ge(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const bA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(a){if(qt(!!a,39018),typeof a=="string"){let e=0;const i=bA.exec(a);if(qt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Tr(a){return typeof a=="string"?Ge.fromBase64String(a):Ge.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="server_timestamp",lv="__type__",ov="__previous_value__",uv="__local_write_time__";function dd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[lv])===null||i===void 0?void 0:i.stringValue)===sv}function cc(a){const e=a.mapValue.fields[ov];return dd(e)?cc(e):e}function Jl(a){const e=Er(a.mapValue.fields[uv].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,i,s,o,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const $u="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||$u}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===$u}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="__type__",RA="__max__",Uu={mapValue:{}},hv="__vector__",Ju="value";function Ar(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?dd(a)?4:DA(a)?9007199254740991:wA(a)?10:11:_t(28295,{value:a})}function li(a,e){if(a===e)return!0;const i=Ar(a);if(i!==Ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Jl(a).isEqual(Jl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Er(o.timestampValue),g=Er(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Tr(o.bytesValue).isEqual(Tr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return de(o.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return de(o.integerValue)===de(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=de(o.doubleValue),g=de(h.doubleValue);return d===g?Zu(d)===Zu(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return _s(a.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Fy(d)!==Fy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!li(d[v],g[v])))return!1;return!0}(a,e);default:return _t(52216,{left:a})}}function to(a,e){return(a.values||[]).find(i=>li(i,e))!==void 0}function vs(a,e){if(a===e)return 0;const i=Ar(a),s=Ar(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(a,e);case 3:return Yy(a.timestampValue,e.timestampValue);case 4:return Yy(Jl(a),Jl(e));case 5:return Gf(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Tr(h),v=Tr(d);return g.compareTo(v)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Nt(g[_],v[_]);if(A!==0)return A}return Nt(g.length,v.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Nt(de(h.latitude),de(d.latitude));return g!==0?g:Nt(de(h.longitude),de(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Xy(a.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,A;const N=h.fields||{},S=d.fields||{},H=(g=N[Ju])===null||g===void 0?void 0:g.arrayValue,K=(v=S[Ju])===null||v===void 0?void 0:v.arrayValue,tt=Nt(((_=H==null?void 0:H.values)===null||_===void 0?void 0:_.length)||0,((A=K==null?void 0:K.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:Xy(H,K)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Uu.mapValue&&d===Uu.mapValue)return 0;if(h===Uu.mapValue)return 1;if(d===Uu.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let N=0;N<v.length&&N<A.length;++N){const S=Gf(v[N],A[N]);if(S!==0)return S;const H=vs(g[v[N]],_[A[N]]);if(H!==0)return H}return Nt(v.length,A.length)}(a.mapValue,e.mapValue);default:throw _t(23264,{le:i})}}function Yy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Nt(a,e);const i=Er(a),s=Er(e),o=Nt(i.seconds,s.seconds);return o!==0?o:Nt(i.nanos,s.nanos)}function Xy(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=vs(i[o],s[o]);if(h)return h}return Nt(i.length,s.length)}function Es(a){return Ff(a)}function Ff(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Er(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Tr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return dt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Ff(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Ff(i.fields[d])}`;return o+"}"}(a.mapValue):_t(61005,{value:a})}function ku(a){switch(Ar(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cc(a);return e?16+ku(e):16;case 5:return 2*a.stringValue.length;case 6:return Tr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+ku(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return fa(s.fields,(h,d)=>{o+=h.length+ku(d)}),o}(a.mapValue);default:throw _t(13486,{value:a})}}function Ky(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Qf(a){return!!a&&"integerValue"in a}function md(a){return!!a&&"arrayValue"in a}function Zy(a){return!!a&&"nullValue"in a}function $y(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function qu(a){return!!a&&"mapValue"in a}function wA(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[cv])===null||i===void 0?void 0:i.stringValue)===hv}function Gl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return fa(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Gl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Gl(a.arrayValue.values[i]);return e}return Object.assign({},a)}function DA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===RA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!qu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(i)}setAll(e){let i=He.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Gl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());qu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){fa(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new Nn(Gl(this.value))}}function fv(a){const e=[];return fa(a.fields,(i,s)=>{const o=new He([i]);if(qu(s)){const h=fv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ze(e,0,Tt.min(),Tt.min(),Tt.min(),Nn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ze(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,Tt.min(),Tt.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,Tt.min(),Tt.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,i){this.position=e,this.inclusive=i}}function Jy(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=vs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!li(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,i="asc"){this.field=e,this.dir=i}}function NA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{}class Ee extends dv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new xA(e,i,s):i==="array-contains"?new VA(e,s):i==="in"?new MA(e,s):i==="not-in"?new LA(e,s):i==="array-contains-any"?new UA(e,s):new Ee(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new IA(e,s):new OA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vs(i,this.value)):i!==null&&Ar(this.value)===Ar(i)&&this.matchesComparison(vs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends dv{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new Pn(e,i)}matches(e){return mv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function mv(a){return a.op==="and"}function gv(a){return CA(a)&&mv(a)}function CA(a){for(const e of a.filters)if(e instanceof Pn)return!1;return!0}function Yf(a){if(a instanceof Ee)return a.field.canonicalString()+a.op.toString()+Es(a.value);if(gv(a))return a.filters.map(e=>Yf(e)).join(",");{const e=a.filters.map(i=>Yf(i)).join(",");return`${a.op}(${e})`}}function pv(a,e){return a instanceof Ee?function(s,o){return o instanceof Ee&&s.op===o.op&&s.field.isEqual(o.field)&&li(s.value,o.value)}(a,e):a instanceof Pn?function(s,o){return o instanceof Pn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&pv(d,o.filters[g]),!0):!1}(a,e):void _t(19439)}function yv(a){return a instanceof Ee?function(i){return`${i.field.canonicalString()} ${i.op} ${Es(i.value)}`}(a):a instanceof Pn?function(i){return i.op.toString()+" {"+i.getFilters().map(yv).join(" ,")+"}"}(a):"Filter"}class xA extends Ee{constructor(e,i,s){super(e,i,s),this.key=dt.fromName(s.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class IA extends Ee{constructor(e,i){super(e,"in",i),this.keys=_v("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class OA extends Ee{constructor(e,i){super(e,"not-in",i),this.keys=_v("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function _v(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>dt.fromName(s.referenceValue))}class VA extends Ee{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return md(i)&&to(i.arrayValue,this.value)}}class MA extends Ee{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&to(this.value.arrayValue,i)}}class LA extends Ee{constructor(e,i){super(e,"not-in",i)}matches(e){if(to(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!to(this.value.arrayValue,i)}}class UA extends Ee{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!md(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>to(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Pe=null}}function t_(a,e=null,i=[],s=[],o=null,h=null,d=null){return new PA(a,e,i,s,o,h,d)}function gd(a){const e=At(a);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Yf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),uc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Es(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Es(s)).join(",")),e.Pe=i}return e.Pe}function pd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!NA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!pv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Wy(a.startAt,e.startAt)&&Wy(a.endAt,e.endAt)}function Xf(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function jA(a,e,i,s,o,h,d,g){return new Ds(a,e,i,s,o,h,d,g)}function vv(a){return new Ds(a)}function e_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Ev(a){return a.collectionGroup!==null}function Fl(a){const e=At(a);if(e.Te===null){e.Te=[];const i=new Set;for(const h of e.explicitOrderBy)e.Te.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ne(He.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Te.push(new eo(h,s))}),i.has(He.keyField().canonicalString())||e.Te.push(new eo(He.keyField(),s))}return e.Te}function ni(a){const e=At(a);return e.Ie||(e.Ie=zA(e,Fl(a))),e.Ie}function zA(a,e){if(a.limitType==="F")return t_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new eo(o.field,h)});const i=a.endAt?new Wu(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Wu(a.startAt.position,a.startAt.inclusive):null;return t_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Kf(a,e){const i=a.filters.concat([e]);return new Ds(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Zf(a,e,i){return new Ds(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function hc(a,e){return pd(ni(a),ni(e))&&a.limitType===e.limitType}function Tv(a){return`${gd(ni(a))}|lt:${a.limitType}`}function cs(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>yv(o)).join(", ")}]`),uc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Es(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Es(o)).join(",")),`Target(${s})`}(ni(a))}; limitType=${a.limitType})`}function fc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):dt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Fl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,v){const _=Jy(d,g,v);return d.inclusive?_<=0:_<0}(s.startAt,Fl(s),o)||s.endAt&&!function(d,g,v){const _=Jy(d,g,v);return d.inclusive?_>=0:_>0}(s.endAt,Fl(s),o))}(a,e)}function BA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Av(a){return(e,i)=>{let s=!1;for(const o of Fl(a)){const h=kA(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function kA(a,e,i){const s=a.field.isKeyField()?dt.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?vs(v,_):_t(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return rv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=new ae(dt.comparator);function Ui(){return qA}const bv=new ae(dt.comparator);function Bl(...a){let e=bv;for(const i of a)e=e.insert(i.key,i);return e}function Sv(a){let e=bv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ua(){return Ql()}function Rv(){return Ql()}function Ql(){return new da(a=>a.toString(),(a,e)=>a.isEqual(e))}const HA=new ae(dt.comparator),GA=new Ne(dt.comparator);function Ot(...a){let e=GA;for(const i of a)e=e.add(i);return e}const FA=new Ne(Nt);function QA(){return FA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zu(e)?"-0":e}}function wv(a){return{integerValue:""+a}}function YA(a,e){return EA(e)?wv(e):yd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this._=void 0}}function XA(a,e,i){return a instanceof tc?function(o,h){const d={fields:{[lv]:{stringValue:sv},[uv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&dd(h)&&(h=cc(h)),h&&(d.fields[ov]=h),{mapValue:d}}(i,e):a instanceof no?Nv(a,e):a instanceof io?Cv(a,e):function(o,h){const d=Dv(o,h),g=n_(d)+n_(o.Ee);return Qf(d)&&Qf(o.Ee)?wv(g):yd(o.serializer,g)}(a,e)}function KA(a,e,i){return a instanceof no?Nv(a,e):a instanceof io?Cv(a,e):i}function Dv(a,e){return a instanceof ec?function(s){return Qf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class tc extends dc{}class no extends dc{constructor(e){super(),this.elements=e}}function Nv(a,e){const i=xv(e);for(const s of a.elements)i.some(o=>li(o,s))||i.push(s);return{arrayValue:{values:i}}}class io extends dc{constructor(e){super(),this.elements=e}}function Cv(a,e){let i=xv(e);for(const s of a.elements)i=i.filter(o=>!li(o,s));return{arrayValue:{values:i}}}class ec extends dc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function n_(a){return de(a.integerValue||a.doubleValue)}function xv(a){return md(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function ZA(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof no&&o instanceof no||s instanceof io&&o instanceof io?_s(s.elements,o.elements,li):s instanceof ec&&o instanceof ec?li(s.Ee,o.Ee):s instanceof tc&&o instanceof tc}(a.transform,e.transform)}class $A{constructor(e,i){this.version=e,this.transformResults=i}}class ii{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class mc{}function Iv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new _d(a.key,ii.none()):new ao(a.key,a.data,ii.none());{const i=a.data,s=Nn.empty();let o=new Ne(He.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new ma(a.key,s,new Un(o.toArray()),ii.none())}}function JA(a,e,i){a instanceof ao?function(o,h,d){const g=o.value.clone(),v=r_(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof ma?function(o,h,d){if(!Hu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=r_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Ov(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Yl(a,e,i,s){return a instanceof ao?function(h,d,g,v){if(!Hu(h.precondition,d))return g;const _=h.value.clone(),A=a_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(a,e,i,s):a instanceof ma?function(h,d,g,v){if(!Hu(h.precondition,d))return g;const _=a_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Ov(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(a,e,i,s):function(h,d,g){return Hu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function WA(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=Dv(s.transform,o||null);h!=null&&(i===null&&(i=Nn.empty()),i.set(s.field,h))}return i||null}function i_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_s(s,o,(h,d)=>ZA(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class ao extends mc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ma extends mc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Ov(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function r_(a,e,i){const s=new Map;qt(a.length===i.length,32656,{Ae:i.length,Re:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,KA(d,g,i[o]))}return s}function a_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,XA(h,d,e))}return s}class _d extends mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tb extends mc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&JA(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Yl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Rv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=Iv(d,g);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ot())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(i,s)=>i_(i,s))&&_s(this.baseMutations,e.baseMutations,(i,s)=>i_(i,s))}}class vd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return HA}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new vd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ut;function rb(a){switch(a){case Y.OK:return _t(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return _t(15467,{code:a})}}function Vv(a){if(a===void 0)return Li("GRPC error has no .code"),Y.UNKNOWN;switch(a){case ve.OK:return Y.OK;case ve.CANCELLED:return Y.CANCELLED;case ve.UNKNOWN:return Y.UNKNOWN;case ve.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ve.INTERNAL:return Y.INTERNAL;case ve.UNAVAILABLE:return Y.UNAVAILABLE;case ve.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ve.NOT_FOUND:return Y.NOT_FOUND;case ve.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ve.ABORTED:return Y.ABORTED;case ve.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ve.DATA_LOSS:return Y.DATA_LOSS;default:return _t(39323,{code:a})}}(Ut=ve||(ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=new gr([4294967295,4294967295],0);function s_(a){const e=tv().encode(a),i=new Q_;return i.update(e),new Uint8Array(i.digest())}function l_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new gr([i,s],0),new gr([o,h],0)]}class Ed{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=gr.fromNumber(this.fe)}pe(e,i,s){let o=e.add(i.multiply(gr.fromNumber(s)));return o.compare(ab)===1&&(o=new gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=s_(e),[s,o]=l_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);if(!this.ye(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ed(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=s_(e),[s,o]=l_(i);for(let h=0;h<this.hashCount;h++){const d=this.pe(s,o,h);this.we(d)}}we(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,so.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new gc(Tt.min(),o,new ae(Nt),Ui(),Ot())}}class so{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new so(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.be=o}}class Mv{constructor(e,i){this.targetId=e,this.De=i}}class Lv{constructor(e,i,s=Ge.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class o_{constructor(){this.ve=0,this.Ce=u_(),this.Fe=Ge.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ot(),i=Ot(),s=Ot();return this.Ce.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:h})}}),new so(this.Fe,this.Me,e,i,s)}ke(){this.xe=!1,this.Ce=u_()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class sb{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ui(),this.je=Pu(),this.Je=Pu(),this.He=new ae(Nt)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const s=this.tt(i);switch(e.state){case 0:this.nt(i)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(e.resumeToken));break;default:_t(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,s=e.De.count,o=this.st(i);if(o){const h=o.target;if(Xf(h))if(s===0){const d=new dt(h.path);this.Xe(i,d,Ze.newNoDocument(d,Tt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(e),v=g?this.ut(g,e,d):1;if(v!==0){this.rt(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,_)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Tr(s).toUint8Array()}catch(v){if(v instanceof av)return _r("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Ed(d,o,h)}catch(v){return _r(v instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.fe===0?null:g}ut(e,i,s){return i.De.count===s-this.ht(e,i.targetId)?0:2}ht(e,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,h,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((h,d)=>{const g=this.st(d);if(g){if(h.current&&Xf(g.target)){const v=new dt(g.target.path);this.Tt(v).has(d)||this.It(d,v)||this.Xe(d,v,Ze.newNoDocument(v,e))}h.Ne&&(i.set(d,h.Le()),h.ke())}});let s=Ot();this.Je.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this.st(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.ze.forEach((h,d)=>d.setReadTime(e));const o=new gc(e,i,this.He,this.ze,s);return this.ze=Ui(),this.je=Pu(),this.Je=Pu(),this.He=new ae(Nt),o}Ze(e,i){if(!this.nt(e))return;const s=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new o_,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new Ne(Nt),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new Ne(Nt),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new o_),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function Pu(){return new ae(dt.comparator)}function u_(){return new ae(dt.comparator)}const lb={asc:"ASCENDING",desc:"DESCENDING"},ob={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ub={and:"AND",or:"OR"};class cb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $f(a,e){return a.useProto3Json||uc(e)?e:{value:e}}function nc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function hb(a,e){return nc(a,e.toTimestamp())}function ri(a){return qt(!!a,49232),Tt.fromTimestamp(function(i){const s=Er(i);return new Jt(s.seconds,s.nanos)}(a))}function Td(a,e){return Jf(a,e).canonicalString()}function Jf(a,e){const i=function(o){return new te(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Pv(a){const e=te.fromString(a);return qt(qv(e),10190,{key:e.toString()}),e}function Wf(a,e){return Td(a.databaseId,e.path)}function Vf(a,e){const i=Pv(e);if(i.get(1)!==a.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new dt(zv(i))}function jv(a,e){return Td(a.databaseId,e)}function fb(a){const e=Pv(a);return e.length===4?te.emptyPath():zv(e)}function td(a){return new te(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function zv(a){return qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function c_(a,e,i){return{name:Wf(a,e),fields:i.value.mapValue.fields}}function db(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?Y.UNKNOWN:Vv(_.code);return new at(A,_.message||"")}(d);i=new Lv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vf(a,s.document.name),h=ri(s.document.updateTime),d=s.document.createTime?ri(s.document.createTime):Tt.min(),g=new Nn({mapValue:{fields:s.document.fields}}),v=Ze.newFoundDocument(o,h,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Gu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Vf(a,s.document),h=s.readTime?ri(s.readTime):Tt.min(),d=Ze.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Gu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Vf(a,s.document),h=s.removedTargetIds||[];i=new Gu([],h,o,null)}else{if(!("filter"in e))return _t(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new ib(o,h),g=s.targetId;i=new Mv(g,d)}}return i}function mb(a,e){let i;if(e instanceof ao)i={update:c_(a,e.key,e.value)};else if(e instanceof _d)i={delete:Wf(a,e.key)};else if(e instanceof ma)i={update:c_(a,e.key,e.data),updateMask:bb(e.fieldMask)};else{if(!(e instanceof tb))return _t(16599,{Rt:e.type});i={verify:Wf(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof tc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof no)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof io)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ec)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw _t(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:hb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t(27497)}(a,e.precondition)),i}function gb(a,e){return a&&a.length>0?(qt(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?ri(o.updateTime):ri(h);return d.isEqual(Tt.min())&&(d=ri(h)),new $A(d,o.transformResults||[])}(i,e))):[]}function pb(a,e){return{documents:[jv(a,e.path)]}}function yb(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=jv(a,o);const h=function(_){if(_.length!==0)return kv(Pn.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(S){return{field:hs(S.field),direction:Eb(S.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=$f(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{Vt:i,parent:o}}function _b(a){let e=fb(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(N){const S=Bv(N);return S instanceof Pn&&gv(S)?S.getFilters():[S]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(S=>function(K){return new eo(fs(K.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction))}(S))}(i.orderBy));let g=null;i.limit&&(g=function(N){let S;return S=typeof N=="object"?N.value:N,uc(S)?null:S}(i.limit));let v=null;i.startAt&&(v=function(N){const S=!!N.before,H=N.values||[];return new Wu(H,S)}(i.startAt));let _=null;return i.endAt&&(_=function(N){const S=!N.before,H=N.values||[];return new Wu(H,S)}(i.endAt)),jA(e,o,d,h,g,"F",v,_)}function vb(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Bv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=fs(i.unaryFilter.field);return Ee.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fs(i.unaryFilter.field);return Ee.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=fs(i.unaryFilter.field);return Ee.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fs(i.unaryFilter.field);return Ee.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(a):a.fieldFilter!==void 0?function(i){return Ee.create(fs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Pn.create(i.compositeFilter.filters.map(s=>Bv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(i.compositeFilter.op))}(a):_t(30097,{filter:a})}function Eb(a){return lb[a]}function Tb(a){return ob[a]}function Ab(a){return ub[a]}function hs(a){return{fieldPath:a.canonicalString()}}function fs(a){return He.fromServerFormat(a.fieldPath)}function kv(a){return a instanceof Ee?function(i){if(i.op==="=="){if($y(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NAN"}};if(Zy(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($y(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NOT_NAN"}};if(Zy(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(i.field),op:Tb(i.op),value:i.value}}}(a):a instanceof Pn?function(i){const s=i.getFilters().map(o=>kv(o));return s.length===1?s[0]:{compositeFilter:{op:Ab(i.op),filters:s}}}(a):_t(54877,{filter:a})}function bb(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function qv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,i,s,o,h=Tt.min(),d=Tt.min(),g=Ge.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.gt=e}}function Rb(a){const e=_b({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.Dn=new Db}addToCollectionParentIndex(e,i){return this.Dn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(vr.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Db{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ne(te.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ne(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hv=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(Hv,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ts(0)}static ur(){return new Ts(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="LruGarbageCollector",Nb=1048576;function d_([a,e],[i,s]){const o=Nt(a,i);return o===0?Nt(e,s):o}class Cb{constructor(e){this.Tr=e,this.buffer=new Ne(d_),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();d_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class xb{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){st(f_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ws(i)?st(f_,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.Rr(3e5)})}}class Ib{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(oc.ue);const s=new Cb(i);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(h_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h_):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let s,o,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(s=N,g=Date.now(),this.removeTargets(e,s,i))).next(N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(N=>(_=Date.now(),us()<=Pt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${N} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N})))}}function Ob(a,e){return new Ib(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.changes=new da(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Yl(s.mutation,o,Un.empty(),Jt.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Ot()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Ot()){const o=ua();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Bl();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ua();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Ot()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Ui();const d=Ql(),g=function(){return Ql()}();return i.forEach((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof ma)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Yl(A.mutation,_,A.mutation.getFieldMask(),Jt.now())):d.set(_.key,Un.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var N;return g.set(_,new Mb(A,(N=d.get(_))!==null&&N!==void 0?N:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Ql();let o=new ae((d,g)=>d-g),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||Un.empty();A=g.applyToLocalView(_,A),s.set(v,A);const N=(o.get(g.batchId)||Ot()).add(v);o=o.insert(g.batchId,N)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,N=Rv();A.forEach(S=>{if(!h.has(S)){const H=Iv(i.get(S),s.get(S));H!==null&&N.set(S,H),h=h.add(S)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,N))}return Z.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Ev(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Z.resolve(ua());let g=$l,v=h;return d.next(_=>Z.forEach(_,(A,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next(S=>{v=v.insert(A,S)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Ot())).next(A=>({batchId:g,changes:Sv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Bl();return this.indexManager.getCollectionParents(e,h).next(g=>Z.forEach(g,v=>{const _=function(N,S){return new Ds(S,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(A=>{A.forEach((N,S)=>{d=d.insert(N,S)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))});let g=Bl();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Yl(A.mutation,_,Un.empty(),Jt.now()),fc(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:Rb(o.bundledQuery),readTime:ri(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.overlays=new ae(dt.comparator),this.kr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ua();return Z.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.wt(e,i,h)}),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.kr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=ua(),h=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ae((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=ua(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ua(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=o)););return Z.resolve(g)}wt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new nb(i,s));let h=this.kr.get(i);h===void 0&&(h=Ot(),this.kr.set(i,h)),this.kr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this.qr=new Ne(Me.Qr),this.$r=new Ne(Me.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Wr(new Me(e,i))}Gr(e,i){e.forEach(s=>this.removeReference(s,i))}zr(e){const i=new dt(new te([])),s=new Me(i,e),o=new Me(i,e+1),h=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),h.push(d.key)}),h}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new dt(new te([])),s=new Me(i,e),o=new Me(i,e+1);let h=Ot();return this.$r.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return dt.comparator(e.key,i.key)||Nt(e.Hr,i.Hr)}static Ur(e,i){return Nt(e.Hr,i.Hr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Ne(Me.Qr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new eb(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?fd:this.er-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Yr.forEachInRange([s,o],d=>{const g=this.Zr(d.Hr);h.push(g)}),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ne(Nt);return i.forEach(o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([h,d],g=>{s=s.add(g.Hr)})}),Z.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;dt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new dt(h),0);let g=new Ne(Nt);return this.Yr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Hr)),!0)},d),Z.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return Z.forEach(i.mutations,o=>{const h=new Me(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,i){const s=new Me(i,0),o=this.Yr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.ni=e,this.docs=function(){return new ae(dt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let s=Ui();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ze.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Ui();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||pA(gA(A),s)<=0||(o.has(A.key)||fc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,o){_t(9500)}ri(e,i){return Z.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new kb(this)}getSize(e){return Z.resolve(this.size)}}class kb extends Vb{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),Z.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.persistence=e,this.ii=new da(i=>gd(i),pd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.si=0,this.oi=new Ad,this.targetCount=0,this._i=Ts.ar()}forEachTarget(e,i){return this.ii.forEach((s,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),Z.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new Ts(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.hr(i),Z.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Z.waitFor(h).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.ii.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.oi.Kr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.oi.Jr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,i){this.ai={},this.overlays={},this.ui=new oc(0),this.ci=!1,this.ci=!0,this.li=new jb,this.referenceDelegate=e(this),this.hi=new qb(this),this.indexManager=new wb,this.remoteDocumentCache=function(o){return new Bb(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new Sb(i),this.Ti=new Ub(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Pb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ai[e.toKey()];return s||(s=new zb(i,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new Hb(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ei(e,i){return Z.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,i)))}}class Hb extends _A{constructor(e){super(),this.currentSequenceNumber=e}}class bd{constructor(e){this.persistence=e,this.Ai=new Ad,this.Ri=null}static Vi(e){return new bd(e)}get mi(){if(this.Ri)return this.Ri;throw _t(60996)}addReference(e,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.mi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.mi,s=>{const o=dt.fromPath(s);return this.fi(e,o).next(h=>{h||i.removeEntry(o,Tt.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return Z.or([()=>Z.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ic{constructor(e,i){this.persistence=e,this.gi=new da(s=>TA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Ob(this,i)}static Vi(e,i){return new ic(e,i)}Ii(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}yr(e){let i=0;return this.gr(e,s=>{i++}).next(()=>i)}gr(e,i){return Z.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(h=>h?Z.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),Z.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ku(e.data.value)),i}Sr(e,i,s){return Z.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Is=s,this.ds=o}static Es(e,i){let s=Ot(),o=Ot();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Sd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return BT()?8:vA(jT())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ps(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ys(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new Gb;return this.ws(e,i,d).next(g=>{if(h.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>h.result)}Ss(e,i,s,o){return s.documentReadCount<this.Vs?(us()<=Pt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",cs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(us()<=Pt.DEBUG&&st("QueryEngine","Query:",cs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(us()<=Pt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",cs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):Z.resolve())}ps(e,i){if(e_(i))return Z.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Zf(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Ot(...h);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.bs(i,g);return this.Ds(i,_,d,v.readTime)?this.ps(e,Zf(i,null,"F")):this.vs(e,_,i,v)}))})))}ys(e,i,s,o){return e_(i)||o.isEqual(Tt.min())?Z.resolve(null):this.gs.getDocuments(e,s).next(h=>{const d=this.bs(i,h);return this.Ds(i,d,s,o)?Z.resolve(null):(us()<=Pt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),cs(i)),this.vs(e,d,i,mA(o,$l)).next(g=>g))})}bs(e,i){let s=new Ne(Av(e));return i.forEach((o,h)=>{fc(e,h)&&(s=s.add(h))}),s}Ds(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ws(e,i,s){return us()<=Pt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",cs(i)),this.gs.getDocumentsMatchingQuery(e,i,vr.min(),s)}vs(e,i,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="LocalStore",Qb=3e8;class Yb{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new ae(Nt),this.Ms=new da(h=>gd(h),pd),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lb(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function Xb(a,e,i,s){return new Yb(a,e,i,s)}async function Fv(a,e){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Ns(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let v=Ot();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next(_=>({Bs:_,removedBatchIds:d,addedBatchIds:g}))})})}function Kb(a,e){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,v,_,A){const N=_.batch,S=N.keys();let H=Z.resolve();return S.forEach(K=>{H=H.next(()=>A.getEntry(v,K)).next(tt=>{const J=_.docVersions.get(K);qt(J!==null,48541),tt.version.compareTo(J)<0&&(N.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),A.addEntry(tt)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(v,N))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let v=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Qv(a){const e=At(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function Zb(a,e){const i=At(a),s=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach((A,N)=>{const S=o.get(N);if(!S)return;g.push(i.hi.removeMatchingKeys(h,A.removedDocuments,N).next(()=>i.hi.addMatchingKeys(h,A.addedDocuments,N)));let H=S.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?H=H.withResumeToken(Ge.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),o=o.insert(N,H),function(tt,J,mt){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=Qb?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0}(S,H,A)&&g.push(i.hi.updateTargetData(h,H))});let v=Ui(),_=Ot();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push($b(h,d,e.documentUpdates).next(A=>{v=A.Ls,_=A.ks})),!s.isEqual(Tt.min())){const A=i.hi.getLastRemoteSnapshotVersion(h).next(N=>i.hi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Z.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Fs=o,h))}function $b(a,e,i){let s=Ot(),o=Ot();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Ui();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Tt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):st(Rd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{Ls:d,ks:o}})}function Jb(a,e){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=fd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Wb(a,e){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,e).next(h=>h?(o=h,Z.resolve(o)):i.hi.allocateTargetId(s).next(d=>(o=new fr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(e,s.targetId)),s})}async function ed(a,e,i){const s=At(a),o=s.Fs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!ws(d))throw d;st(Rd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function m_(a,e,i){const s=At(a);let o=Tt.min(),h=Ot();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const N=At(v),S=N.Ms.get(A);return S!==void 0?Z.resolve(N.Fs.get(S)):N.hi.getTargetData(_,A)}(s,d,ni(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:Ot())).next(g=>(tS(s,BA(e),g),{documents:g,qs:h})))}function tS(a,e,i){let s=a.xs.get(e)||Tt.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.xs.set(e,s)}class g_{constructor(){this.activeTargetIds=QA()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eS{constructor(){this.Fo=new g_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,s){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new g_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="ConnectivityMonitor";class y_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){st(p_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){st(p_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function nd(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="RestConnection",iS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rS{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===$u?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,h){const d=nd(),g=this.Go(e,i.toUriEncodedString());st(Mf,`Sending RPC '${e}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(v,o,h);const{host:_}=new URL(g),A=od(_);return this.jo(e,g,v,s,A).then(N=>(st(Mf,`Received RPC '${e}' ${d}: `,N),N),N=>{throw _r(Mf,`RPC '${e}' ${d} failed with error: `,N,"url: ",g,"request:",s),N})}Jo(e,i,s,o,h,d){return this.Wo(e,i,s,o,h)}zo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ss}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}Go(e,i){const s=iS[e];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class sS extends rS{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,s,o,h){const d=nd();return new Promise((g,v)=>{const _=new Y_;_.setWithCredentials(!0),_.listenOnce(X_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Bu.NO_ERROR:const N=_.getResponseJson();st(Xe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(N)),g(N);break;case Bu.TIMEOUT:st(Xe,`RPC '${e}' ${d} timed out`),v(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:const S=_.getStatus();if(st(Xe,`RPC '${e}' ${d} failed with status:`,S,"response text:",_.getResponseText()),S>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const K=H==null?void 0:H.error;if(K&&K.status&&K.message){const tt=function(mt){const ut=mt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(ut)>=0?ut:Y.UNKNOWN}(K.status);v(new at(tt,K.message))}else v(new at(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(Y.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{c_:e,streamId:d,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{st(Xe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);st(Xe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)})}P_(e,i,s){const o=nd(),h=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=$_(),g=Z_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.zo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");st(Xe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const N=d.createWebChannel(A,v);this.T_(N);let S=!1,H=!1;const K=new aS({Ho:J=>{H?st(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(S||(st(Xe,`Opening RPC '${e}' stream ${o} transport.`),N.open(),S=!0),st(Xe,`RPC '${e}' stream ${o} sending:`,J),N.send(J))},Yo:()=>N.close()}),tt=(J,mt,ut)=>{J.listen(mt,rt=>{try{ut(rt)}catch(Rt){setTimeout(()=>{throw Rt},0)}})};return tt(N,zl.EventType.OPEN,()=>{H||(st(Xe,`RPC '${e}' stream ${o} transport opened.`),K.s_())}),tt(N,zl.EventType.CLOSE,()=>{H||(H=!0,st(Xe,`RPC '${e}' stream ${o} transport closed`),K.__(),this.I_(N))}),tt(N,zl.EventType.ERROR,J=>{H||(H=!0,_r(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),K.__(new at(Y.UNAVAILABLE,"The operation could not be completed")))}),tt(N,zl.EventType.MESSAGE,J=>{var mt;if(!H){const ut=J.data[0];qt(!!ut,16349);const rt=ut,Rt=(rt==null?void 0:rt.error)||((mt=rt[0])===null||mt===void 0?void 0:mt.error);if(Rt){st(Xe,`RPC '${e}' stream ${o} received error:`,Rt);const ht=Rt.status;let wt=function(D){const O=ve[D];if(O!==void 0)return Vv(O)}(ht),V=Rt.message;wt===void 0&&(wt=Y.INTERNAL,V="Unknown error status: "+ht+" with message "+Rt.message),H=!0,K.__(new at(wt,V)),N.close()}else st(Xe,`RPC '${e}' stream ${o} received:`,ut),K.a_(ut)}}),tt(g,K_.STAT_EVENT,J=>{J.stat===Hf.PROXY?st(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Hf.NOPROXY&&st(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{K.o_()},0),K}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(a){return new cb(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Fi=e,this.timerId=i,this.d_=s,this.E_=o,this.A_=h,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="PersistentStream";class Xv{constructor(e,i,s,o,h,d,g,v){this.Fi=e,this.w_=s,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Yv(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{e(()=>{const o=new at(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,i){const s=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return st(__,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(st(__,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lS extends Xv{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=db(this.serializer,e),s=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ri(d.readTime):Tt.min()}(e);return this.listener.J_(i,s)}H_(e){const i={};i.database=td(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=Xf(v)?{documents:pb(h,v)}:{query:yb(h,v).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Uv(h,d.resumeToken);const _=$f(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=nc(h,d.snapshotVersion.toTimestamp());const _=$f(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=vb(this.serializer,e);s&&(i.labels=s),this.k_(i)}Y_(e){const i={};i.database=td(this.serializer),i.removeTarget=e,this.k_(i)}}class oS extends Xv{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=gb(e.writeResults,e.commitTime),s=ri(e.commitTime);return this.listener.ta(s,i)}na(){const e={};e.database=td(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>mb(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{}class cS extends uS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Wo(e,Jf(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(Y.UNKNOWN,h.toString())})}Jo(e,i,s,o,h){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,Jf(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Y.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class hS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Li(i),this._a=!1):st("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class fS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=h,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{ga(this)&&(st(ha,"Restarting streams for network reachability change."),await async function(v){const _=At(v);_.Ia.add(4),await lo(_),_.Aa.set("Unknown"),_.Ia.delete(4),await yc(_)}(this))})}),this.Aa=new hS(s,o)}}async function yc(a){if(ga(a))for(const e of a.da)await e(!0)}async function lo(a){for(const e of a.da)await e(!1)}function Kv(a,e){const i=At(a);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),Cd(i)?Nd(i):Ns(i).x_()&&Dd(i,e))}function wd(a,e){const i=At(a),s=Ns(i);i.Ta.delete(e),s.x_()&&Zv(i,e),i.Ta.size===0&&(s.x_()?s.B_():ga(i)&&i.Aa.set("Unknown"))}function Dd(a,e){if(a.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ns(a).H_(e)}function Zv(a,e){a.Ra.$e(e),Ns(a).Y_(e)}function Nd(a){a.Ra=new sb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>a.Ta.get(e)||null,lt:()=>a.datastore.serializer.databaseId}),Ns(a).start(),a.Aa.aa()}function Cd(a){return ga(a)&&!Ns(a).M_()&&a.Ta.size>0}function ga(a){return At(a).Ia.size===0}function $v(a){a.Ra=void 0}async function dS(a){a.Aa.set("Online")}async function mS(a){a.Ta.forEach((e,i)=>{Dd(a,e)})}async function gS(a,e){$v(a),Cd(a)?(a.Aa.la(e),Nd(a)):a.Aa.set("Unknown")}async function pS(a,e,i){if(a.Aa.set("Online"),e instanceof Lv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(a,e)}catch(s){st(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rc(a,s)}else if(e instanceof Gu?a.Ra.Ye(e):e instanceof Mv?a.Ra.it(e):a.Ra.et(e),!i.isEqual(Tt.min()))try{const s=await Qv(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Ra.Pt(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ta.get(_);A&&h.Ta.set(_,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const A=h.Ta.get(v);if(!A)return;h.Ta.set(v,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),Zv(h,v);const N=new fr(A.target,v,_,A.sequenceNumber);Dd(h,N)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){st(ha,"Failed to raise snapshot:",s),await rc(a,s)}}async function rc(a,e,i){if(!ws(e))throw e;a.Ia.add(1),await lo(a),a.Aa.set("Offline"),i||(i=()=>Qv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{st(ha,"Retrying IndexedDB access"),await i(),a.Ia.delete(1),await yc(a)})}function Jv(a,e){return e().catch(i=>rc(a,i,e))}async function _c(a){const e=At(a),i=br(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:fd;for(;yS(e);)try{const o=await Jb(e.localStore,s);if(o===null){e.Pa.length===0&&i.B_();break}s=o.batchId,_S(e,o)}catch(o){await rc(e,o)}Wv(e)&&t0(e)}function yS(a){return ga(a)&&a.Pa.length<10}function _S(a,e){a.Pa.push(e);const i=br(a);i.x_()&&i.Z_&&i.X_(e.mutations)}function Wv(a){return ga(a)&&!br(a).M_()&&a.Pa.length>0}function t0(a){br(a).start()}async function vS(a){br(a).na()}async function ES(a){const e=br(a);for(const i of a.Pa)e.X_(i.mutations)}async function TS(a,e,i){const s=a.Pa.shift(),o=vd.from(s,e,i);await Jv(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await _c(a)}async function AS(a,e){e&&br(a).Z_&&await async function(s,o){if(function(d){return rb(d)&&d!==Y.ABORTED}(o.code)){const h=s.Pa.shift();br(s).N_(),await Jv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await _c(s)}}(a,e),Wv(a)&&t0(a)}async function v_(a,e){const i=At(a);i.asyncQueue.verifyOperationInProgress(),st(ha,"RemoteStore received new credentials");const s=ga(i);i.Ia.add(3),await lo(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await yc(i)}async function bS(a,e){const i=At(a);e?(i.Ia.delete(2),await yc(i)):e||(i.Ia.add(2),await lo(i),i.Aa.set("Unknown"))}function Ns(a){return a.Va||(a.Va=function(i,s,o){const h=At(i);return h.ia(),new lS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Zo:dS.bind(null,a),e_:mS.bind(null,a),n_:gS.bind(null,a),J_:pS.bind(null,a)}),a.da.push(async e=>{e?(a.Va.N_(),Cd(a)?Nd(a):a.Aa.set("Unknown")):(await a.Va.stop(),$v(a))})),a.Va}function br(a){return a.ma||(a.ma=function(i,s,o){const h=At(i);return h.ia(),new oS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),e_:vS.bind(null,a),n_:AS.bind(null,a),ea:ES.bind(null,a),ta:TS.bind(null,a)}),a.da.push(async e=>{e?(a.ma.N_(),await _c(a)):(await a.ma.stop(),a.Pa.length>0&&(st(ha,`Stopping write stream with ${a.Pa.length} pending writes`),a.Pa=[]))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new xd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Id(a,e){if(Li("AsyncQueue",`${e}: ${a}`),ws(a))return new at(Y.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{static emptySet(e){return new ms(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.fa=new ae(dt.comparator)}track(e){const i=e.doc.key,s=this.fa.get(i);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(i,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(i):e.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):_t(63341,{At:e,ga:s}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,s)=>{e.push(s)}),e}}class As{constructor(e,i,s,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new As(e,i,ms.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class RS{constructor(){this.queries=T_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=At(i),h=o.queries;o.queries=T_(),h.forEach((d,g)=>{for(const v of g.wa)v.onError(s)})})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function T_(){return new da(a=>Tv(a),hc)}async function wS(a,e){const i=At(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.ba()&&(s=2):(h=new SS,s=e.ba()?0:1);try{switch(s){case 0:h.ya=await i.onListen(o,!0);break;case 1:h.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Id(d,`Initialization of query '${cs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.wa.push(e),e.va(i.onlineState),h.ya&&e.Ca(h.ya)&&Od(i)}async function DS(a,e){const i=At(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.wa.indexOf(e);d>=0&&(h.wa.splice(d,1),h.wa.length===0?o=e.ba()?0:1:!h.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function NS(a,e){const i=At(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&Od(i)}function CS(a,e,i){const s=At(a),o=s.queries.get(e);if(o)for(const h of o.wa)h.onError(i);s.queries.delete(e)}function Od(a){a.Da.forEach(e=>{e.next()})}var id,A_;(A_=id||(id={})).Fa="default",A_.Cache="cache";class xS{constructor(e,i,s){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new As(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.key=e}}class n0{constructor(e){this.key=e}}class IS{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ot(),this.mutatedKeys=Ot(),this.Xa=Av(e),this.eu=new ms(this.Xa)}get tu(){return this.Ha}nu(e,i){const s=i?i.ru:new E_,o=i?i.eu:this.eu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,N)=>{const S=o.get(A),H=fc(this.query,N)?N:null,K=!!S&&this.mutatedKeys.has(S.key),tt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;S&&H?S.data.isEqual(H.data)?K!==tt&&(s.track({type:3,doc:H}),J=!0):this.iu(S,H)||(s.track({type:2,doc:H}),J=!0,(v&&this.Xa(H,v)>0||_&&this.Xa(H,_)<0)&&(g=!0)):!S&&H?(s.track({type:0,doc:H}),J=!0):S&&!H&&(s.track({type:1,doc:S}),J=!0,(v||_)&&(g=!0)),J&&(H?(d=d.add(H),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{eu:d,ru:s,Ds:g,mutatedKeys:h}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((A,N)=>function(H,K){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{At:J})}};return tt(H)-tt(K)}(A.type,N.type)||this.Xa(A.doc,N.doc)),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],v=this.Za.size===0&&this.current&&!o?1:0,_=v!==this.Ya;return this.Ya=v,d.length!==0||_?{snapshot:new As(this.query,e.eu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new E_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ot(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return e.forEach(s=>{this.Za.has(s)||i.push(new n0(s))}),this.Za.forEach(s=>{e.has(s)||i.push(new e0(s))}),i}uu(e){this.Ha=e.qs,this.Za=Ot();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return As.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Vd="SyncEngine";class OS{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class VS{constructor(e){this.key=e,this.lu=!1}}class MS{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new da(g=>Tv(g),hc),this.Tu=new Map,this.Iu=new Set,this.du=new ae(dt.comparator),this.Eu=new Map,this.Au=new Ad,this.Ru={},this.Vu=new Map,this.mu=Ts.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function LS(a,e,i=!0){const s=o0(a);let o;const h=s.Pu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.cu()):o=await i0(s,e,i,!0),o}async function US(a,e){const i=o0(a);await i0(i,e,!0,!1)}async function i0(a,e,i,s){const o=await Wb(a.localStore,ni(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await PS(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Kv(a.remoteStore,o),g}async function PS(a,e,i,s,o){a.gu=(N,S,H)=>async function(tt,J,mt,ut){let rt=J.view.nu(mt);rt.Ds&&(rt=await m_(tt.localStore,J.query,!1).then(({documents:V})=>J.view.nu(V,rt)));const Rt=ut&&ut.targetChanges.get(J.targetId),ht=ut&&ut.targetMismatches.get(J.targetId)!=null,wt=J.view.applyChanges(rt,tt.isPrimaryClient,Rt,ht);return S_(tt,J.targetId,wt._u),wt.snapshot}(a,N,S,H);const h=await m_(a.localStore,e,!0),d=new IS(e,h.qs),g=d.nu(h.documents),v=so.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),_=d.applyChanges(g,a.isPrimaryClient,v);S_(a,i,_._u);const A=new OS(e,i,d);return a.Pu.set(e,A),a.Tu.has(i)?a.Tu.get(i).push(e):a.Tu.set(i,[e]),_.snapshot}async function jS(a,e,i){const s=At(a),o=s.Pu.get(e),h=s.Tu.get(o.targetId);if(h.length>1)return s.Tu.set(o.targetId,h.filter(d=>!hc(d,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ed(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&wd(s.remoteStore,o.targetId),rd(s,o.targetId)}).catch(Rs)):(rd(s,o.targetId),await ed(s.localStore,o.targetId,!0))}async function zS(a,e){const i=At(a),s=i.Pu.get(e),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),wd(i.remoteStore,s.targetId))}async function BS(a,e,i){const s=YS(a);try{const o=await function(d,g){const v=At(d),_=Jt.now(),A=g.reduce((H,K)=>H.add(K.key),Ot());let N,S;return v.persistence.runTransaction("Locally write mutations","readwrite",H=>{let K=Ui(),tt=Ot();return v.Os.getEntries(H,A).next(J=>{K=J,K.forEach((mt,ut)=>{ut.isValidDocument()||(tt=tt.add(mt))})}).next(()=>v.localDocuments.getOverlayedDocuments(H,K)).next(J=>{N=J;const mt=[];for(const ut of g){const rt=WA(ut,N.get(ut.key).overlayedDocument);rt!=null&&mt.push(new ma(ut.key,rt,fv(rt.value.mapValue),ii.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,mt,g)}).next(J=>{S=J;const mt=J.applyToLocalDocumentSet(N,tt);return v.documentOverlayCache.saveOverlays(H,J.batchId,mt)})}).then(()=>({batchId:S.batchId,changes:Sv(N)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,v){let _=d.Ru[d.currentUser.toKey()];_||(_=new ae(Nt)),_=_.insert(g,v),d.Ru[d.currentUser.toKey()]=_}(s,o.batchId,i),await oo(s,o.changes),await _c(s.remoteStore)}catch(o){const h=Id(o,"Failed to persist write");i.reject(h)}}async function r0(a,e){const i=At(a);try{const s=await Zb(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Eu.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?qt(d.lu,14607):o.removedDocuments.size>0&&(qt(d.lu,42227),d.lu=!1))}),await oo(i,s,e)}catch(s){await Rs(s)}}function b_(a,e,i){const s=At(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const v=At(d);v.onlineState=g;let _=!1;v.queries.forEach((A,N)=>{for(const S of N.wa)S.va(g)&&(_=!0)}),_&&Od(v)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kS(a,e,i){const s=At(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),h=o&&o.key;if(h){let d=new ae(dt.comparator);d=d.insert(h,Ze.newNoDocument(h,Tt.min()));const g=Ot().add(h),v=new gc(Tt.min(),new Map,new ae(Nt),d,g);await r0(s,v),s.du=s.du.remove(h),s.Eu.delete(e),Md(s)}else await ed(s.localStore,e,!1).then(()=>rd(s,e,i)).catch(Rs)}async function qS(a,e){const i=At(a),s=e.batch.batchId;try{const o=await Kb(i.localStore,e);s0(i,s,null),a0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await oo(i,o)}catch(o){await Rs(o)}}async function HS(a,e,i){const s=At(a);try{const o=await function(d,g){const v=At(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next(N=>(qt(N!==null,37113),A=N.keys(),v.mutationQueue.removeMutationBatch(_,N))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(s.localStore,e);s0(s,e,i),a0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await oo(s,o)}catch(o){await Rs(o)}}function a0(a,e){(a.Vu.get(e)||[]).forEach(i=>{i.resolve()}),a.Vu.delete(e)}function s0(a,e,i){const s=At(a);let o=s.Ru[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function rd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Tu.get(e))a.Pu.delete(s),i&&a.hu.pu(s,i);a.Tu.delete(e),a.isPrimaryClient&&a.Au.zr(e).forEach(s=>{a.Au.containsKey(s)||l0(a,s)})}function l0(a,e){a.Iu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(wd(a.remoteStore,i),a.du=a.du.remove(e),a.Eu.delete(i),Md(a))}function S_(a,e,i){for(const s of i)s instanceof e0?(a.Au.addReference(s.key,e),GS(a,s)):s instanceof n0?(st(Vd,"Document no longer in limbo: "+s.key),a.Au.removeReference(s.key,e),a.Au.containsKey(s.key)||l0(a,s.key)):_t(19791,{yu:s})}function GS(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Iu.has(s)||(st(Vd,"New document in limbo: "+i),a.Iu.add(s),Md(a))}function Md(a){for(;a.Iu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Iu.values().next().value;a.Iu.delete(e);const i=new dt(te.fromString(e)),s=a.mu.next();a.Eu.set(s,new VS(i)),a.du=a.du.insert(i,s),Kv(a.remoteStore,new fr(ni(vv(i.path)),s,"TargetPurposeLimboResolution",oc.ue))}}async function oo(a,e,i){const s=At(a),o=[],h=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,v)=>{d.push(s.gu(v,e,i).then(_=>{var A;if((_||i)&&s.isPrimaryClient){const N=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,N?"current":"not-current")}if(_){o.push(_);const N=Sd.Es(v.targetId,_);h.push(N)}}))}),await Promise.all(d),s.hu.J_(o),await async function(v,_){const A=At(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Z.forEach(_,S=>Z.forEach(S.Is,H=>A.persistence.referenceDelegate.addReference(N,S.targetId,H)).next(()=>Z.forEach(S.ds,H=>A.persistence.referenceDelegate.removeReference(N,S.targetId,H)))))}catch(N){if(!ws(N))throw N;st(Rd,"Failed to update sequence numbers: "+N)}for(const N of _){const S=N.targetId;if(!N.fromCache){const H=A.Fs.get(S),K=H.snapshotVersion,tt=H.withLastLimboFreeSnapshotVersion(K);A.Fs=A.Fs.insert(S,tt)}}}(s.localStore,h))}async function FS(a,e){const i=At(a);if(!i.currentUser.isEqual(e)){st(Vd,"User change. New user:",e.toKey());const s=await Fv(i.localStore,e);i.currentUser=e,function(h,d){h.Vu.forEach(g=>{g.forEach(v=>{v.reject(new at(Y.CANCELLED,d))})}),h.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await oo(i,s.Bs)}}function QS(a,e){const i=At(a),s=i.Eu.get(e);if(s&&s.lu)return Ot().add(s.key);{let o=Ot();const h=i.Tu.get(e);if(!h)return o;for(const d of h){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function o0(a){const e=At(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=r0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kS.bind(null,e),e.hu.J_=NS.bind(null,e.eventManager),e.hu.pu=CS.bind(null,e.eventManager),e}function YS(a){const e=At(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HS.bind(null,e),e}class ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return Xb(this.persistence,new Fb,e.initialUser,this.serializer)}Du(e){return new Gv(bd.Vi,this.serializer)}bu(e){return new eS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ac.provider={build:()=>new ac};class XS extends ac{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){qt(this.persistence.referenceDelegate instanceof ic,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new xb(s,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Gv(s=>ic.Vi(s,i),this.serializer)}}class ad{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>b_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FS.bind(null,this.syncEngine),await bS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RS}()}createDatastore(e){const i=pc(e.databaseInfo.databaseId),s=function(h){return new sS(h)}(e.databaseInfo);return function(h,d,g,v){return new cS(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new fS(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>b_(this.syncEngine,i,0),function(){return y_.C()?new y_:new nS}())}createSyncEngine(e,i){return function(o,h,d,g,v,_,A){const N=new MS(o,h,d,g,v,_);return A&&(N.fu=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=At(o);st(ha,"RemoteStore shutting down."),h.Ia.add(5),await lo(h),h.Ea.shutdown(),h.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ad.provider={build:()=>new ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class ZS{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=hd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{st(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Id(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Uf(a,e){a.asyncQueue.verifyOperationInProgress(),st(Sr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Fv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{_r("Terminating Firestore due to IndexedDb database deletion"),a.terminate().then(()=>{st("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{_r("Terminating Firestore due to IndexedDb database deletion failed",o)})}),a._offlineComponents=e}async function R_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await $S(a);st(Sr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>v_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>v_(e.remoteStore,o)),a._onlineComponents=e}async function $S(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st(Sr,"Using user provided OfflineComponentProvider");try{await Uf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;_r("Error using user provided cache. Falling back to memory cache: "+i),await Uf(a,new ac)}}else st(Sr,"Using default OfflineComponentProvider"),await Uf(a,new XS(void 0));return a._offlineComponents}async function u0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st(Sr,"Using user provided OnlineComponentProvider"),await R_(a,a._uninitializedComponentsProvider._online)):(st(Sr,"Using default OnlineComponentProvider"),await R_(a,new ad))),a._onlineComponents}function JS(a){return u0(a).then(e=>e.syncEngine)}async function WS(a){const e=await u0(a),i=e.eventManager;return i.onListen=LS.bind(null,e.syncEngine),i.onUnlisten=jS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=US.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=zS.bind(null,e.syncEngine),i}function t2(a,e,i={}){const s=new pr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new KS({next:S=>{A.Ou(),d.enqueueAndForget(()=>DS(h,N)),S.fromCache&&v.source==="server"?_.reject(new at(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),N=new xS(g,A,{includeMetadataChanges:!0,ka:!0});return wS(h,N)}(await WS(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="firestore.googleapis.com",D_=!0;class N_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h0,this.ssl=D_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:D_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Nb)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new rA;switch(s.type){case"firstParty":return new oA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=w_.get(i);s&&(st("ComponentProvider","Removing Datastore"),w_.delete(i),s.terminate())}(this),Promise.resolve()}}function e2(a,e,i,s={}){var o;a=Zl(a,vc);const h=od(e),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),v=`${e}:${i}`;h&&(VT(`https://${v}`),PT("Firestore",!0)),d.host!==h0&&d.host!==v&&_r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:s});if(!Yu(_,g)&&(a._setSettings(_),s.mockUserToken)){let A,N;if(typeof s.mockUserToken=="string")A=s.mockUserToken,N=Ke.MOCK_USER;else{A=MT(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Ke(S)}a._authCredentials=new aA(new W_(A,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class Ue{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(ro(i,Ue._jsonSchema))return new Ue(e,s||null,new dt(te.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Te("string",Ue._jsonSchemaVersion),referencePath:Te("string")};class yr extends pa{constructor(e,i,s){super(e,i,vv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new dt(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function f0(a,e,...i){if(a=ys(a),ev("collection","path",e),a instanceof vc){const s=te.fromString(e,...i);return ky(s),new yr(a,null,s)}{if(!(a instanceof Ue||a instanceof yr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(te.fromString(e,...i));return ky(s),new yr(a.firestore,null,s)}}function d0(a,e,...i){if(a=ys(a),arguments.length===1&&(e=hd.newId()),ev("doc","path",e),a instanceof vc){const s=te.fromString(e,...i);return By(s),new Ue(a,null,new dt(s))}{if(!(a instanceof Ue||a instanceof yr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(te.fromString(e,...i));return By(s),new Ue(a.firestore,a instanceof yr?a.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="AsyncQueue";class x_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Yv(this,"async_queue_retry"),this.oc=()=>{const s=Lf();s&&st(C_,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const i=Lf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=Lf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new pr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ws(e))throw e;st(C_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Li("INTERNAL UNHANDLED ERROR: ",I_(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(e,i,s){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=xd.createAndSchedule(this,e,i,s,h=>this.lc(h));return this.ec.push(o),o}ac(){this.tc&&_t(47125,{hc:I_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function I_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Ec extends vc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new x_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x_(e),this._firestoreClient=void 0,await e}}}function n2(a,e){const i=typeof a=="object"?a:Y1(),s=typeof a=="string"?a:$u,o=q1(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=IT("firestore");h&&e2(o,...h)}return o}function m0(a){if(a._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||i2(a),a._firestoreClient}function i2(a){var e,i,s;const o=a._freezeSettings(),h=function(g,v,_,A){return new SA(g,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,c0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new ZS(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(Ge.fromBase64String(e))}catch(i){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ro(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Te("string",Cn._jsonSchemaVersion),bytes:Te("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ai._jsonSchemaVersion}}static fromJSON(e){if(ro(e,ai._jsonSchema))return new ai(e.latitude,e.longitude)}}ai._jsonSchemaVersion="firestore/geoPoint/1.0",ai._jsonSchema={type:Te("string",ai._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ro(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new si(e.vectorValues);throw new at(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:Te("string",si._jsonSchemaVersion),vectorValues:Te("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=/^__.*__$/;class a2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,i,this.fieldTransforms):new ao(e,this.data,i,this.fieldTransforms)}}function p0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ec:a})}}class Ud{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Ac(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ud(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return sc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(p0(this.Ec)&&r2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class s2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||pc(e)}Dc(e,i,s,o=!1){return new Ud({Ec:e,methodName:i,bc:s,path:He.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function y0(a){const e=a._freezeSettings(),i=pc(a._databaseId);return new s2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function l2(a,e,i,s,o,h={}){const d=a.Dc(h.merge||h.mergeFields?2:0,e,i,o);E0("Data must be an object, but it was:",d,s);const g=_0(s,d);let v,_;if(h.merge)v=new Un(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const N of h.mergeFields){const S=u2(e,N,i);if(!d.contains(S))throw new at(Y.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);h2(A,S)||A.push(S)}v=new Un(A),_=d.fieldTransforms.filter(N=>v.covers(N.field))}else v=null,_=d.fieldTransforms;return new a2(new Nn(g),v,_)}function o2(a,e,i,s=!1){return Pd(i,a.Dc(s?4:3,e))}function Pd(a,e){if(v0(a=ys(a)))return E0("Unsupported field value:",e,a),_0(a,e);if(a instanceof g0)return function(s,o){if(!p0(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let v=Pd(g,o.yc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=ys(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Jt.fromDate(s);return{timestampValue:nc(o.serializer,h)}}if(s instanceof Jt){const h=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nc(o.serializer,h)}}if(s instanceof ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cn)return{bytesValue:Uv(o.serializer,s._byteString)};if(s instanceof Ue){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Td(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof si)return function(d,g){return{mapValue:{fields:{[cv]:{stringValue:hv},[Ju]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.wc("VectorValues must only contain numeric values.");return yd(g.serializer,_)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${lc(s)}`)}(a,e)}function _0(a,e){const i={};return rv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(a,(s,o)=>{const h=Pd(o,e.Vc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function v0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Jt||a instanceof ai||a instanceof Cn||a instanceof Ue||a instanceof g0||a instanceof si)}function E0(a,e,i){if(!v0(i)||!nv(i)){const s=lc(i);throw s==="an object"?e.wc(a+" a custom object"):e.wc(a+" "+s)}}function u2(a,e,i){if((e=ys(e))instanceof Ld)return e._internalPath;if(typeof e=="string")return T0(a,e);throw sc("Field path arguments must be of type string or ",a,!1,void 0,i)}const c2=new RegExp("[~\\*/\\[\\]]");function T0(a,e,i){if(e.search(c2)>=0)throw sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Ld(...e.split("."))._internalPath}catch{throw sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function sc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new at(Y.INVALID_ARGUMENT,g+a+v)}function h2(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(jd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class f2 extends A0{data(){return super.data()}}function jd(a,e){return typeof e=="string"?T0(a,e):e instanceof Ld?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zd{}class b0 extends zd{}function m2(a,e,...i){let s=[];e instanceof zd&&s.push(e),s=s.concat(i),function(h){const d=h.filter(v=>v instanceof kd).length,g=h.filter(v=>v instanceof Bd).length;if(d>1||d>0&&g>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class Bd extends b0{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Bd(e,i,s)}_apply(e){const i=this._parse(e);return S0(e._query,i),new pa(e.firestore,e.converter,Kf(e._query,i))}_parse(e){const i=y0(e.firestore);return function(h,d,g,v,_,A,N){let S;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){V_(N,A);const K=[];for(const tt of N)K.push(O_(v,h,tt));S={arrayValue:{values:K}}}else S=O_(v,h,N)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||V_(N,A),S=o2(g,d,N,A==="in"||A==="not-in");return Ee.create(_,A,S)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class kd extends zd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new kd(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Pn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const v of g)S0(d,v),d=Kf(d,v)}(e._query,i),new pa(e.firestore,e.converter,Kf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qd extends b0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new qd(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eo(h,d)}(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Ds(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function g2(a,e="asc"){const i=e,s=jd("orderBy",a);return qd._create(s,i)}function O_(a,e,i){if(typeof(i=ys(i))=="string"){if(i==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ev(e)&&i.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(te.fromString(i));if(!dt.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ky(a,new dt(s))}if(i instanceof Ue)return Ky(a,i._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lc(i)}.`)}function V_(a,e){if(!Array.isArray(a)||a.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S0(a,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class p2{convertValue(e,i="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return fa(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Ju].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>de(d.doubleValue));return new si(h)}convertGeoPoint(e){return new ai(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=cc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const i=Er(e);return new Jt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);qt(qv(s),9688,{name:e});const o=new Wl(s.get(1),s.get(3)),h=new dt(s.popFirst(5));return o.isEqual(i)||Li(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class zu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gs extends A0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(jd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=gs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",gs._jsonSchema={type:Te("string",gs._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class Fu extends gs{data(e={}){return super.data(e)}}class ps{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new zu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Fu(this._firestore,this._userDataWriter,s.key,s,new zu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const v=new Fu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new zu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Fu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new zu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:_2(g.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ps._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}ps._jsonSchemaVersion="firestore/querySnapshot/1.0",ps._jsonSchema={type:Te("string",ps._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class v2 extends p2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}function E2(a){a=Zl(a,pa);const e=Zl(a.firestore,Ec),i=m0(e),s=new v2(e);return d2(a._query),t2(i,a._query).then(o=>new ps(e,s,a,o))}function T2(a){return R0(Zl(a.firestore,Ec),[new _d(a._key,ii.none())])}function A2(a,e){const i=Zl(a.firestore,Ec),s=d0(a),o=y2(a.converter,e);return R0(i,[l2(y0(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then(()=>s)}function R0(a,e){return function(s,o){const h=new pr;return s.asyncQueue.enqueueAndForget(async()=>BS(await JS(s),o,h)),h.promise}(m0(a),e)}(function(e,i=!0){(function(o){Ss=o})(Q1),Ku(new Xl("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Ec(new sA(s.getProvider("auth-internal")),new uA(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(_.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ds(Ly,Uy,e),ds(Ly,Uy,"esm2017")})();var b2="firebase",S2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(b2,S2,"app");const R2={apiKey:"AIzaSyBYJ8aGffq3DoTyx-MKHDLqKTzqJVIrdws",authDomain:"dualgrade.firebaseapp.com",projectId:"dualgrade",storageBucket:"dualgrade.appspot.com",messagingSenderId:"588826913037",appId:"1:588826913037:web:65d0b141a93b8c6233a844"},w2=H_(R2),Hd=n2(w2);async function D2(a,e,i,s,o,h=""){try{const d=Object.values(i).reduce((N,S)=>N+(S||0),0),g=Object.keys(i).length*4,v=Math.round(d/g*100),_={studentName:a,course:e,scores:i,finalGrade:s,feedbackText:o,totalScore:d,percentage:v,createdAt:Jt.now(),updatedAt:Jt.now(),evaluatorName:h},A=await A2(f0(Hd,"evaluations"),_);return console.log("Evaluación guardada con ID:",A.id),A.id}catch(d){throw console.error("Error al guardar evaluación:",d),new Error("No se pudo guardar la evaluación")}}async function w0(){try{const a=m2(f0(Hd,"evaluations"),g2("createdAt","desc")),e=await E2(a),i=[];return e.forEach(s=>{const o=s.data();i.push({id:s.id,studentName:o.studentName,course:o.course,scores:o.scores,finalGrade:typeof o.finalGrade=="number"?o.finalGrade:Number(o.finalGrade),feedbackText:o.feedbackText,totalScore:typeof o.totalScore=="number"?o.totalScore:Number(o.totalScore),percentage:typeof o.percentage=="number"?o.percentage:Number(o.percentage),createdAt:o.createdAt,updatedAt:o.updatedAt,evaluatorName:o.evaluatorName??""})}),i}catch(a){throw console.error("Error al obtener evaluaciones:",a),new Error("No se pudieron cargar las evaluaciones")}}async function N2(a){try{await T2(d0(Hd,"evaluations",a)),console.log("Evaluación eliminada:",a)}catch(e){throw console.error("Error al eliminar evaluación:",e),new Error("No se pudo eliminar la evaluación")}}async function C2(){try{const a=await w0();for(const e of a)e.id&&await N2(e.id);console.log("Todas las evaluaciones han sido eliminadas de Firestore.")}catch(a){console.error("Error clearing evaluations from Firestore:",a)}}const x2=a=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 3h.008v.008H8.25v-.008Zm0 3h.008v.008H8.25v-.008Zm0 3h.008v.008H8.25v-.008Zm.375-12H8.25V4.5h2.25V18M12 4.5h3.75m-3.75 3h3.75m-3.75 3h3.75m-3.75 3h3.75M12 18h3.75"})}),I2=a=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.25 12h.008v.008h-.008V12Zm0 3h.008v.008h-.008V15Zm0 3h.008v.008h-.008V18Z"})}),O2=a=>I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),V2=a=>I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:[I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3.75V16.5a2.25 2.25 0 0 1-2.25 2.25H15v-4.503a3.375 3.375 0 0 0-3.375-3.375H8.25V3.75a2.25 2.25 0 0 1 2.25-2.25h3.75A2.25 2.25 0 0 1 16.5 3.75Z"}),I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 13.5H7.5A2.25 2.25 0 0 0 5.25 15.75V21H10.5V15.75A2.25 2.25 0 0 0 8.25 13.5H9Z"}),I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})]}),M2=a=>I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...a,children:[I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})]}),L2=()=>{const[a,e]=$t.useState(""),[i,s]=$t.useState(""),[o,h]=$t.useState({}),[d,g]=$t.useState(0),[v,_]=$t.useState(null),[A,N]=$t.useState(null),[S,H]=$t.useState(!1),[K,tt]=$t.useState(!1),[J,mt]=$t.useState(void 0),[ut,rt]=$t.useState(null),[Rt,ht]=$t.useState(null),[wt,V]=$t.useState("form"),[b,D]=$t.useState([]),[O,M]=$t.useState(!0),L=$t.useCallback(()=>{M(!0),w0().then(D).finally(()=>M(!1))},[]);$t.useEffect(()=>{L()},[L]);const w=()=>{e(""),s(""),h({}),g(0),_(null),N(null),mt(void 0),tt(!1),rt(null),ht(null)},Ae=$t.useCallback((gt,ue)=>{h(jn=>({...jn,[gt]:ue})),_(null),N(null),mt(void 0),rt(null),ht(null)},[]),ee=$t.useCallback(gt=>{e(gt),rt(null),ht(null)},[]),G=$t.useCallback(gt=>{s(gt),rt(null),ht(null)},[]),et=gt=>{ht(gt),setTimeout(()=>ht(null),3e3)},ot=(gt=!1)=>{if(tt(!0),!a.trim())return rt("El nombre del estudiante es requerido."),!1;if(!i)return rt("El curso del estudiante es requerido."),!1;if(!Nf(o,hr.length))return rt("Todos los indicadores deben ser evaluados para continuar."),!1;if(gt){if(v===null)return rt("Por favor, calcule la nota final primero."),!1;if(!A)return rt("Por favor, genere la retroalimentación IA primero."),!1}return rt(null),!0},jt=$t.useCallback(()=>{if(!ot())return;const gt=cy(o);g(gt);const ue=hy(gt);_(ue),et("Nota calculada exitosamente.")},[o,a,i]),C=$t.useCallback(async()=>{if(ot()){if(v===null){const gt=cy(o);g(gt);const ue=hy(gt);if(_(ue),ue===null){rt("Error al calcular la nota antes de generar retroalimentación.");return}}H(!0),N(null),mt(void 0),ht(null);try{const{feedbackText:gt,groundingMetadata:ue}=await vT(a,o);N(gt),mt(ue),gt.startsWith("Error:")?rt(gt):et("Retroalimentación generada exitosamente.")}catch(gt){console.error("Error in handleGenerateFeedback:",gt),rt("Error al generar retroalimentación. Verifique la consola para más detalles."),N("Error al generar retroalimentación. Verifique la consola para más detalles.")}finally{H(!1)}}},[a,o,v,i]),$=$t.useCallback(async()=>{if(!ot(!0)||v===null||!A){rt("Complete la evaluación, calcule nota y genere retroalimentación antes de guardar.");return}try{await D2(a,i,o,v,A,""),et(`Evaluación para ${a} guardada.`),L()}catch{rt("Error al guardar la evaluación.")}},[a,i,o,v,A,L]),it=$t.useCallback(async()=>{if(!ot(!0)||v===null||!A){rt("Complete la evaluación, calcule nota y genere retroalimentación antes de descargar.");return}const gt=new Date().toLocaleDateString("es-CL");try{await ET({studentName:a,course:i,evaluationDate:gt,scores:o,totalScore:d,finalGrade:v,aiFeedback:A,rubricData:hr,groundingMetadata:J}),et("Informe PDF descargado.")}catch(ue){console.error("Error downloading PDF:",ue),rt("Error al descargar el informe PDF.")}},[a,i,o,d,v,A,J]);$t.useEffect(()=>{a.trim()&&i&&Nf(o,hr.length)&&(ut==="El nombre del estudiante es requerido."||ut==="El curso del estudiante es requerido."||ut==="Todos los indicadores deben ser evaluados para continuar.")&&rt(null)},[a,i,o,ut]);const W=a.trim()&&i&&Nf(o,hr.length),ft=W&&v!==null&&A!==null&&!A.startsWith("Error:"),bt=()=>{V(gt=>gt==="form"?"dashboard":"form"),rt(null),ht(null)},vt=()=>{w(),V("form"),et("Formulario reiniciado para una nueva evaluación.")},me=async()=>{await C2(),D([]),et("Todas las evaluaciones han sido borradas."),L()};return I.jsxs("div",{className:"min-h-screen bg-slate-100 py-8 px-4 sm:px-6 lg:px-8",children:[I.jsxs("header",{className:"mb-10 text-center relative",children:[I.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 mt-4",children:"Evaluación de Presentaciones Duales 🔩"}),I.jsx("p",{className:"mt-2 text-lg text-slate-600",children:"Liceo Industrial de Recoleta"}),I.jsx("div",{className:"absolute top-0 right-0 p-2 sm:p-4",children:I.jsx("button",{onClick:bt,className:"flex items-center px-3 py-2 sm:px-4 sm:py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors duration-150",title:wt==="form"?"Ver Dashboard":"Volver al Formulario",children:wt==="form"?I.jsxs(I.Fragment,{children:[I.jsx(M2,{className:"h-5 w-5 sm:mr-2"}),I.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}):I.jsxs(I.Fragment,{children:[I.jsx(Pf,{className:"h-5 w-5 sm:mr-2"}),I.jsx("span",{className:"hidden sm:inline",children:"Formulario"})]})})})]}),Rt&&I.jsx("div",{className:"max-w-4xl mx-auto mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-md relative",role:"alert",children:I.jsx("span",{className:"block sm:inline",children:Rt})}),ut&&I.jsxs("div",{className:"max-w-4xl mx-auto mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md relative",role:"alert",children:[I.jsx("strong",{className:"font-bold",children:"Error: "}),I.jsx("span",{className:"block sm:inline",children:ut})]}),I.jsx("main",{className:"max-w-4xl mx-auto",children:wt==="form"?I.jsxs(I.Fragment,{children:[I.jsx(fT,{studentName:a,onStudentNameChange:ee,course:i,onCourseChange:G,scores:o,onScoreChange:Ae,isSubmitted:K}),I.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("button",{onClick:jt,disabled:S||!W,className:"w-full flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-slate-400 transition-colors duration-150",children:[I.jsx(x2,{className:"h-5 w-5 mr-2"}),"Calcular Nota"]}),I.jsxs("button",{onClick:C,disabled:S||!W||v===null,className:"w-full flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:bg-slate-400 transition-colors duration-150",children:[I.jsx(I2,{className:"h-5 w-5 mr-2"}),S?"Generando IA...":"Retroalimentación IA"]})]}),v!==null&&I.jsx(dT,{totalScore:d,finalGrade:v}),I.jsx(mT,{aiFeedback:A,isLoadingFeedback:S,groundingMetadata:J}),ft&&I.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("button",{onClick:$,className:"w-full flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-150",children:[I.jsx(V2,{className:"h-5 w-5 mr-2"}),"Guardar Evaluación"]}),I.jsxs("button",{onClick:it,className:"w-full flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-150",children:[I.jsx(O2,{className:"h-5 w-5 mr-2"}),"Descargar Informe (PDF)"]})]}),I.jsx("div",{className:"mt-8 text-center",children:I.jsx("button",{onClick:vt,className:"px-6 py-3 border border-slate-300 text-base font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-150",children:"Limpiar y Nueva Evaluación"})})]}):I.jsx(yT,{evaluations:b,onBackToForm:bt,onClearAll:me,isLoading:O})}),I.jsx("footer",{className:"text-center mt-12 py-6 border-t border-slate-300",children:I.jsxs("p",{className:"text-sm text-slate-500",children:["© ",new Date().getFullYear()," Liceo Industrial de Recoleta. Herramienta de Evaluación."]})}),I.jsx("div",{id:"pdf-report-content",style:{position:"absolute",left:"-9999px",width:"0px",height:"0px",overflow:"hidden"}})]})},D0=document.getElementById("root");if(!D0)throw new Error("Could not find root element to mount to");const U2=uT.createRoot(D0);U2.render(I.jsx(eT.StrictMode,{children:I.jsx(L2,{})}));
